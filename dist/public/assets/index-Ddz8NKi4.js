var Xm=e=>{throw TypeError(e)};var Hu=(e,t,r)=>t.has(e)||Xm("Cannot "+r);var j=(e,t,r)=>(Hu(e,t,"read from private field"),r?r.call(e):t.get(e)),se=(e,t,r)=>t.has(e)?Xm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),G=(e,t,r,n)=>(Hu(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),de=(e,t,r)=>(Hu(e,t,"access private method"),r);var pl=(e,t,r,n)=>({set _(s){G(e,t,s,r)},get _(){return j(e,t,n)}});function eN(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Zv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qv={exports:{}},lu={},Gv={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rl=Symbol.for("react.element"),tN=Symbol.for("react.portal"),rN=Symbol.for("react.fragment"),nN=Symbol.for("react.strict_mode"),sN=Symbol.for("react.profiler"),iN=Symbol.for("react.provider"),oN=Symbol.for("react.context"),aN=Symbol.for("react.forward_ref"),lN=Symbol.for("react.suspense"),cN=Symbol.for("react.memo"),uN=Symbol.for("react.lazy"),Jm=Symbol.iterator;function dN(e){return e===null||typeof e!="object"?null:(e=Jm&&e[Jm]||e["@@iterator"],typeof e=="function"?e:null)}var Yv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xv=Object.assign,Jv={};function bo(e,t,r){this.props=e,this.context=t,this.refs=Jv,this.updater=r||Yv}bo.prototype.isReactComponent={};bo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ey(){}ey.prototype=bo.prototype;function ph(e,t,r){this.props=e,this.context=t,this.refs=Jv,this.updater=r||Yv}var gh=ph.prototype=new ey;gh.constructor=ph;Xv(gh,bo.prototype);gh.isPureReactComponent=!0;var ep=Array.isArray,ty=Object.prototype.hasOwnProperty,vh={current:null},ry={key:!0,ref:!0,__self:!0,__source:!0};function ny(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)ty.call(t,n)&&!ry.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:rl,type:e,key:i,ref:a,props:s,_owner:vh.current}}function fN(e,t){return{$$typeof:rl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yh(e){return typeof e=="object"&&e!==null&&e.$$typeof===rl}function hN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var tp=/\/+/g;function Qu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hN(""+e.key):t.toString(36)}function $l(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case rl:case tN:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Qu(a,0):n,ep(s)?(r="",e!=null&&(r=e.replace(tp,"$&/")+"/"),$l(s,t,r,"",function(u){return u})):s!=null&&(yh(s)&&(s=fN(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(tp,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",ep(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Qu(i,l);a+=$l(i,t,r,c,s)}else if(c=dN(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Qu(i,l++),a+=$l(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function gl(e,t,r){if(e==null)return e;var n=[],s=0;return $l(e,n,"","",function(i){return t.call(r,i,s++)}),n}function mN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bt={current:null},Ul={transition:null},pN={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Ul,ReactCurrentOwner:vh};function sy(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:gl,forEach:function(e,t,r){gl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return gl(e,function(){t++}),t},toArray:function(e){return gl(e,function(t){return t})||[]},only:function(e){if(!yh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=bo;me.Fragment=rN;me.Profiler=sN;me.PureComponent=ph;me.StrictMode=nN;me.Suspense=lN;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pN;me.act=sy;me.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Xv({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=vh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ty.call(t,c)&&!ry.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:rl,type:e.type,key:s,ref:i,props:n,_owner:a}};me.createContext=function(e){return e={$$typeof:oN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:iN,_context:e},e.Consumer=e};me.createElement=ny;me.createFactory=function(e){var t=ny.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:aN,render:e}};me.isValidElement=yh;me.lazy=function(e){return{$$typeof:uN,_payload:{_status:-1,_result:e},_init:mN}};me.memo=function(e,t){return{$$typeof:cN,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=Ul.transition;Ul.transition={};try{e()}finally{Ul.transition=t}};me.unstable_act=sy;me.useCallback=function(e,t){return Bt.current.useCallback(e,t)};me.useContext=function(e){return Bt.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return Bt.current.useDeferredValue(e)};me.useEffect=function(e,t){return Bt.current.useEffect(e,t)};me.useId=function(){return Bt.current.useId()};me.useImperativeHandle=function(e,t,r){return Bt.current.useImperativeHandle(e,t,r)};me.useInsertionEffect=function(e,t){return Bt.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return Bt.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return Bt.current.useMemo(e,t)};me.useReducer=function(e,t,r){return Bt.current.useReducer(e,t,r)};me.useRef=function(e){return Bt.current.useRef(e)};me.useState=function(e){return Bt.current.useState(e)};me.useSyncExternalStore=function(e,t,r){return Bt.current.useSyncExternalStore(e,t,r)};me.useTransition=function(){return Bt.current.useTransition()};me.version="18.3.1";Gv.exports=me;var m=Gv.exports;const ot=Zv(m),iy=eN({__proto__:null,default:ot},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gN=m,vN=Symbol.for("react.element"),yN=Symbol.for("react.fragment"),xN=Object.prototype.hasOwnProperty,wN=gN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bN={key:!0,ref:!0,__self:!0,__source:!0};function oy(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)xN.call(t,n)&&!bN.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:vN,type:e,key:i,ref:a,props:s,_owner:wN.current}}lu.Fragment=yN;lu.jsx=oy;lu.jsxs=oy;qv.exports=lu;var o=qv.exports,ay={exports:{}},ar={},ly={exports:{}},cy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,z){var A=I.length;I.push(z);e:for(;0<A;){var le=A-1>>>1,we=I[le];if(0<s(we,z))I[le]=z,I[A]=we,A=le;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var z=I[0],A=I.pop();if(A!==z){I[0]=A;e:for(var le=0,we=I.length,ht=we>>>1;le<ht;){var mt=2*(le+1)-1,Pt=I[mt],Oe=mt+1,Ae=I[Oe];if(0>s(Pt,A))Oe<we&&0>s(Ae,Pt)?(I[le]=Ae,I[Oe]=A,le=Oe):(I[le]=Pt,I[mt]=A,le=mt);else if(Oe<we&&0>s(Ae,A))I[le]=Ae,I[Oe]=A,le=Oe;else break e}}return z}function s(I,z){var A=I.sortIndex-z.sortIndex;return A!==0?A:I.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,g=!1,y=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=I)n(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=r(u)}}function N(I){if(x=!1,w(I),!y)if(r(c)!==null)y=!0,H(_);else{var z=r(u);z!==null&&ie(N,z.startTime-I)}}function _(I,z){y=!1,x&&(x=!1,v(R),R=-1),g=!0;var A=h;try{for(w(z),f=r(c);f!==null&&(!(f.expirationTime>z)||I&&!Q());){var le=f.callback;if(typeof le=="function"){f.callback=null,h=f.priorityLevel;var we=le(f.expirationTime<=z);z=e.unstable_now(),typeof we=="function"?f.callback=we:f===r(c)&&n(c),w(z)}else n(c);f=r(c)}if(f!==null)var ht=!0;else{var mt=r(u);mt!==null&&ie(N,mt.startTime-z),ht=!1}return ht}finally{f=null,h=A,g=!1}}var E=!1,C=null,R=-1,O=5,M=-1;function Q(){return!(e.unstable_now()-M<O)}function L(){if(C!==null){var I=e.unstable_now();M=I;var z=!0;try{z=C(!0,I)}finally{z?K():(E=!1,C=null)}}else E=!1}var K;if(typeof p=="function")K=function(){p(L)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,re=P.port2;P.port1.onmessage=L,K=function(){re.postMessage(null)}}else K=function(){S(L,0)};function H(I){C=I,E||(E=!0,K())}function ie(I,z){R=S(function(){I(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,H(_))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var A=h;h=z;try{return I()}finally{h=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var A=h;h=I;try{return z()}finally{h=A}},e.unstable_scheduleCallback=function(I,z,A){var le=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?le+A:le):A=le,I){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=A+we,I={id:d++,callback:z,priorityLevel:I,startTime:A,expirationTime:we,sortIndex:-1},A>le?(I.sortIndex=A,t(u,I),r(c)===null&&I===r(u)&&(x?(v(R),R=-1):x=!0,ie(N,A-le))):(I.sortIndex=we,t(c,I),y||g||(y=!0,H(_))),I},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(I){var z=h;return function(){var A=h;h=z;try{return I.apply(this,arguments)}finally{h=A}}}})(cy);ly.exports=cy;var NN=ly.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN=m,or=NN;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uy=new Set,pa={};function li(e,t){io(e,t),io(e+"Capture",t)}function io(e,t){for(pa[e]=t,e=0;e<t.length;e++)uy.add(t[e])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fd=Object.prototype.hasOwnProperty,_N=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rp={},np={};function jN(e){return Fd.call(np,e)?!0:Fd.call(rp,e)?!1:_N.test(e)?np[e]=!0:(rp[e]=!0,!1)}function kN(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function EN(e,t,r,n){if(t===null||typeof t>"u"||kN(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Wt(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nt[e]=new Wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nt[t]=new Wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nt[e]=new Wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nt[e]=new Wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nt[e]=new Wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nt[e]=new Wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nt[e]=new Wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nt[e]=new Wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nt[e]=new Wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var xh=/[\-:]([a-z])/g;function wh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xh,wh);Nt[t]=new Wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xh,wh);Nt[t]=new Wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xh,wh);Nt[t]=new Wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nt[e]=new Wt(e,1,!1,e.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nt[e]=new Wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function bh(e,t,r,n){var s=Nt.hasOwnProperty(t)?Nt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(EN(t,r,s,n)&&(r=null),n||s===null?jN(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Mn=SN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vl=Symbol.for("react.element"),vi=Symbol.for("react.portal"),yi=Symbol.for("react.fragment"),Nh=Symbol.for("react.strict_mode"),zd=Symbol.for("react.profiler"),dy=Symbol.for("react.provider"),fy=Symbol.for("react.context"),Sh=Symbol.for("react.forward_ref"),$d=Symbol.for("react.suspense"),Ud=Symbol.for("react.suspense_list"),_h=Symbol.for("react.memo"),Bn=Symbol.for("react.lazy"),hy=Symbol.for("react.offscreen"),sp=Symbol.iterator;function Ao(e){return e===null||typeof e!="object"?null:(e=sp&&e[sp]||e["@@iterator"],typeof e=="function"?e:null)}var We=Object.assign,Ku;function Wo(e){if(Ku===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ku=t&&t[1]||""}return`
`+Ku+e}var Zu=!1;function qu(e,t){if(!e||Zu)return"";Zu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Zu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Wo(e):""}function CN(e){switch(e.tag){case 5:return Wo(e.type);case 16:return Wo("Lazy");case 13:return Wo("Suspense");case 19:return Wo("SuspenseList");case 0:case 2:case 15:return e=qu(e.type,!1),e;case 11:return e=qu(e.type.render,!1),e;case 1:return e=qu(e.type,!0),e;default:return""}}function Vd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yi:return"Fragment";case vi:return"Portal";case zd:return"Profiler";case Nh:return"StrictMode";case $d:return"Suspense";case Ud:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fy:return(e.displayName||"Context")+".Consumer";case dy:return(e._context.displayName||"Context")+".Provider";case Sh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _h:return t=e.displayName||null,t!==null?t:Vd(e.type)||"Memo";case Bn:t=e._payload,e=e._init;try{return Vd(e(t))}catch{}}return null}function TN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vd(t);case 8:return t===Nh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ys(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function my(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function RN(e){var t=my(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yl(e){e._valueTracker||(e._valueTracker=RN(e))}function py(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=my(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function fc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bd(e,t){var r=t.checked;return We({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ip(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ys(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gy(e,t){t=t.checked,t!=null&&bh(e,"checked",t,!1)}function Wd(e,t){gy(e,t);var r=ys(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hd(e,t.type,r):t.hasOwnProperty("defaultValue")&&Hd(e,t.type,ys(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function op(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Hd(e,t,r){(t!=="number"||fc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ho=Array.isArray;function Ri(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ys(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Qd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return We({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ap(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(B(92));if(Ho(r)){if(1<r.length)throw Error(B(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ys(r)}}function vy(e,t){var r=ys(t.value),n=ys(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function lp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xl,xy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xl=xl||document.createElement("div"),xl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ga(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AN=["Webkit","ms","Moz","O"];Object.keys(Yo).forEach(function(e){AN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yo[t]=Yo[e]})});function wy(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Yo.hasOwnProperty(e)&&Yo[e]?(""+t).trim():t+"px"}function by(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=wy(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var PN=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zd(e,t){if(t){if(PN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function qd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gd=null;function jh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yd=null,Ai=null,Pi=null;function cp(e){if(e=il(e)){if(typeof Yd!="function")throw Error(B(280));var t=e.stateNode;t&&(t=hu(t),Yd(e.stateNode,e.type,t))}}function Ny(e){Ai?Pi?Pi.push(e):Pi=[e]:Ai=e}function Sy(){if(Ai){var e=Ai,t=Pi;if(Pi=Ai=null,cp(e),t)for(e=0;e<t.length;e++)cp(t[e])}}function _y(e,t){return e(t)}function jy(){}var Gu=!1;function ky(e,t,r){if(Gu)return e(t,r);Gu=!0;try{return _y(e,t,r)}finally{Gu=!1,(Ai!==null||Pi!==null)&&(jy(),Sy())}}function va(e,t){var r=e.stateNode;if(r===null)return null;var n=hu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(B(231,t,typeof r));return r}var Xd=!1;if(En)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){Xd=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{Xd=!1}function IN(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Xo=!1,hc=null,mc=!1,Jd=null,ON={onError:function(e){Xo=!0,hc=e}};function MN(e,t,r,n,s,i,a,l,c){Xo=!1,hc=null,IN.apply(ON,arguments)}function LN(e,t,r,n,s,i,a,l,c){if(MN.apply(this,arguments),Xo){if(Xo){var u=hc;Xo=!1,hc=null}else throw Error(B(198));mc||(mc=!0,Jd=u)}}function ci(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ey(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function up(e){if(ci(e)!==e)throw Error(B(188))}function DN(e){var t=e.alternate;if(!t){if(t=ci(e),t===null)throw Error(B(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return up(s),e;if(i===n)return up(s),t;i=i.sibling}throw Error(B(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?e:t}function Cy(e){return e=DN(e),e!==null?Ty(e):null}function Ty(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ty(e);if(t!==null)return t;e=e.sibling}return null}var Ry=or.unstable_scheduleCallback,dp=or.unstable_cancelCallback,FN=or.unstable_shouldYield,zN=or.unstable_requestPaint,Xe=or.unstable_now,$N=or.unstable_getCurrentPriorityLevel,kh=or.unstable_ImmediatePriority,Ay=or.unstable_UserBlockingPriority,pc=or.unstable_NormalPriority,UN=or.unstable_LowPriority,Py=or.unstable_IdlePriority,cu=null,Jr=null;function VN(e){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(cu,e,void 0,(e.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:HN,BN=Math.log,WN=Math.LN2;function HN(e){return e>>>=0,e===0?32:31-(BN(e)/WN|0)|0}var wl=64,bl=4194304;function Qo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Qo(l):(i&=a,i!==0&&(n=Qo(i)))}else a=r&~s,a!==0?n=Qo(a):i!==0&&(n=Qo(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ir(t),s=1<<r,n|=e[r],t&=~s;return n}function QN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ir(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=QN(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function ef(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Iy(){var e=wl;return wl<<=1,!(wl&4194240)&&(wl=64),e}function Yu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function nl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ir(t),e[t]=r}function ZN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ir(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Eh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ir(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var je=0;function Oy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var My,Ch,Ly,Dy,Fy,tf=!1,Nl=[],ls=null,cs=null,us=null,ya=new Map,xa=new Map,Hn=[],qN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fp(e,t){switch(e){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":ya.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(t.pointerId)}}function Io(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=il(t),t!==null&&Ch(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function GN(e,t,r,n,s){switch(t){case"focusin":return ls=Io(ls,e,t,r,n,s),!0;case"dragenter":return cs=Io(cs,e,t,r,n,s),!0;case"mouseover":return us=Io(us,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ya.set(i,Io(ya.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,xa.set(i,Io(xa.get(i)||null,e,t,r,n,s)),!0}return!1}function zy(e){var t=Os(e.target);if(t!==null){var r=ci(t);if(r!==null){if(t=r.tag,t===13){if(t=Ey(r),t!==null){e.blockedOn=t,Fy(e.priority,function(){Ly(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=rf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Gd=n,r.target.dispatchEvent(n),Gd=null}else return t=il(r),t!==null&&Ch(t),e.blockedOn=r,!1;t.shift()}return!0}function hp(e,t,r){Vl(e)&&r.delete(t)}function YN(){tf=!1,ls!==null&&Vl(ls)&&(ls=null),cs!==null&&Vl(cs)&&(cs=null),us!==null&&Vl(us)&&(us=null),ya.forEach(hp),xa.forEach(hp)}function Oo(e,t){e.blockedOn===t&&(e.blockedOn=null,tf||(tf=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,YN)))}function wa(e){function t(s){return Oo(s,e)}if(0<Nl.length){Oo(Nl[0],e);for(var r=1;r<Nl.length;r++){var n=Nl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ls!==null&&Oo(ls,e),cs!==null&&Oo(cs,e),us!==null&&Oo(us,e),ya.forEach(t),xa.forEach(t),r=0;r<Hn.length;r++)n=Hn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Hn.length&&(r=Hn[0],r.blockedOn===null);)zy(r),r.blockedOn===null&&Hn.shift()}var Ii=Mn.ReactCurrentBatchConfig,vc=!0;function XN(e,t,r,n){var s=je,i=Ii.transition;Ii.transition=null;try{je=1,Th(e,t,r,n)}finally{je=s,Ii.transition=i}}function JN(e,t,r,n){var s=je,i=Ii.transition;Ii.transition=null;try{je=4,Th(e,t,r,n)}finally{je=s,Ii.transition=i}}function Th(e,t,r,n){if(vc){var s=rf(e,t,r,n);if(s===null)ad(e,t,n,yc,r),fp(e,n);else if(GN(s,e,t,r,n))n.stopPropagation();else if(fp(e,n),t&4&&-1<qN.indexOf(e)){for(;s!==null;){var i=il(s);if(i!==null&&My(i),i=rf(e,t,r,n),i===null&&ad(e,t,n,yc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ad(e,t,n,null,r)}}var yc=null;function rf(e,t,r,n){if(yc=null,e=jh(n),e=Os(e),e!==null)if(t=ci(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ey(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yc=e,null}function $y(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($N()){case kh:return 1;case Ay:return 4;case pc:case UN:return 16;case Py:return 536870912;default:return 16}default:return 16}}var os=null,Rh=null,Bl=null;function Uy(){if(Bl)return Bl;var e,t=Rh,r=t.length,n,s="value"in os?os.value:os.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Bl=s.slice(e,1<n?1-n:void 0)}function Wl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sl(){return!0}function mp(){return!1}function lr(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Sl:mp,this.isPropagationStopped=mp,this}return We(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),t}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ah=lr(No),sl=We({},No,{view:0,detail:0}),eS=lr(sl),Xu,Ju,Mo,uu=We({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ph,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mo&&(Mo&&e.type==="mousemove"?(Xu=e.screenX-Mo.screenX,Ju=e.screenY-Mo.screenY):Ju=Xu=0,Mo=e),Xu)},movementY:function(e){return"movementY"in e?e.movementY:Ju}}),pp=lr(uu),tS=We({},uu,{dataTransfer:0}),rS=lr(tS),nS=We({},sl,{relatedTarget:0}),ed=lr(nS),sS=We({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),iS=lr(sS),oS=We({},No,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aS=lr(oS),lS=We({},No,{data:0}),gp=lr(lS),cS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dS[e])?!!t[e]:!1}function Ph(){return fS}var hS=We({},sl,{key:function(e){if(e.key){var t=cS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ph,charCode:function(e){return e.type==="keypress"?Wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mS=lr(hS),pS=We({},uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vp=lr(pS),gS=We({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ph}),vS=lr(gS),yS=We({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),xS=lr(yS),wS=We({},uu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bS=lr(wS),NS=[9,13,27,32],Ih=En&&"CompositionEvent"in window,Jo=null;En&&"documentMode"in document&&(Jo=document.documentMode);var SS=En&&"TextEvent"in window&&!Jo,Vy=En&&(!Ih||Jo&&8<Jo&&11>=Jo),yp=" ",xp=!1;function By(e,t){switch(e){case"keyup":return NS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xi=!1;function _S(e,t){switch(e){case"compositionend":return Wy(t);case"keypress":return t.which!==32?null:(xp=!0,yp);case"textInput":return e=t.data,e===yp&&xp?null:e;default:return null}}function jS(e,t){if(xi)return e==="compositionend"||!Ih&&By(e,t)?(e=Uy(),Bl=Rh=os=null,xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vy&&t.locale!=="ko"?null:t.data;default:return null}}var kS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kS[e.type]:t==="textarea"}function Hy(e,t,r,n){Ny(n),t=xc(t,"onChange"),0<t.length&&(r=new Ah("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ea=null,ba=null;function ES(e){rx(e,0)}function du(e){var t=Ni(e);if(py(t))return e}function CS(e,t){if(e==="change")return t}var Qy=!1;if(En){var td;if(En){var rd="oninput"in document;if(!rd){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),rd=typeof bp.oninput=="function"}td=rd}else td=!1;Qy=td&&(!document.documentMode||9<document.documentMode)}function Np(){ea&&(ea.detachEvent("onpropertychange",Ky),ba=ea=null)}function Ky(e){if(e.propertyName==="value"&&du(ba)){var t=[];Hy(t,ba,e,jh(e)),ky(ES,t)}}function TS(e,t,r){e==="focusin"?(Np(),ea=t,ba=r,ea.attachEvent("onpropertychange",Ky)):e==="focusout"&&Np()}function RS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return du(ba)}function AS(e,t){if(e==="click")return du(t)}function PS(e,t){if(e==="input"||e==="change")return du(t)}function IS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lr=typeof Object.is=="function"?Object.is:IS;function Na(e,t){if(Lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Fd.call(t,s)||!Lr(e[s],t[s]))return!1}return!0}function Sp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _p(e,t){var r=Sp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sp(r)}}function Zy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qy(){for(var e=window,t=fc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fc(e.document)}return t}function Oh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function OS(e){var t=qy(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Zy(r.ownerDocument.documentElement,r)){if(n!==null&&Oh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=_p(r,i);var a=_p(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var MS=En&&"documentMode"in document&&11>=document.documentMode,wi=null,nf=null,ta=null,sf=!1;function jp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sf||wi==null||wi!==fc(n)||(n=wi,"selectionStart"in n&&Oh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ta&&Na(ta,n)||(ta=n,n=xc(nf,"onSelect"),0<n.length&&(t=new Ah("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=wi)))}function _l(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var bi={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionend:_l("Transition","TransitionEnd")},nd={},Gy={};En&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function fu(e){if(nd[e])return nd[e];if(!bi[e])return e;var t=bi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Gy)return nd[e]=t[r];return e}var Yy=fu("animationend"),Xy=fu("animationiteration"),Jy=fu("animationstart"),ex=fu("transitionend"),tx=new Map,kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Es(e,t){tx.set(e,t),li(t,[e])}for(var sd=0;sd<kp.length;sd++){var id=kp[sd],LS=id.toLowerCase(),DS=id[0].toUpperCase()+id.slice(1);Es(LS,"on"+DS)}Es(Yy,"onAnimationEnd");Es(Xy,"onAnimationIteration");Es(Jy,"onAnimationStart");Es("dblclick","onDoubleClick");Es("focusin","onFocus");Es("focusout","onBlur");Es(ex,"onTransitionEnd");io("onMouseEnter",["mouseout","mouseover"]);io("onMouseLeave",["mouseout","mouseover"]);io("onPointerEnter",["pointerout","pointerover"]);io("onPointerLeave",["pointerout","pointerover"]);li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));li("onBeforeInput",["compositionend","keypress","textInput","paste"]);li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ko));function Ep(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,LN(n,t,void 0,e),e.currentTarget=null}function rx(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Ep(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Ep(s,l,u),i=c}}}if(mc)throw e=Jd,mc=!1,Jd=null,e}function Le(e,t){var r=t[uf];r===void 0&&(r=t[uf]=new Set);var n=e+"__bubble";r.has(n)||(nx(t,e,2,!1),r.add(n))}function od(e,t,r){var n=0;t&&(n|=4),nx(r,e,n,t)}var jl="_reactListening"+Math.random().toString(36).slice(2);function Sa(e){if(!e[jl]){e[jl]=!0,uy.forEach(function(r){r!=="selectionchange"&&(FS.has(r)||od(r,!1,e),od(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jl]||(t[jl]=!0,od("selectionchange",!1,t))}}function nx(e,t,r,n){switch($y(t)){case 1:var s=XN;break;case 4:s=JN;break;default:s=Th}r=s.bind(null,t,r,e),s=void 0,!Xd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ad(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Os(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}ky(function(){var u=i,d=jh(r),f=[];e:{var h=tx.get(e);if(h!==void 0){var g=Ah,y=e;switch(e){case"keypress":if(Wl(r)===0)break e;case"keydown":case"keyup":g=mS;break;case"focusin":y="focus",g=ed;break;case"focusout":y="blur",g=ed;break;case"beforeblur":case"afterblur":g=ed;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=rS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=vS;break;case Yy:case Xy:case Jy:g=iS;break;case ex:g=xS;break;case"scroll":g=eS;break;case"wheel":g=bS;break;case"copy":case"cut":case"paste":g=aS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=vp}var x=(t&4)!==0,S=!x&&e==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var p=u,w;p!==null;){w=p;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,v!==null&&(N=va(p,v),N!=null&&x.push(_a(p,N,w)))),S)break;p=p.return}0<x.length&&(h=new g(h,y,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==Gd&&(y=r.relatedTarget||r.fromElement)&&(Os(y)||y[Cn]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=u,y=y?Os(y):null,y!==null&&(S=ci(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(x=pp,N="onMouseLeave",v="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=vp,N="onPointerLeave",v="onPointerEnter",p="pointer"),S=g==null?h:Ni(g),w=y==null?h:Ni(y),h=new x(N,p+"leave",g,r,d),h.target=S,h.relatedTarget=w,N=null,Os(d)===u&&(x=new x(v,p+"enter",y,r,d),x.target=w,x.relatedTarget=S,N=x),S=N,g&&y)t:{for(x=g,v=y,p=0,w=x;w;w=di(w))p++;for(w=0,N=v;N;N=di(N))w++;for(;0<p-w;)x=di(x),p--;for(;0<w-p;)v=di(v),w--;for(;p--;){if(x===v||v!==null&&x===v.alternate)break t;x=di(x),v=di(v)}x=null}else x=null;g!==null&&Cp(f,h,g,x,!1),y!==null&&S!==null&&Cp(f,S,y,x,!0)}}e:{if(h=u?Ni(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var _=CS;else if(wp(h))if(Qy)_=PS;else{_=RS;var E=TS}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=AS);if(_&&(_=_(e,u))){Hy(f,_,r,d);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Hd(h,"number",h.value)}switch(E=u?Ni(u):window,e){case"focusin":(wp(E)||E.contentEditable==="true")&&(wi=E,nf=u,ta=null);break;case"focusout":ta=nf=wi=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,jp(f,r,d);break;case"selectionchange":if(MS)break;case"keydown":case"keyup":jp(f,r,d)}var C;if(Ih)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else xi?By(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Vy&&r.locale!=="ko"&&(xi||R!=="onCompositionStart"?R==="onCompositionEnd"&&xi&&(C=Uy()):(os=d,Rh="value"in os?os.value:os.textContent,xi=!0)),E=xc(u,R),0<E.length&&(R=new gp(R,e,null,r,d),f.push({event:R,listeners:E}),C?R.data=C:(C=Wy(r),C!==null&&(R.data=C)))),(C=SS?_S(e,r):jS(e,r))&&(u=xc(u,"onBeforeInput"),0<u.length&&(d=new gp("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}rx(f,t)})}function _a(e,t,r){return{instance:e,listener:t,currentTarget:r}}function xc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=va(e,r),i!=null&&n.unshift(_a(e,i,s)),i=va(e,t),i!=null&&n.push(_a(e,i,s))),e=e.return}return n}function di(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cp(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=va(r,i),c!=null&&a.unshift(_a(r,c,l))):s||(c=va(r,i),c!=null&&a.push(_a(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var zS=/\r\n?/g,$S=/\u0000|\uFFFD/g;function Tp(e){return(typeof e=="string"?e:""+e).replace(zS,`
`).replace($S,"")}function kl(e,t,r){if(t=Tp(t),Tp(e)!==t&&r)throw Error(B(425))}function wc(){}var of=null,af=null;function lf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cf=typeof setTimeout=="function"?setTimeout:void 0,US=typeof clearTimeout=="function"?clearTimeout:void 0,Rp=typeof Promise=="function"?Promise:void 0,VS=typeof queueMicrotask=="function"?queueMicrotask:typeof Rp<"u"?function(e){return Rp.resolve(null).then(e).catch(BS)}:cf;function BS(e){setTimeout(function(){throw e})}function ld(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),wa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);wa(t)}function ds(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ap(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var So=Math.random().toString(36).slice(2),Zr="__reactFiber$"+So,ja="__reactProps$"+So,Cn="__reactContainer$"+So,uf="__reactEvents$"+So,WS="__reactListeners$"+So,HS="__reactHandles$"+So;function Os(e){var t=e[Zr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Cn]||r[Zr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ap(e);e!==null;){if(r=e[Zr])return r;e=Ap(e)}return t}e=r,r=e.parentNode}return null}function il(e){return e=e[Zr]||e[Cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ni(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function hu(e){return e[ja]||null}var df=[],Si=-1;function Cs(e){return{current:e}}function De(e){0>Si||(e.current=df[Si],df[Si]=null,Si--)}function Ie(e,t){Si++,df[Si]=e.current,e.current=t}var xs={},Rt=Cs(xs),Gt=Cs(!1),Gs=xs;function oo(e,t){var r=e.type.contextTypes;if(!r)return xs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Yt(e){return e=e.childContextTypes,e!=null}function bc(){De(Gt),De(Rt)}function Pp(e,t,r){if(Rt.current!==xs)throw Error(B(168));Ie(Rt,t),Ie(Gt,r)}function sx(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(B(108,TN(e)||"Unknown",s));return We({},r,n)}function Nc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xs,Gs=Rt.current,Ie(Rt,e),Ie(Gt,Gt.current),!0}function Ip(e,t,r){var n=e.stateNode;if(!n)throw Error(B(169));r?(e=sx(e,t,Gs),n.__reactInternalMemoizedMergedChildContext=e,De(Gt),De(Rt),Ie(Rt,e)):De(Gt),Ie(Gt,r)}var vn=null,mu=!1,cd=!1;function ix(e){vn===null?vn=[e]:vn.push(e)}function QS(e){mu=!0,ix(e)}function Ts(){if(!cd&&vn!==null){cd=!0;var e=0,t=je;try{var r=vn;for(je=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}vn=null,mu=!1}catch(s){throw vn!==null&&(vn=vn.slice(e+1)),Ry(kh,Ts),s}finally{je=t,cd=!1}}return null}var _i=[],ji=0,Sc=null,_c=0,dr=[],fr=0,Ys=null,bn=1,Nn="";function Ps(e,t){_i[ji++]=_c,_i[ji++]=Sc,Sc=e,_c=t}function ox(e,t,r){dr[fr++]=bn,dr[fr++]=Nn,dr[fr++]=Ys,Ys=e;var n=bn;e=Nn;var s=32-Ir(n)-1;n&=~(1<<s),r+=1;var i=32-Ir(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,bn=1<<32-Ir(t)+s|r<<s|n,Nn=i+e}else bn=1<<i|r<<s|n,Nn=e}function Mh(e){e.return!==null&&(Ps(e,1),ox(e,1,0))}function Lh(e){for(;e===Sc;)Sc=_i[--ji],_i[ji]=null,_c=_i[--ji],_i[ji]=null;for(;e===Ys;)Ys=dr[--fr],dr[fr]=null,Nn=dr[--fr],dr[fr]=null,bn=dr[--fr],dr[fr]=null}var nr=null,rr=null,Fe=!1,Er=null;function ax(e,t){var r=hr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Op(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nr=e,rr=ds(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nr=e,rr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ys!==null?{id:bn,overflow:Nn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=hr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,nr=e,rr=null,!0):!1;default:return!1}}function ff(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hf(e){if(Fe){var t=rr;if(t){var r=t;if(!Op(e,t)){if(ff(e))throw Error(B(418));t=ds(r.nextSibling);var n=nr;t&&Op(e,t)?ax(n,r):(e.flags=e.flags&-4097|2,Fe=!1,nr=e)}}else{if(ff(e))throw Error(B(418));e.flags=e.flags&-4097|2,Fe=!1,nr=e}}}function Mp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nr=e}function El(e){if(e!==nr)return!1;if(!Fe)return Mp(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lf(e.type,e.memoizedProps)),t&&(t=rr)){if(ff(e))throw lx(),Error(B(418));for(;t;)ax(e,t),t=ds(t.nextSibling)}if(Mp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){rr=ds(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}rr=null}}else rr=nr?ds(e.stateNode.nextSibling):null;return!0}function lx(){for(var e=rr;e;)e=ds(e.nextSibling)}function ao(){rr=nr=null,Fe=!1}function Dh(e){Er===null?Er=[e]:Er.push(e)}var KS=Mn.ReactCurrentBatchConfig;function Lo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var n=r.stateNode}if(!n)throw Error(B(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,e))}return e}function Cl(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lp(e){var t=e._init;return t(e._payload)}function cx(e){function t(v,p){if(e){var w=v.deletions;w===null?(v.deletions=[p],v.flags|=16):w.push(p)}}function r(v,p){if(!e)return null;for(;p!==null;)t(v,p),p=p.sibling;return null}function n(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function s(v,p){return v=ps(v,p),v.index=0,v.sibling=null,v}function i(v,p,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<p?(v.flags|=2,p):w):(v.flags|=2,p)):(v.flags|=1048576,p)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,p,w,N){return p===null||p.tag!==6?(p=gd(w,v.mode,N),p.return=v,p):(p=s(p,w),p.return=v,p)}function c(v,p,w,N){var _=w.type;return _===yi?d(v,p,w.props.children,N,w.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Bn&&Lp(_)===p.type)?(N=s(p,w.props),N.ref=Lo(v,p,w),N.return=v,N):(N=Yl(w.type,w.key,w.props,null,v.mode,N),N.ref=Lo(v,p,w),N.return=v,N)}function u(v,p,w,N){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=vd(w,v.mode,N),p.return=v,p):(p=s(p,w.children||[]),p.return=v,p)}function d(v,p,w,N,_){return p===null||p.tag!==7?(p=Zs(w,v.mode,N,_),p.return=v,p):(p=s(p,w),p.return=v,p)}function f(v,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=gd(""+p,v.mode,w),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case vl:return w=Yl(p.type,p.key,p.props,null,v.mode,w),w.ref=Lo(v,null,p),w.return=v,w;case vi:return p=vd(p,v.mode,w),p.return=v,p;case Bn:var N=p._init;return f(v,N(p._payload),w)}if(Ho(p)||Ao(p))return p=Zs(p,v.mode,w,null),p.return=v,p;Cl(v,p)}return null}function h(v,p,w,N){var _=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:l(v,p,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vl:return w.key===_?c(v,p,w,N):null;case vi:return w.key===_?u(v,p,w,N):null;case Bn:return _=w._init,h(v,p,_(w._payload),N)}if(Ho(w)||Ao(w))return _!==null?null:d(v,p,w,N,null);Cl(v,w)}return null}function g(v,p,w,N,_){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(w)||null,l(p,v,""+N,_);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case vl:return v=v.get(N.key===null?w:N.key)||null,c(p,v,N,_);case vi:return v=v.get(N.key===null?w:N.key)||null,u(p,v,N,_);case Bn:var E=N._init;return g(v,p,w,E(N._payload),_)}if(Ho(N)||Ao(N))return v=v.get(w)||null,d(p,v,N,_,null);Cl(p,N)}return null}function y(v,p,w,N){for(var _=null,E=null,C=p,R=p=0,O=null;C!==null&&R<w.length;R++){C.index>R?(O=C,C=null):O=C.sibling;var M=h(v,C,w[R],N);if(M===null){C===null&&(C=O);break}e&&C&&M.alternate===null&&t(v,C),p=i(M,p,R),E===null?_=M:E.sibling=M,E=M,C=O}if(R===w.length)return r(v,C),Fe&&Ps(v,R),_;if(C===null){for(;R<w.length;R++)C=f(v,w[R],N),C!==null&&(p=i(C,p,R),E===null?_=C:E.sibling=C,E=C);return Fe&&Ps(v,R),_}for(C=n(v,C);R<w.length;R++)O=g(C,v,R,w[R],N),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?R:O.key),p=i(O,p,R),E===null?_=O:E.sibling=O,E=O);return e&&C.forEach(function(Q){return t(v,Q)}),Fe&&Ps(v,R),_}function x(v,p,w,N){var _=Ao(w);if(typeof _!="function")throw Error(B(150));if(w=_.call(w),w==null)throw Error(B(151));for(var E=_=null,C=p,R=p=0,O=null,M=w.next();C!==null&&!M.done;R++,M=w.next()){C.index>R?(O=C,C=null):O=C.sibling;var Q=h(v,C,M.value,N);if(Q===null){C===null&&(C=O);break}e&&C&&Q.alternate===null&&t(v,C),p=i(Q,p,R),E===null?_=Q:E.sibling=Q,E=Q,C=O}if(M.done)return r(v,C),Fe&&Ps(v,R),_;if(C===null){for(;!M.done;R++,M=w.next())M=f(v,M.value,N),M!==null&&(p=i(M,p,R),E===null?_=M:E.sibling=M,E=M);return Fe&&Ps(v,R),_}for(C=n(v,C);!M.done;R++,M=w.next())M=g(C,v,R,M.value,N),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?R:M.key),p=i(M,p,R),E===null?_=M:E.sibling=M,E=M);return e&&C.forEach(function(L){return t(v,L)}),Fe&&Ps(v,R),_}function S(v,p,w,N){if(typeof w=="object"&&w!==null&&w.type===yi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case vl:e:{for(var _=w.key,E=p;E!==null;){if(E.key===_){if(_=w.type,_===yi){if(E.tag===7){r(v,E.sibling),p=s(E,w.props.children),p.return=v,v=p;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Bn&&Lp(_)===E.type){r(v,E.sibling),p=s(E,w.props),p.ref=Lo(v,E,w),p.return=v,v=p;break e}r(v,E);break}else t(v,E);E=E.sibling}w.type===yi?(p=Zs(w.props.children,v.mode,N,w.key),p.return=v,v=p):(N=Yl(w.type,w.key,w.props,null,v.mode,N),N.ref=Lo(v,p,w),N.return=v,v=N)}return a(v);case vi:e:{for(E=w.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){r(v,p.sibling),p=s(p,w.children||[]),p.return=v,v=p;break e}else{r(v,p);break}else t(v,p);p=p.sibling}p=vd(w,v.mode,N),p.return=v,v=p}return a(v);case Bn:return E=w._init,S(v,p,E(w._payload),N)}if(Ho(w))return y(v,p,w,N);if(Ao(w))return x(v,p,w,N);Cl(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(r(v,p.sibling),p=s(p,w),p.return=v,v=p):(r(v,p),p=gd(w,v.mode,N),p.return=v,v=p),a(v)):r(v,p)}return S}var lo=cx(!0),ux=cx(!1),jc=Cs(null),kc=null,ki=null,Fh=null;function zh(){Fh=ki=kc=null}function $h(e){var t=jc.current;De(jc),e._currentValue=t}function mf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Oi(e,t){kc=e,Fh=ki=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qt=!0),e.firstContext=null)}function pr(e){var t=e._currentValue;if(Fh!==e)if(e={context:e,memoizedValue:t,next:null},ki===null){if(kc===null)throw Error(B(308));ki=e,kc.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Ms=null;function Uh(e){Ms===null?Ms=[e]:Ms.push(e)}function dx(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Uh(t)):(r.next=s.next,s.next=r),t.interleaved=r,Tn(e,n)}function Tn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Wn=!1;function Vh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,xe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Tn(e,r)}return s=n.interleaved,s===null?(t.next=t,Uh(n)):(t.next=s.next,s.next=t),n.interleaved=t,Tn(e,r)}function Hl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Eh(e,r)}}function Dp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ec(e,t,r,n){var s=e.updateQueue;Wn=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,l=i;do{var h=l.lane,g=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,x=l;switch(h=t,g=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(g,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(g,f,h):y,h==null)break e;f=We({},f,h);break e;case 2:Wn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Js|=a,e.lanes=a,e.memoizedState=f}}function Fp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(B(191,s));s.call(n)}}}var ol={},en=Cs(ol),ka=Cs(ol),Ea=Cs(ol);function Ls(e){if(e===ol)throw Error(B(174));return e}function Bh(e,t){switch(Ie(Ea,t),Ie(ka,e),Ie(en,ol),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kd(t,e)}De(en),Ie(en,t)}function co(){De(en),De(ka),De(Ea)}function hx(e){Ls(Ea.current);var t=Ls(en.current),r=Kd(t,e.type);t!==r&&(Ie(ka,e),Ie(en,r))}function Wh(e){ka.current===e&&(De(en),De(ka))}var Ue=Cs(0);function Cc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ud=[];function Hh(){for(var e=0;e<ud.length;e++)ud[e]._workInProgressVersionPrimary=null;ud.length=0}var Ql=Mn.ReactCurrentDispatcher,dd=Mn.ReactCurrentBatchConfig,Xs=0,Be=null,at=null,pt=null,Tc=!1,ra=!1,Ca=0,ZS=0;function _t(){throw Error(B(321))}function Qh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Lr(e[r],t[r]))return!1;return!0}function Kh(e,t,r,n,s,i){if(Xs=i,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ql.current=e===null||e.memoizedState===null?XS:JS,e=r(n,s),ra){i=0;do{if(ra=!1,Ca=0,25<=i)throw Error(B(301));i+=1,pt=at=null,t.updateQueue=null,Ql.current=e_,e=r(n,s)}while(ra)}if(Ql.current=Rc,t=at!==null&&at.next!==null,Xs=0,pt=at=Be=null,Tc=!1,t)throw Error(B(300));return e}function Zh(){var e=Ca!==0;return Ca=0,e}function Vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Be.memoizedState=pt=e:pt=pt.next=e,pt}function gr(){if(at===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=pt===null?Be.memoizedState:pt.next;if(t!==null)pt=t,at=e;else{if(e===null)throw Error(B(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},pt===null?Be.memoizedState=pt=e:pt=pt.next=e}return pt}function Ta(e,t){return typeof t=="function"?t(e):t}function fd(e){var t=gr(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=at,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Xs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,Be.lanes|=d,Js|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,Lr(n,t.memoizedState)||(qt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Be.lanes|=i,Js|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function hd(e){var t=gr(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Lr(i,t.memoizedState)||(qt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function mx(){}function px(e,t){var r=Be,n=gr(),s=t(),i=!Lr(n.memoizedState,s);if(i&&(n.memoizedState=s,qt=!0),n=n.queue,qh(yx.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||pt!==null&&pt.memoizedState.tag&1){if(r.flags|=2048,Ra(9,vx.bind(null,r,n,s,t),void 0,null),gt===null)throw Error(B(349));Xs&30||gx(r,t,s)}return s}function gx(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function vx(e,t,r,n){t.value=r,t.getSnapshot=n,xx(t)&&wx(e)}function yx(e,t,r){return r(function(){xx(t)&&wx(e)})}function xx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Lr(e,r)}catch{return!0}}function wx(e){var t=Tn(e,1);t!==null&&Or(t,e,1,-1)}function zp(e){var t=Vr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=YS.bind(null,Be,e),[t.memoizedState,e]}function Ra(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function bx(){return gr().memoizedState}function Kl(e,t,r,n){var s=Vr();Be.flags|=e,s.memoizedState=Ra(1|t,r,void 0,n===void 0?null:n)}function pu(e,t,r,n){var s=gr();n=n===void 0?null:n;var i=void 0;if(at!==null){var a=at.memoizedState;if(i=a.destroy,n!==null&&Qh(n,a.deps)){s.memoizedState=Ra(t,r,i,n);return}}Be.flags|=e,s.memoizedState=Ra(1|t,r,i,n)}function $p(e,t){return Kl(8390656,8,e,t)}function qh(e,t){return pu(2048,8,e,t)}function Nx(e,t){return pu(4,2,e,t)}function Sx(e,t){return pu(4,4,e,t)}function _x(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jx(e,t,r){return r=r!=null?r.concat([e]):null,pu(4,4,_x.bind(null,t,e),r)}function Gh(){}function kx(e,t){var r=gr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Qh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ex(e,t){var r=gr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Qh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Cx(e,t,r){return Xs&21?(Lr(r,t)||(r=Iy(),Be.lanes|=r,Js|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=r)}function qS(e,t){var r=je;je=r!==0&&4>r?r:4,e(!0);var n=dd.transition;dd.transition={};try{e(!1),t()}finally{je=r,dd.transition=n}}function Tx(){return gr().memoizedState}function GS(e,t,r){var n=ms(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Rx(e))Ax(t,r);else if(r=dx(e,t,r,n),r!==null){var s=$t();Or(r,e,n,s),Px(r,t,n)}}function YS(e,t,r){var n=ms(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Rx(e))Ax(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Lr(l,a)){var c=t.interleaved;c===null?(s.next=s,Uh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=dx(e,t,s,n),r!==null&&(s=$t(),Or(r,e,n,s),Px(r,t,n))}}function Rx(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function Ax(e,t){ra=Tc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Px(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Eh(e,r)}}var Rc={readContext:pr,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},XS={readContext:pr,useCallback:function(e,t){return Vr().memoizedState=[e,t===void 0?null:t],e},useContext:pr,useEffect:$p,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Kl(4194308,4,_x.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Kl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kl(4,2,e,t)},useMemo:function(e,t){var r=Vr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Vr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=GS.bind(null,Be,e),[n.memoizedState,e]},useRef:function(e){var t=Vr();return e={current:e},t.memoizedState=e},useState:zp,useDebugValue:Gh,useDeferredValue:function(e){return Vr().memoizedState=e},useTransition:function(){var e=zp(!1),t=e[0];return e=qS.bind(null,e[1]),Vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Be,s=Vr();if(Fe){if(r===void 0)throw Error(B(407));r=r()}else{if(r=t(),gt===null)throw Error(B(349));Xs&30||gx(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,$p(yx.bind(null,n,i,e),[e]),n.flags|=2048,Ra(9,vx.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Vr(),t=gt.identifierPrefix;if(Fe){var r=Nn,n=bn;r=(n&~(1<<32-Ir(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ca++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ZS++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},JS={readContext:pr,useCallback:kx,useContext:pr,useEffect:qh,useImperativeHandle:jx,useInsertionEffect:Nx,useLayoutEffect:Sx,useMemo:Ex,useReducer:fd,useRef:bx,useState:function(){return fd(Ta)},useDebugValue:Gh,useDeferredValue:function(e){var t=gr();return Cx(t,at.memoizedState,e)},useTransition:function(){var e=fd(Ta)[0],t=gr().memoizedState;return[e,t]},useMutableSource:mx,useSyncExternalStore:px,useId:Tx,unstable_isNewReconciler:!1},e_={readContext:pr,useCallback:kx,useContext:pr,useEffect:qh,useImperativeHandle:jx,useInsertionEffect:Nx,useLayoutEffect:Sx,useMemo:Ex,useReducer:hd,useRef:bx,useState:function(){return hd(Ta)},useDebugValue:Gh,useDeferredValue:function(e){var t=gr();return at===null?t.memoizedState=e:Cx(t,at.memoizedState,e)},useTransition:function(){var e=hd(Ta)[0],t=gr().memoizedState;return[e,t]},useMutableSource:mx,useSyncExternalStore:px,useId:Tx,unstable_isNewReconciler:!1};function Sr(e,t){if(e&&e.defaultProps){t=We({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function pf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:We({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var gu={isMounted:function(e){return(e=e._reactInternals)?ci(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=$t(),s=ms(e),i=_n(n,s);i.payload=t,r!=null&&(i.callback=r),t=fs(e,i,s),t!==null&&(Or(t,e,s,n),Hl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=$t(),s=ms(e),i=_n(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=fs(e,i,s),t!==null&&(Or(t,e,s,n),Hl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=$t(),n=ms(e),s=_n(r,n);s.tag=2,t!=null&&(s.callback=t),t=fs(e,s,n),t!==null&&(Or(t,e,n,r),Hl(t,e,n))}};function Up(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Na(r,n)||!Na(s,i):!0}function Ix(e,t,r){var n=!1,s=xs,i=t.contextType;return typeof i=="object"&&i!==null?i=pr(i):(s=Yt(t)?Gs:Rt.current,n=t.contextTypes,i=(n=n!=null)?oo(e,s):xs),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Vp(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&gu.enqueueReplaceState(t,t.state,null)}function gf(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Vh(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=pr(i):(i=Yt(t)?Gs:Rt.current,s.context=oo(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(pf(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&gu.enqueueReplaceState(s,s.state,null),Ec(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function uo(e,t){try{var r="",n=t;do r+=CN(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function md(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function vf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var t_=typeof WeakMap=="function"?WeakMap:Map;function Ox(e,t,r){r=_n(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Pc||(Pc=!0,Ef=n),vf(e,t)},r}function Mx(e,t,r){r=_n(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){vf(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){vf(e,t),typeof n!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Bp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new t_;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=p_.bind(null,e,t,r),t.then(e,e))}function Wp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hp(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_n(-1,1),t.tag=2,fs(r,t,1))),r.lanes|=1),e)}var r_=Mn.ReactCurrentOwner,qt=!1;function Dt(e,t,r,n){t.child=e===null?ux(t,null,r,n):lo(t,e.child,r,n)}function Qp(e,t,r,n,s){r=r.render;var i=t.ref;return Oi(t,s),n=Kh(e,t,r,n,i,s),r=Zh(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rn(e,t,s)):(Fe&&r&&Mh(t),t.flags|=1,Dt(e,t,n,s),t.child)}function Kp(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!sm(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Lx(e,t,i,n,s)):(e=Yl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Na,r(a,n)&&e.ref===t.ref)return Rn(e,t,s)}return t.flags|=1,e=ps(i,n),e.ref=t.ref,e.return=t,t.child=e}function Lx(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Na(i,n)&&e.ref===t.ref)if(qt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(qt=!0);else return t.lanes=e.lanes,Rn(e,t,s)}return yf(e,t,r,n,s)}function Dx(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Ci,er),er|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ie(Ci,er),er|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ie(Ci,er),er|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ie(Ci,er),er|=n;return Dt(e,t,s,r),t.child}function Fx(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function yf(e,t,r,n,s){var i=Yt(r)?Gs:Rt.current;return i=oo(t,i),Oi(t,s),r=Kh(e,t,r,n,i,s),n=Zh(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rn(e,t,s)):(Fe&&n&&Mh(t),t.flags|=1,Dt(e,t,r,s),t.child)}function Zp(e,t,r,n,s){if(Yt(r)){var i=!0;Nc(t)}else i=!1;if(Oi(t,s),t.stateNode===null)Zl(e,t),Ix(t,r,n),gf(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=pr(u):(u=Yt(r)?Gs:Rt.current,u=oo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Vp(t,a,n,u),Wn=!1;var h=t.memoizedState;a.state=h,Ec(t,n,a,s),c=t.memoizedState,l!==n||h!==c||Gt.current||Wn?(typeof d=="function"&&(pf(t,r,d,n),c=t.memoizedState),(l=Wn||Up(t,r,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,fx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Sr(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=pr(c):(c=Yt(r)?Gs:Rt.current,c=oo(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Vp(t,a,n,c),Wn=!1,h=t.memoizedState,a.state=h,Ec(t,n,a,s);var y=t.memoizedState;l!==f||h!==y||Gt.current||Wn?(typeof g=="function"&&(pf(t,r,g,n),y=t.memoizedState),(u=Wn||Up(t,r,u,n,h,y,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),a.props=n,a.state=y,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return xf(e,t,r,n,i,s)}function xf(e,t,r,n,s,i){Fx(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Ip(t,r,!1),Rn(e,t,i);n=t.stateNode,r_.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=lo(t,e.child,null,i),t.child=lo(t,null,l,i)):Dt(e,t,l,i),t.memoizedState=n.state,s&&Ip(t,r,!0),t.child}function zx(e){var t=e.stateNode;t.pendingContext?Pp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pp(e,t.context,!1),Bh(e,t.containerInfo)}function qp(e,t,r,n,s){return ao(),Dh(s),t.flags|=256,Dt(e,t,r,n),t.child}var wf={dehydrated:null,treeContext:null,retryLane:0};function bf(e){return{baseLanes:e,cachePool:null,transitions:null}}function $x(e,t,r){var n=t.pendingProps,s=Ue.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ie(Ue,s&1),e===null)return hf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=xu(a,n,0,null),e=Zs(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=bf(r),t.memoizedState=wf,e):Yh(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return n_(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ps(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ps(l,i):(i=Zs(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?bf(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=wf,n}return i=e.child,e=i.sibling,n=ps(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Yh(e,t){return t=xu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Tl(e,t,r,n){return n!==null&&Dh(n),lo(t,e.child,null,r),e=Yh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function n_(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=md(Error(B(422))),Tl(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=xu({mode:"visible",children:n.children},s,0,null),i=Zs(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&lo(t,e.child,null,a),t.child.memoizedState=bf(a),t.memoizedState=wf,i);if(!(t.mode&1))return Tl(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(B(419)),n=md(i,n,void 0),Tl(e,t,a,n)}if(l=(a&e.childLanes)!==0,qt||l){if(n=gt,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Tn(e,s),Or(n,e,s,-1))}return nm(),n=md(Error(B(421))),Tl(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=g_.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,rr=ds(s.nextSibling),nr=t,Fe=!0,Er=null,e!==null&&(dr[fr++]=bn,dr[fr++]=Nn,dr[fr++]=Ys,bn=e.id,Nn=e.overflow,Ys=t),t=Yh(t,n.children),t.flags|=4096,t)}function Gp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),mf(e.return,t,r)}function pd(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Ux(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Dt(e,t,n.children,r),n=Ue.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gp(e,r,t);else if(e.tag===19)Gp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ie(Ue,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Cc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),pd(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Cc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}pd(t,!0,r,null,i);break;case"together":pd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Js|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,r=ps(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ps(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function s_(e,t,r){switch(t.tag){case 3:zx(t),ao();break;case 5:hx(t);break;case 1:Yt(t.type)&&Nc(t);break;case 4:Bh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ie(jc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ie(Ue,Ue.current&1),t.flags|=128,null):r&t.child.childLanes?$x(e,t,r):(Ie(Ue,Ue.current&1),e=Rn(e,t,r),e!==null?e.sibling:null);Ie(Ue,Ue.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ux(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ie(Ue,Ue.current),n)break;return null;case 22:case 23:return t.lanes=0,Dx(e,t,r)}return Rn(e,t,r)}var Vx,Nf,Bx,Wx;Vx=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Nf=function(){};Bx=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ls(en.current);var i=null;switch(r){case"input":s=Bd(e,s),n=Bd(e,n),i=[];break;case"select":s=We({},s,{value:void 0}),n=We({},n,{value:void 0}),i=[];break;case"textarea":s=Qd(e,s),n=Qd(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=wc)}Zd(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pa.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Le("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Wx=function(e,t,r,n){r!==n&&(t.flags|=4)};function Do(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function i_(e,t,r){var n=t.pendingProps;switch(Lh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(t),null;case 1:return Yt(t.type)&&bc(),jt(t),null;case 3:return n=t.stateNode,co(),De(Gt),De(Rt),Hh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(El(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Er!==null&&(Rf(Er),Er=null))),Nf(e,t),jt(t),null;case 5:Wh(t);var s=Ls(Ea.current);if(r=t.type,e!==null&&t.stateNode!=null)Bx(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(B(166));return jt(t),null}if(e=Ls(en.current),El(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Zr]=t,n[ja]=i,e=(t.mode&1)!==0,r){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(s=0;s<Ko.length;s++)Le(Ko[s],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":ip(n,i),Le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Le("invalid",n);break;case"textarea":ap(n,i),Le("invalid",n)}Zd(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&kl(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&kl(n.textContent,l,e),s=["children",""+l]):pa.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Le("scroll",n)}switch(r){case"input":yl(n),op(n,i,!0);break;case"textarea":yl(n),lp(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=wc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Zr]=t,e[ja]=n,Vx(e,t,!1,!1),t.stateNode=e;e:{switch(a=qd(r,n),r){case"dialog":Le("cancel",e),Le("close",e),s=n;break;case"iframe":case"object":case"embed":Le("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ko.length;s++)Le(Ko[s],e);s=n;break;case"source":Le("error",e),s=n;break;case"img":case"image":case"link":Le("error",e),Le("load",e),s=n;break;case"details":Le("toggle",e),s=n;break;case"input":ip(e,n),s=Bd(e,n),Le("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=We({},n,{value:void 0}),Le("invalid",e);break;case"textarea":ap(e,n),s=Qd(e,n),Le("invalid",e);break;default:s=n}Zd(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?by(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xy(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ga(e,c):typeof c=="number"&&ga(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(pa.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Le("scroll",e):c!=null&&bh(e,i,c,a))}switch(r){case"input":yl(e),op(e,n,!1);break;case"textarea":yl(e),lp(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ys(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ri(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ri(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=wc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jt(t),null;case 6:if(e&&t.stateNode!=null)Wx(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(B(166));if(r=Ls(Ea.current),Ls(en.current),El(t)){if(n=t.stateNode,r=t.memoizedProps,n[Zr]=t,(i=n.nodeValue!==r)&&(e=nr,e!==null))switch(e.tag){case 3:kl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kl(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zr]=t,t.stateNode=n}return jt(t),null;case 13:if(De(Ue),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&rr!==null&&t.mode&1&&!(t.flags&128))lx(),ao(),t.flags|=98560,i=!1;else if(i=El(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(B(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Zr]=t}else ao(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jt(t),i=!1}else Er!==null&&(Rf(Er),Er=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ue.current&1?dt===0&&(dt=3):nm())),t.updateQueue!==null&&(t.flags|=4),jt(t),null);case 4:return co(),Nf(e,t),e===null&&Sa(t.stateNode.containerInfo),jt(t),null;case 10:return $h(t.type._context),jt(t),null;case 17:return Yt(t.type)&&bc(),jt(t),null;case 19:if(De(Ue),i=t.memoizedState,i===null)return jt(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Do(i,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Cc(e),a!==null){for(t.flags|=128,Do(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ie(Ue,Ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&Xe()>fo&&(t.flags|=128,n=!0,Do(i,!1),t.lanes=4194304)}else{if(!n)if(e=Cc(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Do(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Fe)return jt(t),null}else 2*Xe()-i.renderingStartTime>fo&&r!==1073741824&&(t.flags|=128,n=!0,Do(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,r=Ue.current,Ie(Ue,n?r&1|2:r&1),t):(jt(t),null);case 22:case 23:return rm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?er&1073741824&&(jt(t),t.subtreeFlags&6&&(t.flags|=8192)):jt(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function o_(e,t){switch(Lh(t),t.tag){case 1:return Yt(t.type)&&bc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return co(),De(Gt),De(Rt),Hh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wh(t),null;case 13:if(De(Ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));ao()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Ue),null;case 4:return co(),null;case 10:return $h(t.type._context),null;case 22:case 23:return rm(),null;case 24:return null;default:return null}}var Rl=!1,Ct=!1,a_=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Ei(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qe(e,t,n)}else r.current=null}function Sf(e,t,r){try{r()}catch(n){Qe(e,t,n)}}var Yp=!1;function l_(e,t){if(of=vc,e=qy(),Oh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(l=a+s),f!==i||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=a),h===i&&++d===n&&(c=a),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(af={focusedElem:e,selectionRange:r},vc=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,S=y.memoizedState,v=t.stateNode,p=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:Sr(t.type,x),S);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(N){Qe(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return y=Yp,Yp=!1,y}function na(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Sf(t,r,i)}s=s.next}while(s!==n)}}function vu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _f(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Hx(e){var t=e.alternate;t!==null&&(e.alternate=null,Hx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zr],delete t[ja],delete t[uf],delete t[WS],delete t[HS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qx(e){return e.tag===5||e.tag===3||e.tag===4}function Xp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wc));else if(n!==4&&(e=e.child,e!==null))for(jf(e,t,r),e=e.sibling;e!==null;)jf(e,t,r),e=e.sibling}function kf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(kf(e,t,r),e=e.sibling;e!==null;)kf(e,t,r),e=e.sibling}var xt=null,kr=!1;function Dn(e,t,r){for(r=r.child;r!==null;)Kx(e,t,r),r=r.sibling}function Kx(e,t,r){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(cu,r)}catch{}switch(r.tag){case 5:Ct||Ei(r,t);case 6:var n=xt,s=kr;xt=null,Dn(e,t,r),xt=n,kr=s,xt!==null&&(kr?(e=xt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):xt.removeChild(r.stateNode));break;case 18:xt!==null&&(kr?(e=xt,r=r.stateNode,e.nodeType===8?ld(e.parentNode,r):e.nodeType===1&&ld(e,r),wa(e)):ld(xt,r.stateNode));break;case 4:n=xt,s=kr,xt=r.stateNode.containerInfo,kr=!0,Dn(e,t,r),xt=n,kr=s;break;case 0:case 11:case 14:case 15:if(!Ct&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Sf(r,t,a),s=s.next}while(s!==n)}Dn(e,t,r);break;case 1:if(!Ct&&(Ei(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qe(r,t,l)}Dn(e,t,r);break;case 21:Dn(e,t,r);break;case 22:r.mode&1?(Ct=(n=Ct)||r.memoizedState!==null,Dn(e,t,r),Ct=n):Dn(e,t,r);break;default:Dn(e,t,r)}}function Jp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new a_),t.forEach(function(n){var s=v_.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Nr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:xt=l.stateNode,kr=!1;break e;case 3:xt=l.stateNode.containerInfo,kr=!0;break e;case 4:xt=l.stateNode.containerInfo,kr=!0;break e}l=l.return}if(xt===null)throw Error(B(160));Kx(i,a,s),xt=null,kr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Qe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zx(t,e),t=t.sibling}function Zx(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nr(t,e),Ur(e),n&4){try{na(3,e,e.return),vu(3,e)}catch(x){Qe(e,e.return,x)}try{na(5,e,e.return)}catch(x){Qe(e,e.return,x)}}break;case 1:Nr(t,e),Ur(e),n&512&&r!==null&&Ei(r,r.return);break;case 5:if(Nr(t,e),Ur(e),n&512&&r!==null&&Ei(r,r.return),e.flags&32){var s=e.stateNode;try{ga(s,"")}catch(x){Qe(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&gy(s,i),qd(l,a);var u=qd(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?by(s,f):d==="dangerouslySetInnerHTML"?xy(s,f):d==="children"?ga(s,f):bh(s,d,f,u)}switch(l){case"input":Wd(s,i);break;case"textarea":vy(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Ri(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ri(s,!!i.multiple,i.defaultValue,!0):Ri(s,!!i.multiple,i.multiple?[]:"",!1))}s[ja]=i}catch(x){Qe(e,e.return,x)}}break;case 6:if(Nr(t,e),Ur(e),n&4){if(e.stateNode===null)throw Error(B(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Qe(e,e.return,x)}}break;case 3:if(Nr(t,e),Ur(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{wa(t.containerInfo)}catch(x){Qe(e,e.return,x)}break;case 4:Nr(t,e),Ur(e);break;case 13:Nr(t,e),Ur(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(em=Xe())),n&4&&Jp(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ct=(u=Ct)||d,Nr(t,e),Ct=u):Nr(t,e),Ur(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ee=e,d=e.child;d!==null;){for(f=ee=d;ee!==null;){switch(h=ee,g=h.child,h.tag){case 0:case 11:case 14:case 15:na(4,h,h.return);break;case 1:Ei(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){Qe(n,r,x)}}break;case 5:Ei(h,h.return);break;case 22:if(h.memoizedState!==null){tg(f);continue}}g!==null?(g.return=h,ee=g):tg(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=wy("display",a))}catch(x){Qe(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Qe(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nr(t,e),Ur(e),n&4&&Jp(e);break;case 21:break;default:Nr(t,e),Ur(e)}}function Ur(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Qx(r)){var n=r;break e}r=r.return}throw Error(B(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ga(s,""),n.flags&=-33);var i=Xp(e);kf(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Xp(e);jf(e,l,a);break;default:throw Error(B(161))}}catch(c){Qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function c_(e,t,r){ee=e,qx(e)}function qx(e,t,r){for(var n=(e.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Rl;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ct;l=Rl;var u=Ct;if(Rl=a,(Ct=c)&&!u)for(ee=s;ee!==null;)a=ee,c=a.child,a.tag===22&&a.memoizedState!==null?rg(s):c!==null?(c.return=a,ee=c):rg(s);for(;i!==null;)ee=i,qx(i),i=i.sibling;ee=s,Rl=l,Ct=u}eg(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):eg(e)}}function eg(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ct||vu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ct)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Sr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Fp(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Fp(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&wa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Ct||t.flags&512&&_f(t)}catch(h){Qe(t,t.return,h)}}if(t===e){ee=null;break}if(r=t.sibling,r!==null){r.return=t.return,ee=r;break}ee=t.return}}function tg(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ee=r;break}ee=t.return}}function rg(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{vu(4,t)}catch(c){Qe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Qe(t,s,c)}}var i=t.return;try{_f(t)}catch(c){Qe(t,i,c)}break;case 5:var a=t.return;try{_f(t)}catch(c){Qe(t,a,c)}}}catch(c){Qe(t,t.return,c)}if(t===e){ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ee=l;break}ee=t.return}}var u_=Math.ceil,Ac=Mn.ReactCurrentDispatcher,Xh=Mn.ReactCurrentOwner,mr=Mn.ReactCurrentBatchConfig,xe=0,gt=null,nt=null,bt=0,er=0,Ci=Cs(0),dt=0,Aa=null,Js=0,yu=0,Jh=0,sa=null,Zt=null,em=0,fo=1/0,gn=null,Pc=!1,Ef=null,hs=null,Al=!1,as=null,Ic=0,ia=0,Cf=null,ql=-1,Gl=0;function $t(){return xe&6?Xe():ql!==-1?ql:ql=Xe()}function ms(e){return e.mode&1?xe&2&&bt!==0?bt&-bt:KS.transition!==null?(Gl===0&&(Gl=Iy()),Gl):(e=je,e!==0||(e=window.event,e=e===void 0?16:$y(e.type)),e):1}function Or(e,t,r,n){if(50<ia)throw ia=0,Cf=null,Error(B(185));nl(e,r,n),(!(xe&2)||e!==gt)&&(e===gt&&(!(xe&2)&&(yu|=r),dt===4&&Qn(e,bt)),Xt(e,n),r===1&&xe===0&&!(t.mode&1)&&(fo=Xe()+500,mu&&Ts()))}function Xt(e,t){var r=e.callbackNode;KN(e,t);var n=gc(e,e===gt?bt:0);if(n===0)r!==null&&dp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&dp(r),t===1)e.tag===0?QS(ng.bind(null,e)):ix(ng.bind(null,e)),VS(function(){!(xe&6)&&Ts()}),r=null;else{switch(Oy(n)){case 1:r=kh;break;case 4:r=Ay;break;case 16:r=pc;break;case 536870912:r=Py;break;default:r=pc}r=n0(r,Gx.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Gx(e,t){if(ql=-1,Gl=0,xe&6)throw Error(B(327));var r=e.callbackNode;if(Mi()&&e.callbackNode!==r)return null;var n=gc(e,e===gt?bt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Oc(e,n);else{t=n;var s=xe;xe|=2;var i=Xx();(gt!==e||bt!==t)&&(gn=null,fo=Xe()+500,Ks(e,t));do try{h_();break}catch(l){Yx(e,l)}while(!0);zh(),Ac.current=i,xe=s,nt!==null?t=0:(gt=null,bt=0,t=dt)}if(t!==0){if(t===2&&(s=ef(e),s!==0&&(n=s,t=Tf(e,s))),t===1)throw r=Aa,Ks(e,0),Qn(e,n),Xt(e,Xe()),r;if(t===6)Qn(e,n);else{if(s=e.current.alternate,!(n&30)&&!d_(s)&&(t=Oc(e,n),t===2&&(i=ef(e),i!==0&&(n=i,t=Tf(e,i))),t===1))throw r=Aa,Ks(e,0),Qn(e,n),Xt(e,Xe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(B(345));case 2:Is(e,Zt,gn);break;case 3:if(Qn(e,n),(n&130023424)===n&&(t=em+500-Xe(),10<t)){if(gc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){$t(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=cf(Is.bind(null,e,Zt,gn),t);break}Is(e,Zt,gn);break;case 4:if(Qn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Ir(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Xe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*u_(n/1960))-n,10<n){e.timeoutHandle=cf(Is.bind(null,e,Zt,gn),n);break}Is(e,Zt,gn);break;case 5:Is(e,Zt,gn);break;default:throw Error(B(329))}}}return Xt(e,Xe()),e.callbackNode===r?Gx.bind(null,e):null}function Tf(e,t){var r=sa;return e.current.memoizedState.isDehydrated&&(Ks(e,t).flags|=256),e=Oc(e,t),e!==2&&(t=Zt,Zt=r,t!==null&&Rf(t)),e}function Rf(e){Zt===null?Zt=e:Zt.push.apply(Zt,e)}function d_(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Lr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t){for(t&=~Jh,t&=~yu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ir(t),n=1<<r;e[r]=-1,t&=~n}}function ng(e){if(xe&6)throw Error(B(327));Mi();var t=gc(e,0);if(!(t&1))return Xt(e,Xe()),null;var r=Oc(e,t);if(e.tag!==0&&r===2){var n=ef(e);n!==0&&(t=n,r=Tf(e,n))}if(r===1)throw r=Aa,Ks(e,0),Qn(e,t),Xt(e,Xe()),r;if(r===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Is(e,Zt,gn),Xt(e,Xe()),null}function tm(e,t){var r=xe;xe|=1;try{return e(t)}finally{xe=r,xe===0&&(fo=Xe()+500,mu&&Ts())}}function ei(e){as!==null&&as.tag===0&&!(xe&6)&&Mi();var t=xe;xe|=1;var r=mr.transition,n=je;try{if(mr.transition=null,je=1,e)return e()}finally{je=n,mr.transition=r,xe=t,!(xe&6)&&Ts()}}function rm(){er=Ci.current,De(Ci)}function Ks(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,US(r)),nt!==null)for(r=nt.return;r!==null;){var n=r;switch(Lh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bc();break;case 3:co(),De(Gt),De(Rt),Hh();break;case 5:Wh(n);break;case 4:co();break;case 13:De(Ue);break;case 19:De(Ue);break;case 10:$h(n.type._context);break;case 22:case 23:rm()}r=r.return}if(gt=e,nt=e=ps(e.current,null),bt=er=t,dt=0,Aa=null,Jh=yu=Js=0,Zt=sa=null,Ms!==null){for(t=0;t<Ms.length;t++)if(r=Ms[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Ms=null}return e}function Yx(e,t){do{var r=nt;try{if(zh(),Ql.current=Rc,Tc){for(var n=Be.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Tc=!1}if(Xs=0,pt=at=Be=null,ra=!1,Ca=0,Xh.current=null,r===null||r.return===null){dt=1,Aa=t,nt=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=bt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Wp(a);if(g!==null){g.flags&=-257,Hp(g,a,l,i,t),g.mode&1&&Bp(i,u,t),t=g,c=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(c),t.updateQueue=x}else y.add(c);break e}else{if(!(t&1)){Bp(i,u,t),nm();break e}c=Error(B(426))}}else if(Fe&&l.mode&1){var S=Wp(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Hp(S,a,l,i,t),Dh(uo(c,l));break e}}i=c=uo(c,l),dt!==4&&(dt=2),sa===null?sa=[i]:sa.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Ox(i,c,t);Dp(i,v);break e;case 1:l=c;var p=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(hs===null||!hs.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=Mx(i,l,t);Dp(i,N);break e}}i=i.return}while(i!==null)}e0(r)}catch(_){t=_,nt===r&&r!==null&&(nt=r=r.return);continue}break}while(!0)}function Xx(){var e=Ac.current;return Ac.current=Rc,e===null?Rc:e}function nm(){(dt===0||dt===3||dt===2)&&(dt=4),gt===null||!(Js&268435455)&&!(yu&268435455)||Qn(gt,bt)}function Oc(e,t){var r=xe;xe|=2;var n=Xx();(gt!==e||bt!==t)&&(gn=null,Ks(e,t));do try{f_();break}catch(s){Yx(e,s)}while(!0);if(zh(),xe=r,Ac.current=n,nt!==null)throw Error(B(261));return gt=null,bt=0,dt}function f_(){for(;nt!==null;)Jx(nt)}function h_(){for(;nt!==null&&!FN();)Jx(nt)}function Jx(e){var t=r0(e.alternate,e,er);e.memoizedProps=e.pendingProps,t===null?e0(e):nt=t,Xh.current=null}function e0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=o_(r,t),r!==null){r.flags&=32767,nt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,nt=null;return}}else if(r=i_(r,t,er),r!==null){nt=r;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);dt===0&&(dt=5)}function Is(e,t,r){var n=je,s=mr.transition;try{mr.transition=null,je=1,m_(e,t,r,n)}finally{mr.transition=s,je=n}return null}function m_(e,t,r,n){do Mi();while(as!==null);if(xe&6)throw Error(B(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(ZN(e,i),e===gt&&(nt=gt=null,bt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Al||(Al=!0,n0(pc,function(){return Mi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=mr.transition,mr.transition=null;var a=je;je=1;var l=xe;xe|=4,Xh.current=null,l_(e,r),Zx(r,e),OS(af),vc=!!of,af=of=null,e.current=r,c_(r),zN(),xe=l,je=a,mr.transition=i}else e.current=r;if(Al&&(Al=!1,as=e,Ic=s),i=e.pendingLanes,i===0&&(hs=null),VN(r.stateNode),Xt(e,Xe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Pc)throw Pc=!1,e=Ef,Ef=null,e;return Ic&1&&e.tag!==0&&Mi(),i=e.pendingLanes,i&1?e===Cf?ia++:(ia=0,Cf=e):ia=0,Ts(),null}function Mi(){if(as!==null){var e=Oy(Ic),t=mr.transition,r=je;try{if(mr.transition=null,je=16>e?16:e,as===null)var n=!1;else{if(e=as,as=null,Ic=0,xe&6)throw Error(B(331));var s=xe;for(xe|=4,ee=e.current;ee!==null;){var i=ee,a=i.child;if(ee.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:na(8,d,i)}var f=d.child;if(f!==null)f.return=d,ee=f;else for(;ee!==null;){d=ee;var h=d.sibling,g=d.return;if(Hx(d),d===u){ee=null;break}if(h!==null){h.return=g,ee=h;break}ee=g}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}ee=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ee=a;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:na(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,ee=v;break e}ee=i.return}}var p=e.current;for(ee=p;ee!==null;){a=ee;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,ee=w;else e:for(a=p;ee!==null;){if(l=ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vu(9,l)}}catch(_){Qe(l,l.return,_)}if(l===a){ee=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,ee=N;break e}ee=l.return}}if(xe=s,Ts(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(cu,e)}catch{}n=!0}return n}finally{je=r,mr.transition=t}}return!1}function sg(e,t,r){t=uo(r,t),t=Ox(e,t,1),e=fs(e,t,1),t=$t(),e!==null&&(nl(e,1,t),Xt(e,t))}function Qe(e,t,r){if(e.tag===3)sg(e,e,r);else for(;t!==null;){if(t.tag===3){sg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(hs===null||!hs.has(n))){e=uo(r,e),e=Mx(t,e,1),t=fs(t,e,1),e=$t(),t!==null&&(nl(t,1,e),Xt(t,e));break}}t=t.return}}function p_(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=$t(),e.pingedLanes|=e.suspendedLanes&r,gt===e&&(bt&r)===r&&(dt===4||dt===3&&(bt&130023424)===bt&&500>Xe()-em?Ks(e,0):Jh|=r),Xt(e,t)}function t0(e,t){t===0&&(e.mode&1?(t=bl,bl<<=1,!(bl&130023424)&&(bl=4194304)):t=1);var r=$t();e=Tn(e,t),e!==null&&(nl(e,t,r),Xt(e,r))}function g_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),t0(e,r)}function v_(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(t),t0(e,r)}var r0;r0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gt.current)qt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return qt=!1,s_(e,t,r);qt=!!(e.flags&131072)}else qt=!1,Fe&&t.flags&1048576&&ox(t,_c,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Zl(e,t),e=t.pendingProps;var s=oo(t,Rt.current);Oi(t,r),s=Kh(null,t,n,e,s,r);var i=Zh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yt(n)?(i=!0,Nc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vh(t),s.updater=gu,t.stateNode=s,s._reactInternals=t,gf(t,n,e,r),t=xf(null,t,n,!0,i,r)):(t.tag=0,Fe&&i&&Mh(t),Dt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Zl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=x_(n),e=Sr(n,e),s){case 0:t=yf(null,t,n,e,r);break e;case 1:t=Zp(null,t,n,e,r);break e;case 11:t=Qp(null,t,n,e,r);break e;case 14:t=Kp(null,t,n,Sr(n.type,e),r);break e}throw Error(B(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sr(n,s),yf(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sr(n,s),Zp(e,t,n,s,r);case 3:e:{if(zx(t),e===null)throw Error(B(387));n=t.pendingProps,i=t.memoizedState,s=i.element,fx(e,t),Ec(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=uo(Error(B(423)),t),t=qp(e,t,n,r,s);break e}else if(n!==s){s=uo(Error(B(424)),t),t=qp(e,t,n,r,s);break e}else for(rr=ds(t.stateNode.containerInfo.firstChild),nr=t,Fe=!0,Er=null,r=ux(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ao(),n===s){t=Rn(e,t,r);break e}Dt(e,t,n,r)}t=t.child}return t;case 5:return hx(t),e===null&&hf(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,lf(n,s)?a=null:i!==null&&lf(n,i)&&(t.flags|=32),Fx(e,t),Dt(e,t,a,r),t.child;case 6:return e===null&&hf(t),null;case 13:return $x(e,t,r);case 4:return Bh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=lo(t,null,n,r):Dt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sr(n,s),Qp(e,t,n,s,r);case 7:return Dt(e,t,t.pendingProps,r),t.child;case 8:return Dt(e,t,t.pendingProps.children,r),t.child;case 12:return Dt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Ie(jc,n._currentValue),n._currentValue=a,i!==null)if(Lr(i.value,a)){if(i.children===s.children&&!Gt.current){t=Rn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=_n(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),mf(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(B(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),mf(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Dt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Oi(t,r),s=pr(s),n=n(s),t.flags|=1,Dt(e,t,n,r),t.child;case 14:return n=t.type,s=Sr(n,t.pendingProps),s=Sr(n.type,s),Kp(e,t,n,s,r);case 15:return Lx(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sr(n,s),Zl(e,t),t.tag=1,Yt(n)?(e=!0,Nc(t)):e=!1,Oi(t,r),Ix(t,n,s),gf(t,n,s,r),xf(null,t,n,!0,e,r);case 19:return Ux(e,t,r);case 22:return Dx(e,t,r)}throw Error(B(156,t.tag))};function n0(e,t){return Ry(e,t)}function y_(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(e,t,r,n){return new y_(e,t,r,n)}function sm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function x_(e){if(typeof e=="function")return sm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sh)return 11;if(e===_h)return 14}return 2}function ps(e,t){var r=e.alternate;return r===null?(r=hr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Yl(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")sm(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case yi:return Zs(r.children,s,i,t);case Nh:a=8,s|=8;break;case zd:return e=hr(12,r,t,s|2),e.elementType=zd,e.lanes=i,e;case $d:return e=hr(13,r,t,s),e.elementType=$d,e.lanes=i,e;case Ud:return e=hr(19,r,t,s),e.elementType=Ud,e.lanes=i,e;case hy:return xu(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dy:a=10;break e;case fy:a=9;break e;case Sh:a=11;break e;case _h:a=14;break e;case Bn:a=16,n=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=hr(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Zs(e,t,r,n){return e=hr(7,e,n,t),e.lanes=r,e}function xu(e,t,r,n){return e=hr(22,e,n,t),e.elementType=hy,e.lanes=r,e.stateNode={isHidden:!1},e}function gd(e,t,r){return e=hr(6,e,null,t),e.lanes=r,e}function vd(e,t,r){return t=hr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function w_(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yu(0),this.expirationTimes=Yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function im(e,t,r,n,s,i,a,l,c){return e=new w_(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=hr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vh(i),e}function b_(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function s0(e){if(!e)return xs;e=e._reactInternals;e:{if(ci(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var r=e.type;if(Yt(r))return sx(e,r,t)}return t}function i0(e,t,r,n,s,i,a,l,c){return e=im(r,n,!0,e,s,i,a,l,c),e.context=s0(null),r=e.current,n=$t(),s=ms(r),i=_n(n,s),i.callback=t??null,fs(r,i,s),e.current.lanes=s,nl(e,s,n),Xt(e,n),e}function wu(e,t,r,n){var s=t.current,i=$t(),a=ms(s);return r=s0(r),t.context===null?t.context=r:t.pendingContext=r,t=_n(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fs(s,t,a),e!==null&&(Or(e,s,a,i),Hl(e,s,a)),a}function Mc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ig(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function om(e,t){ig(e,t),(e=e.alternate)&&ig(e,t)}function N_(){return null}var o0=typeof reportError=="function"?reportError:function(e){console.error(e)};function am(e){this._internalRoot=e}bu.prototype.render=am.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));wu(e,t,null,null)};bu.prototype.unmount=am.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ei(function(){wu(null,e,null,null)}),t[Cn]=null}};function bu(e){this._internalRoot=e}bu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dy();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Hn.length&&t!==0&&t<Hn[r].priority;r++);Hn.splice(r,0,e),r===0&&zy(e)}};function lm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function og(){}function S_(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Mc(a);i.call(u)}}var a=i0(t,n,e,0,null,!1,!1,"",og);return e._reactRootContainer=a,e[Cn]=a.current,Sa(e.nodeType===8?e.parentNode:e),ei(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Mc(c);l.call(u)}}var c=im(e,0,!1,null,null,!1,!1,"",og);return e._reactRootContainer=c,e[Cn]=c.current,Sa(e.nodeType===8?e.parentNode:e),ei(function(){wu(t,c,r,n)}),c}function Su(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Mc(a);l.call(c)}}wu(t,a,e,s)}else a=S_(r,t,e,s,n);return Mc(a)}My=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Qo(t.pendingLanes);r!==0&&(Eh(t,r|1),Xt(t,Xe()),!(xe&6)&&(fo=Xe()+500,Ts()))}break;case 13:ei(function(){var n=Tn(e,1);if(n!==null){var s=$t();Or(n,e,1,s)}}),om(e,1)}};Ch=function(e){if(e.tag===13){var t=Tn(e,134217728);if(t!==null){var r=$t();Or(t,e,134217728,r)}om(e,134217728)}};Ly=function(e){if(e.tag===13){var t=ms(e),r=Tn(e,t);if(r!==null){var n=$t();Or(r,e,t,n)}om(e,t)}};Dy=function(){return je};Fy=function(e,t){var r=je;try{return je=e,t()}finally{je=r}};Yd=function(e,t,r){switch(t){case"input":if(Wd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=hu(n);if(!s)throw Error(B(90));py(n),Wd(n,s)}}}break;case"textarea":vy(e,r);break;case"select":t=r.value,t!=null&&Ri(e,!!r.multiple,t,!1)}};_y=tm;jy=ei;var __={usingClientEntryPoint:!1,Events:[il,Ni,hu,Ny,Sy,tm]},Fo={findFiberByHostInstance:Os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j_={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cy(e),e===null?null:e.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance||N_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pl.isDisabled&&Pl.supportsFiber)try{cu=Pl.inject(j_),Jr=Pl}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=__;ar.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lm(t))throw Error(B(200));return b_(e,t,null,r)};ar.createRoot=function(e,t){if(!lm(e))throw Error(B(299));var r=!1,n="",s=o0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=im(e,1,!1,null,null,r,!1,n,s),e[Cn]=t.current,Sa(e.nodeType===8?e.parentNode:e),new am(t)};ar.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=Cy(t),e=e===null?null:e.stateNode,e};ar.flushSync=function(e){return ei(e)};ar.hydrate=function(e,t,r){if(!Nu(t))throw Error(B(200));return Su(null,e,t,!0,r)};ar.hydrateRoot=function(e,t,r){if(!lm(e))throw Error(B(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=o0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=i0(t,null,e,1,r??null,s,!1,i,a),e[Cn]=t.current,Sa(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new bu(t)};ar.render=function(e,t,r){if(!Nu(t))throw Error(B(200));return Su(null,e,t,!1,r)};ar.unmountComponentAtNode=function(e){if(!Nu(e))throw Error(B(40));return e._reactRootContainer?(ei(function(){Su(null,null,e,!1,function(){e._reactRootContainer=null,e[Cn]=null})}),!0):!1};ar.unstable_batchedUpdates=tm;ar.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Nu(r))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return Su(e,t,r,!1,n)};ar.version="18.3.1-next-f1338f8080-20240426";function a0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a0)}catch(e){console.error(e)}}a0(),ay.exports=ar;var _o=ay.exports;const k_=Zv(_o);var l0,ag=_o;l0=ag.createRoot,ag.hydrateRoot;function E_(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,s,i,a=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)r=s[0],r==="*"?(a.push(r),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),a.push(s.substring(1,~n?n:~i?i:s.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:a,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var c0={exports:{}},u0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ho=m;function C_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var T_=typeof Object.is=="function"?Object.is:C_,R_=ho.useState,A_=ho.useEffect,P_=ho.useLayoutEffect,I_=ho.useDebugValue;function O_(e,t){var r=t(),n=R_({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return P_(function(){s.value=r,s.getSnapshot=t,yd(s)&&i({inst:s})},[e,r,t]),A_(function(){return yd(s)&&i({inst:s}),e(function(){yd(s)&&i({inst:s})})},[e]),I_(r),r}function yd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!T_(e,r)}catch{return!0}}function M_(e,t){return t()}var L_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?M_:O_;u0.useSyncExternalStore=ho.useSyncExternalStore!==void 0?ho.useSyncExternalStore:L_;c0.exports=u0;var D_=c0.exports;const F_=iy.useInsertionEffect,z_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$_=z_?m.useLayoutEffect:m.useEffect,U_=F_||$_,d0=e=>{const t=m.useRef([e,(...r)=>t[0](...r)]).current;return U_(()=>{t[0]=e}),t[1]},V_="popstate",cm="pushState",um="replaceState",B_="hashchange",lg=[V_,cm,um,B_],W_=e=>{for(const t of lg)addEventListener(t,e);return()=>{for(const t of lg)removeEventListener(t,e)}},f0=(e,t)=>D_.useSyncExternalStore(W_,e,t),H_=()=>location.search,Q_=({ssrSearch:e=""}={})=>f0(H_,()=>e),cg=()=>location.pathname,K_=({ssrPath:e}={})=>f0(cg,e?()=>e:cg),Z_=(e,{replace:t=!1,state:r=null}={})=>history[t?um:cm](r,"",e),q_=(e={})=>[K_(e),Z_],ug=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ug]>"u"){for(const e of[cm,um]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,ug,{value:!0})}const G_=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",h0=(e="")=>e==="/"?"":e,Y_=(e,t)=>e[0]==="~"?e.slice(1):h0(t)+e,X_=(e="",t)=>G_(Af(h0(e)),Af(t)),J_=e=>e[0]==="?"?e.slice(1):e,Af=e=>{try{return decodeURI(e)}catch{return e}},ej=e=>Af(J_(e)),m0={hook:q_,searchHook:Q_,parser:E_,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},p0=m.createContext(m0),jo=()=>m.useContext(p0),g0={},v0=m.createContext(g0),dm=()=>m.useContext(v0),_u=e=>{const[t,r]=e.hook(e);return[X_(e.base,t),d0((n,s)=>r(Y_(n,e.base),s))]},ln=()=>_u(jo()),tj=()=>{const e=jo();return ej(e.searchHook(e))},y0=(e,t,r,n)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),a=s.exec(r)||[],[l,...c]=a;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):a.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},rj=({children:e,...t})=>{var d,f;const r=jo(),n=t.hook?m0:r;let s=n;const[i,a]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];a&&(t.ssrSearch=a,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=m.useRef({}),c=l.current,u=c;for(let h in n){const g=h==="base"?n[h]+(t[h]||""):t[h]||n[h];c===u&&g!==u[h]&&(l.current=u={...u}),u[h]=g,g!==n[h]&&(s=u)}return m.createElement(p0.Provider,{value:s,children:e})},dg=({children:e,component:t},r)=>t?m.createElement(t,{params:r}):typeof e=="function"?e(r):e,nj=e=>{let t=m.useRef(g0),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},tt=({path:e,nest:t,match:r,...n})=>{const s=jo(),[i]=_u(s),[a,l,c]=r??y0(s.parser,e,i,t),u=nj({...dm(),...l});if(!a)return null;const d=c?m.createElement(rj,{base:c},dg(n,u)):dg(n,u);return m.createElement(v0.Provider,{value:u,children:d})},lt=m.forwardRef((e,t)=>{const r=jo(),[n,s]=_u(r),{to:i="",href:a=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...g}=e,y=d0(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(l==null||l(S),S.defaultPrevented||(S.preventDefault(),s(a,e)))}),x=r.hrefs(a[0]==="~"?a.slice(1):r.base+a,r);return c&&m.isValidElement(u)?m.cloneElement(u,{onClick:y,href:x}):m.createElement("a",{...g,onClick:y,href:x,className:d!=null&&d.call?d(n===a):d,children:u,ref:t})}),x0=e=>Array.isArray(e)?e.flatMap(t=>x0(t&&t.type===m.Fragment?t.props.children:t)):[e],sj=({children:e,location:t})=>{const r=jo(),[n]=_u(r);for(const s of x0(e)){let i=0;if(m.isValidElement(s)&&(i=y0(r.parser,s.props.path,t||n,s.props.nest))[0])return m.cloneElement(s,{match:i})}return null};var ko=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ti=typeof window>"u"||"Deno"in globalThis;function ur(){}function ij(e,t){return typeof e=="function"?e(t):e}function Pf(e){return typeof e=="number"&&e>=0&&e!==1/0}function w0(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Li(e,t){return typeof e=="function"?e(t):e}function Cr(e,t){return typeof e=="function"?e(t):e}function fg(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(n){if(t.queryHash!==fm(a,t.options))return!1}else if(!Pa(t.queryKey,a))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function hg(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(ri(t.options.mutationKey)!==ri(i))return!1}else if(!Pa(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function fm(e,t){return((t==null?void 0:t.queryKeyHashFn)||ri)(e)}function ri(e){return JSON.stringify(e,(t,r)=>If(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Pa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Pa(e[r],t[r])):!1}function b0(e,t){if(e===t)return e;const r=mg(e)&&mg(t);if(r||If(e)&&If(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),a=i.length,l=r?[]:{};let c=0;for(let u=0;u<a;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=b0(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===a&&c===s?e:l}return t}function Lc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function mg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function If(e){if(!pg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!pg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function pg(e){return Object.prototype.toString.call(e)==="[object Object]"}function oj(e){return new Promise(t=>{setTimeout(t,e)})}function Of(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?b0(e,t):t}function aj(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function lj(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var hm=Symbol();function N0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===hm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var $s,Yn,Qi,Fv,cj=(Fv=class extends ko{constructor(){super();se(this,$s);se(this,Yn);se(this,Qi);G(this,Qi,t=>{if(!ti&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){j(this,Yn)||this.setEventListener(j(this,Qi))}onUnsubscribe(){var t;this.hasListeners()||((t=j(this,Yn))==null||t.call(this),G(this,Yn,void 0))}setEventListener(t){var r;G(this,Qi,t),(r=j(this,Yn))==null||r.call(this),G(this,Yn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){j(this,$s)!==t&&(G(this,$s,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof j(this,$s)=="boolean"?j(this,$s):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},$s=new WeakMap,Yn=new WeakMap,Qi=new WeakMap,Fv),mm=new cj,Ki,Xn,Zi,zv,uj=(zv=class extends ko{constructor(){super();se(this,Ki,!0);se(this,Xn);se(this,Zi);G(this,Zi,t=>{if(!ti&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){j(this,Xn)||this.setEventListener(j(this,Zi))}onUnsubscribe(){var t;this.hasListeners()||((t=j(this,Xn))==null||t.call(this),G(this,Xn,void 0))}setEventListener(t){var r;G(this,Zi,t),(r=j(this,Xn))==null||r.call(this),G(this,Xn,t(this.setOnline.bind(this)))}setOnline(t){j(this,Ki)!==t&&(G(this,Ki,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return j(this,Ki)}},Ki=new WeakMap,Xn=new WeakMap,Zi=new WeakMap,zv),Dc=new uj;function Mf(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function dj(e){return Math.min(1e3*2**e,3e4)}function S0(e){return(e??"online")==="online"?Dc.isOnline():!0}var _0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function xd(e){return e instanceof _0}function j0(e){let t=!1,r=0,n=!1,s;const i=Mf(),a=x=>{var S;n||(h(new _0(x)),(S=e.abort)==null||S.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>mm.isFocused()&&(e.networkMode==="always"||Dc.isOnline())&&e.canRun(),d=()=>S0(e.networkMode)&&e.canRun(),f=x=>{var S;n||(n=!0,(S=e.onSuccess)==null||S.call(e,x),s==null||s(),i.resolve(x))},h=x=>{var S;n||(n=!0,(S=e.onError)==null||S.call(e,x),s==null||s(),i.reject(x))},g=()=>new Promise(x=>{var S;s=v=>{(n||u())&&x(v)},(S=e.onPause)==null||S.call(e)}).then(()=>{var x;s=void 0,n||(x=e.onContinue)==null||x.call(e)}),y=()=>{if(n)return;let x;const S=r===0?e.initialPromise:void 0;try{x=S??e.fn()}catch(v){x=Promise.reject(v)}Promise.resolve(x).then(f).catch(v=>{var E;if(n)return;const p=e.retry??(ti?0:3),w=e.retryDelay??dj,N=typeof w=="function"?w(r,v):w,_=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,v);if(t||!_){h(v);return}r++,(E=e.onFail)==null||E.call(e,r,v),oj(N).then(()=>u()?void 0:g()).then(()=>{t?h(v):y()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():g().then(y),i)}}function fj(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{t?e.push(l):s(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var ct=fj(),Us,$v,k0=($v=class{constructor(){se(this,Us)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pf(this.gcTime)&&G(this,Us,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ti?1/0:5*60*1e3))}clearGcTimeout(){j(this,Us)&&(clearTimeout(j(this,Us)),G(this,Us,void 0))}},Us=new WeakMap,$v),qi,Gi,cr,Et,Xa,Vs,jr,hn,Uv,hj=(Uv=class extends k0{constructor(t){super();se(this,jr);se(this,qi);se(this,Gi);se(this,cr);se(this,Et);se(this,Xa);se(this,Vs);G(this,Vs,!1),G(this,Xa,t.defaultOptions),this.setOptions(t.options),this.observers=[],G(this,cr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,G(this,qi,mj(this.options)),this.state=t.state??j(this,qi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=j(this,Et))==null?void 0:t.promise}setOptions(t){this.options={...j(this,Xa),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,cr).remove(this)}setData(t,r){const n=Of(this.state.data,t,this.options);return de(this,jr,hn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){de(this,jr,hn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=j(this,Et))==null?void 0:n.promise;return(s=j(this,Et))==null||s.cancel(t),r?r.then(ur).catch(ur):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,qi))}isActive(){return this.observers.some(t=>Cr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!w0(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=j(this,Et))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=j(this,Et))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),j(this,cr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(j(this,Et)&&(j(this,Vs)?j(this,Et).cancel({revert:!0}):j(this,Et).cancelRetry()),this.scheduleGc()),j(this,cr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||de(this,jr,hn).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(j(this,Et))return j(this,Et).continueRetry(),j(this,Et).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(G(this,Vs,!0),n.signal)})},i=()=>{const f=N0(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),G(this,Vs,!1),this.options.persister?this.options.persister(f,h,this):f(h)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),G(this,Gi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&de(this,jr,hn).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,g,y,x;xd(f)&&f.silent||de(this,jr,hn).call(this,{type:"error",error:f}),xd(f)||((g=(h=j(this,cr).config).onError)==null||g.call(h,f,this),(x=(y=j(this,cr).config).onSettled)==null||x.call(y,this.state.data,f,this)),this.scheduleGc()};return G(this,Et,j0({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,g,y,x;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(S){l(S);return}(g=(h=j(this,cr).config).onSuccess)==null||g.call(h,f,this),(x=(y=j(this,cr).config).onSettled)==null||x.call(y,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{de(this,jr,hn).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{de(this,jr,hn).call(this,{type:"pause"})},onContinue:()=>{de(this,jr,hn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),j(this,Et).start()}},qi=new WeakMap,Gi=new WeakMap,cr=new WeakMap,Et=new WeakMap,Xa=new WeakMap,Vs=new WeakMap,jr=new WeakSet,hn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...E0(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return xd(s)&&s.revert&&j(this,Gi)?{...j(this,Gi),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ct.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),j(this,cr).notify({query:this,type:"updated",action:t})})},Uv);function E0(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:S0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function mj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Wr,Vv,pj=(Vv=class extends ko{constructor(t={}){super();se(this,Wr);this.config=t,G(this,Wr,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??fm(s,r);let a=this.get(i);return a||(a=new hj({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){j(this,Wr).has(t.queryHash)||(j(this,Wr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=j(this,Wr).get(t.queryHash);r&&(t.destroy(),r===t&&j(this,Wr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ct.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return j(this,Wr).get(t)}getAll(){return[...j(this,Wr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>fg(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>fg(t,n)):r}notify(t){ct.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ct.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ct.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Wr=new WeakMap,Vv),Hr,Ot,Bs,Qr,Vn,Bv,gj=(Bv=class extends k0{constructor(t){super();se(this,Qr);se(this,Hr);se(this,Ot);se(this,Bs);this.mutationId=t.mutationId,G(this,Ot,t.mutationCache),G(this,Hr,[]),this.state=t.state||C0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){j(this,Hr).includes(t)||(j(this,Hr).push(t),this.clearGcTimeout(),j(this,Ot).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){G(this,Hr,j(this,Hr).filter(r=>r!==t)),this.scheduleGc(),j(this,Ot).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){j(this,Hr).length||(this.state.status==="pending"?this.scheduleGc():j(this,Ot).remove(this))}continue(){var t;return((t=j(this,Bs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,a,l,c,u,d,f,h,g,y,x,S,v,p,w,N,_,E,C;G(this,Bs,j0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,O)=>{de(this,Qr,Vn).call(this,{type:"failed",failureCount:R,error:O})},onPause:()=>{de(this,Qr,Vn).call(this,{type:"pause"})},onContinue:()=>{de(this,Qr,Vn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,Ot).canRun(this)}));const r=this.state.status==="pending",n=!j(this,Bs).canStart();try{if(!r){de(this,Qr,Vn).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(s=j(this,Ot).config).onMutate)==null?void 0:i.call(s,t,this));const O=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));O!==this.state.context&&de(this,Qr,Vn).call(this,{type:"pending",context:O,variables:t,isPaused:n})}const R=await j(this,Bs).start();return await((u=(c=j(this,Ot).config).onSuccess)==null?void 0:u.call(c,R,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,R,t,this.state.context)),await((g=(h=j(this,Ot).config).onSettled)==null?void 0:g.call(h,R,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,R,null,t,this.state.context)),de(this,Qr,Vn).call(this,{type:"success",data:R}),R}catch(R){try{throw await((v=(S=j(this,Ot).config).onError)==null?void 0:v.call(S,R,t,this.state.context,this)),await((w=(p=this.options).onError)==null?void 0:w.call(p,R,t,this.state.context)),await((_=(N=j(this,Ot).config).onSettled)==null?void 0:_.call(N,void 0,R,this.state.variables,this.state.context,this)),await((C=(E=this.options).onSettled)==null?void 0:C.call(E,void 0,R,t,this.state.context)),R}finally{de(this,Qr,Vn).call(this,{type:"error",error:R})}}finally{j(this,Ot).runNext(this)}}},Hr=new WeakMap,Ot=new WeakMap,Bs=new WeakMap,Qr=new WeakSet,Vn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ct.batch(()=>{j(this,Hr).forEach(n=>{n.onMutationUpdate(t)}),j(this,Ot).notify({mutation:this,type:"updated",action:t})})},Bv);function C0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jt,Ja,Wv,vj=(Wv=class extends ko{constructor(t={}){super();se(this,Jt);se(this,Ja);this.config=t,G(this,Jt,new Map),G(this,Ja,Date.now())}build(t,r,n){const s=new gj({mutationCache:this,mutationId:++pl(this,Ja)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=Il(t),n=j(this,Jt).get(r)??[];n.push(t),j(this,Jt).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Il(t);if(j(this,Jt).has(r)){const s=(n=j(this,Jt).get(r))==null?void 0:n.filter(i=>i!==t);s&&(s.length===0?j(this,Jt).delete(r):j(this,Jt).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=j(this,Jt).get(Il(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=j(this,Jt).get(Il(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ct.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...j(this,Jt).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>hg(r,n))}findAll(t={}){return this.getAll().filter(r=>hg(t,r))}notify(t){ct.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ct.batch(()=>Promise.all(t.map(r=>r.continue().catch(ur))))}},Jt=new WeakMap,Ja=new WeakMap,Wv);function Il(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function gg(e){return{onFetch:(t,r)=>{var d,f,h,g,y;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((g=t.state.data)==null?void 0:g.pages)||[],a=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const S=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},v=N0(t.options,t.fetchOptions),p=async(w,N,_)=>{if(x)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const E={queryKey:t.queryKey,pageParam:N,direction:_?"backward":"forward",meta:t.options.meta};S(E);const C=await v(E),{maxPages:R}=t.options,O=_?lj:aj;return{pages:O(w.pages,C,R),pageParams:O(w.pageParams,N,R)}};if(s&&i.length){const w=s==="backward",N=w?yj:vg,_={pages:i,pageParams:a},E=N(n,_);l=await p(_,E,w)}else{const w=e??i.length;do{const N=c===0?a[0]??n.initialPageParam:vg(n,l);if(c>0&&N==null)break;l=await p(l,N),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var x,S;return(S=(x=t.options).persister)==null?void 0:S.call(x,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function vg(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function yj(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var He,Jn,es,Yi,Xi,ts,Ji,eo,Hv,xj=(Hv=class{constructor(e={}){se(this,He);se(this,Jn);se(this,es);se(this,Yi);se(this,Xi);se(this,ts);se(this,Ji);se(this,eo);G(this,He,e.queryCache||new pj),G(this,Jn,e.mutationCache||new vj),G(this,es,e.defaultOptions||{}),G(this,Yi,new Map),G(this,Xi,new Map),G(this,ts,0)}mount(){pl(this,ts)._++,j(this,ts)===1&&(G(this,Ji,mm.subscribe(async e=>{e&&(await this.resumePausedMutations(),j(this,He).onFocus())})),G(this,eo,Dc.subscribe(async e=>{e&&(await this.resumePausedMutations(),j(this,He).onOnline())})))}unmount(){var e,t;pl(this,ts)._--,j(this,ts)===0&&((e=j(this,Ji))==null||e.call(this),G(this,Ji,void 0),(t=j(this,eo))==null||t.call(this),G(this,eo,void 0))}isFetching(e){return j(this,He).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return j(this,Jn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=j(this,He).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=j(this,He).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Li(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return j(this,He).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=j(this,He).get(n.queryHash),i=s==null?void 0:s.state.data,a=ij(t,i);if(a!==void 0)return j(this,He).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return ct.batch(()=>j(this,He).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=j(this,He).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=j(this,He);ct.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=j(this,He),n={type:"active",...e};return ct.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=ct.batch(()=>j(this,He).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(ur).catch(ur)}invalidateQueries(e={},t={}){return ct.batch(()=>{if(j(this,He).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=ct.batch(()=>j(this,He).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(ur)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ur)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=j(this,He).build(this,t);return r.isStaleByTime(Li(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ur).catch(ur)}fetchInfiniteQuery(e){return e.behavior=gg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ur).catch(ur)}ensureInfiniteQueryData(e){return e.behavior=gg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Dc.isOnline()?j(this,Jn).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,He)}getMutationCache(){return j(this,Jn)}getDefaultOptions(){return j(this,es)}setDefaultOptions(e){G(this,es,e)}setQueryDefaults(e,t){j(this,Yi).set(ri(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...j(this,Yi).values()];let r={};return t.forEach(n=>{Pa(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){j(this,Xi).set(ri(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...j(this,Xi).values()];let r={};return t.forEach(n=>{Pa(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...j(this,es).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=fm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===hm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...j(this,es).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){j(this,He).clear(),j(this,Jn).clear()}},He=new WeakMap,Jn=new WeakMap,es=new WeakMap,Yi=new WeakMap,Xi=new WeakMap,ts=new WeakMap,Ji=new WeakMap,eo=new WeakMap,Hv),Qt,ve,el,Mt,Ws,to,rs,Kr,tl,ro,no,Hs,Qs,ns,so,_e,Zo,Lf,Df,Ff,zf,$f,Uf,Vf,T0,Qv,wj=(Qv=class extends ko{constructor(t,r){super();se(this,_e);se(this,Qt);se(this,ve);se(this,el);se(this,Mt);se(this,Ws);se(this,to);se(this,rs);se(this,Kr);se(this,tl);se(this,ro);se(this,no);se(this,Hs);se(this,Qs);se(this,ns);se(this,so,new Set);this.options=r,G(this,Qt,t),G(this,Kr,null),G(this,rs,Mf()),this.options.experimental_prefetchInRender||j(this,rs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(j(this,ve).addObserver(this),yg(j(this,ve),this.options)?de(this,_e,Zo).call(this):this.updateResult(),de(this,_e,zf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Bf(j(this,ve),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Bf(j(this,ve),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,de(this,_e,$f).call(this),de(this,_e,Uf).call(this),j(this,ve).removeObserver(this)}setOptions(t,r){const n=this.options,s=j(this,ve);if(this.options=j(this,Qt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Cr(this.options.enabled,j(this,ve))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");de(this,_e,Vf).call(this),j(this,ve).setOptions(this.options),n._defaulted&&!Lc(this.options,n)&&j(this,Qt).getQueryCache().notify({type:"observerOptionsUpdated",query:j(this,ve),observer:this});const i=this.hasListeners();i&&xg(j(this,ve),s,this.options,n)&&de(this,_e,Zo).call(this),this.updateResult(r),i&&(j(this,ve)!==s||Cr(this.options.enabled,j(this,ve))!==Cr(n.enabled,j(this,ve))||Li(this.options.staleTime,j(this,ve))!==Li(n.staleTime,j(this,ve)))&&de(this,_e,Lf).call(this);const a=de(this,_e,Df).call(this);i&&(j(this,ve)!==s||Cr(this.options.enabled,j(this,ve))!==Cr(n.enabled,j(this,ve))||a!==j(this,ns))&&de(this,_e,Ff).call(this,a)}getOptimisticResult(t){const r=j(this,Qt).getQueryCache().build(j(this,Qt),t),n=this.createResult(r,t);return Nj(this,n)&&(G(this,Mt,n),G(this,to,this.options),G(this,Ws,j(this,ve).state)),n}getCurrentResult(){return j(this,Mt)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){j(this,so).add(t)}getCurrentQuery(){return j(this,ve)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=j(this,Qt).defaultQueryOptions(t),n=j(this,Qt).getQueryCache().build(j(this,Qt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return de(this,_e,Zo).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),j(this,Mt)))}createResult(t,r){var R;const n=j(this,ve),s=this.options,i=j(this,Mt),a=j(this,Ws),l=j(this,to),u=t!==n?t.state:j(this,el),{state:d}=t;let f={...d},h=!1,g;if(r._optimisticResults){const O=this.hasListeners(),M=!O&&yg(t,r),Q=O&&xg(t,n,r,s);(M||Q)&&(f={...f,...E0(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:x,status:S}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(a==null?void 0:a.data)&&r.select===j(this,tl))g=j(this,ro);else try{G(this,tl,r.select),g=r.select(f.data),g=Of(i==null?void 0:i.data,g,r),G(this,ro,g),G(this,Kr,null)}catch(O){G(this,Kr,O)}else g=f.data;if(r.placeholderData!==void 0&&g===void 0&&S==="pending"){let O;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))O=i.data;else if(O=typeof r.placeholderData=="function"?r.placeholderData((R=j(this,no))==null?void 0:R.state.data,j(this,no)):r.placeholderData,r.select&&O!==void 0)try{O=r.select(O),G(this,Kr,null)}catch(M){G(this,Kr,M)}O!==void 0&&(S="success",g=Of(i==null?void 0:i.data,O,r),h=!0)}j(this,Kr)&&(y=j(this,Kr),g=j(this,ro),x=Date.now(),S="error");const v=f.fetchStatus==="fetching",p=S==="pending",w=S==="error",N=p&&v,_=g!==void 0,C={status:S,fetchStatus:f.fetchStatus,isPending:p,isSuccess:S==="success",isError:w,isInitialLoading:N,isLoading:N,data:g,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!p,isLoadingError:w&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&_,isStale:pm(t,r),refetch:this.refetch,promise:j(this,rs)};if(this.options.experimental_prefetchInRender){const O=L=>{C.status==="error"?L.reject(C.error):C.data!==void 0&&L.resolve(C.data)},M=()=>{const L=G(this,rs,C.promise=Mf());O(L)},Q=j(this,rs);switch(Q.status){case"pending":t.queryHash===n.queryHash&&O(Q);break;case"fulfilled":(C.status==="error"||C.data!==Q.value)&&M();break;case"rejected":(C.status!=="error"||C.error!==Q.reason)&&M();break}}return C}updateResult(t){const r=j(this,Mt),n=this.createResult(j(this,ve),this.options);if(G(this,Ws,j(this,ve).state),G(this,to,this.options),j(this,Ws).data!==void 0&&G(this,no,j(this,ve)),Lc(n,r))return;G(this,Mt,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!j(this,so).size)return!0;const c=new Set(l??j(this,so));return this.options.throwOnError&&c.add("error"),Object.keys(j(this,Mt)).some(u=>{const d=u;return j(this,Mt)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),de(this,_e,T0).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&de(this,_e,zf).call(this)}},Qt=new WeakMap,ve=new WeakMap,el=new WeakMap,Mt=new WeakMap,Ws=new WeakMap,to=new WeakMap,rs=new WeakMap,Kr=new WeakMap,tl=new WeakMap,ro=new WeakMap,no=new WeakMap,Hs=new WeakMap,Qs=new WeakMap,ns=new WeakMap,so=new WeakMap,_e=new WeakSet,Zo=function(t){de(this,_e,Vf).call(this);let r=j(this,ve).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ur)),r},Lf=function(){de(this,_e,$f).call(this);const t=Li(this.options.staleTime,j(this,ve));if(ti||j(this,Mt).isStale||!Pf(t))return;const n=w0(j(this,Mt).dataUpdatedAt,t)+1;G(this,Hs,setTimeout(()=>{j(this,Mt).isStale||this.updateResult()},n))},Df=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(j(this,ve)):this.options.refetchInterval)??!1},Ff=function(t){de(this,_e,Uf).call(this),G(this,ns,t),!(ti||Cr(this.options.enabled,j(this,ve))===!1||!Pf(j(this,ns))||j(this,ns)===0)&&G(this,Qs,setInterval(()=>{(this.options.refetchIntervalInBackground||mm.isFocused())&&de(this,_e,Zo).call(this)},j(this,ns)))},zf=function(){de(this,_e,Lf).call(this),de(this,_e,Ff).call(this,de(this,_e,Df).call(this))},$f=function(){j(this,Hs)&&(clearTimeout(j(this,Hs)),G(this,Hs,void 0))},Uf=function(){j(this,Qs)&&(clearInterval(j(this,Qs)),G(this,Qs,void 0))},Vf=function(){const t=j(this,Qt).getQueryCache().build(j(this,Qt),this.options);if(t===j(this,ve))return;const r=j(this,ve);G(this,ve,t),G(this,el,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},T0=function(t){ct.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(j(this,Mt))}),j(this,Qt).getQueryCache().notify({query:j(this,ve),type:"observerResultsUpdated"})})},Qv);function bj(e,t){return Cr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function yg(e,t){return bj(e,t)||e.state.data!==void 0&&Bf(e,t,t.refetchOnMount)}function Bf(e,t,r){if(Cr(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&pm(e,t)}return!1}function xg(e,t,r,n){return(e!==t||Cr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&pm(e,r)}function pm(e,t){return Cr(t.enabled,e)!==!1&&e.isStaleByTime(Li(t.staleTime,e))}function Nj(e,t){return!Lc(e.getCurrentResult(),t)}var ss,is,Kt,xn,kn,Xl,Wf,Kv,Sj=(Kv=class extends ko{constructor(r,n){super();se(this,kn);se(this,ss);se(this,is);se(this,Kt);se(this,xn);G(this,ss,r),this.setOptions(n),this.bindMethods(),de(this,kn,Xl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=j(this,ss).defaultMutationOptions(r),Lc(this.options,n)||j(this,ss).getMutationCache().notify({type:"observerOptionsUpdated",mutation:j(this,Kt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ri(n.mutationKey)!==ri(this.options.mutationKey)?this.reset():((s=j(this,Kt))==null?void 0:s.state.status)==="pending"&&j(this,Kt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=j(this,Kt))==null||r.removeObserver(this)}onMutationUpdate(r){de(this,kn,Xl).call(this),de(this,kn,Wf).call(this,r)}getCurrentResult(){return j(this,is)}reset(){var r;(r=j(this,Kt))==null||r.removeObserver(this),G(this,Kt,void 0),de(this,kn,Xl).call(this),de(this,kn,Wf).call(this)}mutate(r,n){var s;return G(this,xn,n),(s=j(this,Kt))==null||s.removeObserver(this),G(this,Kt,j(this,ss).getMutationCache().build(j(this,ss),this.options)),j(this,Kt).addObserver(this),j(this,Kt).execute(r)}},ss=new WeakMap,is=new WeakMap,Kt=new WeakMap,xn=new WeakMap,kn=new WeakSet,Xl=function(){var n;const r=((n=j(this,Kt))==null?void 0:n.state)??C0();G(this,is,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Wf=function(r){ct.batch(()=>{var n,s,i,a,l,c,u,d;if(j(this,xn)&&this.hasListeners()){const f=j(this,is).variables,h=j(this,is).context;(r==null?void 0:r.type)==="success"?((s=(n=j(this,xn)).onSuccess)==null||s.call(n,r.data,f,h),(a=(i=j(this,xn)).onSettled)==null||a.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=j(this,xn)).onError)==null||c.call(l,r.error,f,h),(d=(u=j(this,xn)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(j(this,is))})})},Kv),R0=m.createContext(void 0),Eo=e=>{const t=m.useContext(R0);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},_j=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(R0.Provider,{value:e,children:t})),A0=m.createContext(!1),jj=()=>m.useContext(A0);A0.Provider;function kj(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Ej=m.createContext(kj()),Cj=()=>m.useContext(Ej);function P0(e,t){return typeof e=="function"?e(...t):!!e}function Hf(){}var Tj=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Rj=e=>{m.useEffect(()=>{e.clearReset()},[e])},Aj=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&P0(r,[e.error,n]),Pj=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Ij=(e,t)=>e.isLoading&&e.isFetching&&!t,Oj=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,wg=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Mj(e,t,r){var d,f,h,g,y;const n=Eo(),s=jj(),i=Cj(),a=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,a),a._optimisticResults=s?"isRestoring":"optimistic",Pj(a),Tj(a,i),Rj(i);const l=!n.getQueryCache().get(a.queryHash),[c]=m.useState(()=>new t(n,a)),u=c.getOptimisticResult(a);if(m.useSyncExternalStore(m.useCallback(x=>{const S=s?Hf:c.subscribe(ct.batchCalls(x));return c.updateResult(),S},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),Oj(a,u))throw wg(a,c,i);if(Aj({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash)}))throw u.error;if((g=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,a,u),a.experimental_prefetchInRender&&!ti&&Ij(u,s)){const x=l?wg(a,c,i):(y=n.getQueryCache().get(a.queryHash))==null?void 0:y.promise;x==null||x.catch(Hf).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Ut(e,t){return Mj(e,wj)}function ju(e,t){const r=Eo(),[n]=m.useState(()=>new Sj(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(a=>n.subscribe(ct.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=m.useCallback((a,l)=>{n.mutate(a,l).catch(Hf)},[n]);if(s.error&&P0(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const Lj=()=>{};var bg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):(s&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128)}return t},Dj=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const s=e[r++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[r++];t[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[r++],a=e[r++],l=e[r++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const i=e[r++],a=e[r++];t[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return t.join("")},O0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<e.length;s+=3){const i=e[s],a=s+1<e.length,l=a?e[s+1]:0,c=s+2<e.length,u=c?e[s+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let h=(l&15)<<2|u>>6,g=u&63;c||(g=64,a||(h=64)),n.push(r[d],r[f],r[h],r[g])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(I0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Dj(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<e.length;){const i=r[e.charAt(s++)],l=s<e.length?r[e.charAt(s)]:0;++s;const u=s<e.length?r[e.charAt(s)]:64;++s;const f=s<e.length?r[e.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new Fj;const h=i<<2|l>>4;if(n.push(h),u!==64){const g=l<<4&240|u>>2;if(n.push(g),f!==64){const y=u<<6&192|f;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Fj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zj=function(e){const t=I0(e);return O0.encodeByteArray(t,!0)},M0=function(e){return zj(e).replace(/\./g,"")},L0=function(e){try{return O0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=()=>$j().__FIREBASE_DEFAULTS__,Vj=()=>{if(typeof process>"u"||typeof bg>"u")return;const e=bg.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Bj=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&L0(e[1]);return t&&JSON.parse(t)},Wj=()=>{try{return Lj()||Uj()||Vj()||Bj()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Hj=e=>{var t;return(t=Wj())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function Kj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Zj(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function qj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gj(){try{return typeof indexedDB=="object"}catch{return!1}}function Yj(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;t(((i=s.error)==null?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="FirebaseError";class ui extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=Xj,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,al.prototype.create)}}class al{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},s=`${this.service}/${t}`,i=this.errors[t],a=i?Jj(i,n):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new ui(s,l,n)}}function Jj(e,t){return e.replace(ek,(r,n)=>{const s=t[n];return s!=null?String(s):`<${n}?>`})}const ek=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(s=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function tk(e,t){const r=new rk(e,t);return r.subscribe.bind(r)}class rk{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let s;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");nk(t,["next","error","complete"])?s=t:s={next:t,error:r,complete:n},s.next===void 0&&(s.next=wd),s.error===void 0&&(s.error=wd),s.complete===void 0&&(s.complete=wd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nk(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(e){return e&&e._delegate?e._delegate:e}class Ia{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Te||(Te={}));const sk={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},ik=Te.INFO,ok={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},ak=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),s=ok[t];if(s)console[s](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class F0{constructor(t){this.name=t,this._logLevel=ik,this._logHandler=ak,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Te))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...t),this._logHandler(this,Te.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...t),this._logHandler(this,Te.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...t),this._logHandler(this,Te.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...t),this._logHandler(this,Te.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...t),this._logHandler(this,Te.ERROR,...t)}}const lk=(e,t)=>t.some(r=>e instanceof r);let Ng,Sg;function ck(){return Ng||(Ng=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uk(){return Sg||(Sg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z0=new WeakMap,Qf=new WeakMap,$0=new WeakMap,bd=new WeakMap,vm=new WeakMap;function dk(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{r(gs(e.result)),s()},a=()=>{n(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(r=>{r instanceof IDBCursor&&z0.set(r,e)}).catch(()=>{}),vm.set(t,e),t}function fk(e){if(Qf.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{r(),s()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Qf.set(e,t)}let Kf={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Qf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||$0.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return gs(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function hk(e){Kf=e(Kf)}function mk(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Nd(this),t,...r);return $0.set(n,t.sort?t.sort():[t]),gs(n)}:uk().includes(e)?function(...t){return e.apply(Nd(this),t),gs(z0.get(this))}:function(...t){return gs(e.apply(Nd(this),t))}}function pk(e){return typeof e=="function"?mk(e):(e instanceof IDBTransaction&&fk(e),lk(e,ck())?new Proxy(e,Kf):e)}function gs(e){if(e instanceof IDBRequest)return dk(e);if(bd.has(e))return bd.get(e);const t=pk(e);return t!==e&&(bd.set(e,t),vm.set(t,e)),t}const Nd=e=>vm.get(e);function gk(e,t,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),l=gs(a);return n&&a.addEventListener("upgradeneeded",c=>{n(gs(a.result),c.oldVersion,c.newVersion,gs(a.transaction),c)}),r&&a.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const vk=["get","getKey","getAll","getAllKeys","count"],yk=["put","add","delete","clear"],Sd=new Map;function _g(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Sd.get(t))return Sd.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=yk.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||vk.includes(r)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),s&&c.done]))[0]};return Sd.set(t,i),i}hk(e=>({...e,get:(t,r,n)=>_g(t,r)||e.get(t,r,n),has:(t,r)=>!!_g(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(wk(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function wk(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Zf="@firebase/app",jg="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new F0("@firebase/app"),bk="@firebase/app-compat",Nk="@firebase/analytics-compat",Sk="@firebase/analytics",_k="@firebase/app-check-compat",jk="@firebase/app-check",kk="@firebase/auth",Ek="@firebase/auth-compat",Ck="@firebase/database",Tk="@firebase/data-connect",Rk="@firebase/database-compat",Ak="@firebase/functions",Pk="@firebase/functions-compat",Ik="@firebase/installations",Ok="@firebase/installations-compat",Mk="@firebase/messaging",Lk="@firebase/messaging-compat",Dk="@firebase/performance",Fk="@firebase/performance-compat",zk="@firebase/remote-config",$k="@firebase/remote-config-compat",Uk="@firebase/storage",Vk="@firebase/storage-compat",Bk="@firebase/firestore",Wk="@firebase/ai",Hk="@firebase/firestore-compat",Qk="firebase",Kk="12.3.0",Zk={[Zf]:"fire-core",[bk]:"fire-core-compat",[Sk]:"fire-analytics",[Nk]:"fire-analytics-compat",[jk]:"fire-app-check",[_k]:"fire-app-check-compat",[kk]:"fire-auth",[Ek]:"fire-auth-compat",[Ck]:"fire-rtdb",[Tk]:"fire-data-connect",[Rk]:"fire-rtdb-compat",[Ak]:"fire-fn",[Pk]:"fire-fn-compat",[Ik]:"fire-iid",[Ok]:"fire-iid-compat",[Mk]:"fire-fcm",[Lk]:"fire-fcm-compat",[Dk]:"fire-perf",[Fk]:"fire-perf-compat",[zk]:"fire-rc",[$k]:"fire-rc-compat",[Uk]:"fire-gcs",[Vk]:"fire-gcs-compat",[Bk]:"fire-fst",[Hk]:"fire-fst-compat",[Wk]:"fire-vertex","fire-js":"fire-js",[Qk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=new Map,Gk=new Map,kg=new Map;function Eg(e,t){try{e.container.addComponent(t)}catch(r){An.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Oa(e){const t=e.name;if(kg.has(t))return An.debug(`There were multiple attempts to register component ${t}.`),!1;kg.set(t,e);for(const r of qk.values())Eg(r,e);for(const r of Gk.values())Eg(r,e);return!0}function pi(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ym=new al("app","Firebase",Yk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=Kk;function Di(e,t,r){let n=Zk[e]??e;r&&(n+=`-${r}`);const s=n.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const a=[`Unable to register library "${n}" with version "${t}":`];s&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),An.warn(a.join(" "));return}Oa(new Ia(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="firebase-heartbeat-database",Jk=1,Ma="firebase-heartbeat-store";let _d=null;function U0(){return _d||(_d=gk(Xk,Jk,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ma)}catch(r){console.warn(r)}}}}).catch(e=>{throw ym.create("idb-open",{originalErrorMessage:e.message})})),_d}async function eE(e){try{const r=(await U0()).transaction(Ma),n=await r.objectStore(Ma).get(V0(e));return await r.done,n}catch(t){if(t instanceof ui)An.warn(t.message);else{const r=ym.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});An.warn(r.message)}}}async function Cg(e,t){try{const n=(await U0()).transaction(Ma,"readwrite");await n.objectStore(Ma).put(t,V0(e)),await n.done}catch(r){if(r instanceof ui)An.warn(r.message);else{const n=ym.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});An.warn(n.message)}}}function V0(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=1024,rE=30;class nE{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new iE(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Tg();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>rE){const a=oE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){An.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Tg(),{heartbeatsToSend:n,unsentEntries:s}=sE(this._heartbeatsCache.heartbeats),i=M0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return An.warn(r),""}}}function Tg(){return new Date().toISOString().substring(0,10)}function sE(e,t=tE){const r=[];let n=e.slice();for(const s of e){const i=r.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Rg(r)>t){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),Rg(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class iE{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gj()?Yj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await eE(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return Cg(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return Cg(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function Rg(e){return M0(JSON.stringify({version:2,heartbeats:e})).length}function oE(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(e){Oa(new Ia("platform-logger",t=>new xk(t),"PRIVATE")),Oa(new Ia("heartbeat",t=>new nE(t),"PRIVATE")),Di(Zf,jg,e),Di(Zf,jg,"esm2020"),Di("fire-js","")}aE("");var lE="firebase",cE="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(lE,cE,"app");function B0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uE=B0,W0=new al("auth","Firebase",B0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new F0("@firebase/auth");function dE(e,...t){Fc.logLevel<=Te.WARN&&Fc.warn(`Auth (${xm}): ${e}`,...t)}function Jl(e,...t){Fc.logLevel<=Te.ERROR&&Fc.error(`Auth (${xm}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(e,...t){throw wm(e,...t)}function H0(e,...t){return wm(e,...t)}function Q0(e,t,r){const n={...uE(),[t]:r};return new al("auth","Firebase",n).create(t,{appName:e.name})}function ec(e){return Q0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wm(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return W0.create(e,...t)}function be(e,t,...r){if(!e)throw wm(t,...r)}function Sn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Jl(t),new Error(t)}function $c(e,t){e||Sn(t)}function fE(){return Ag()==="http:"||Ag()==="https:"}function Ag(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fE()||Zj()||"connection"in navigator)?navigator.onLine:!0}function mE(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(t,r){this.shortDelay=t,this.longDelay=r,$c(r>t,"Short delay should be less than long delay!"),this.isMobile=Qj()||qj()}get(){return hE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(e,t){$c(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yE=new ll(3e4,6e4);function bm(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function cl(e,t,r,n,s={}){return Z0(e,s,async()=>{let i={},a={};n&&(t==="GET"?a=n:i={body:JSON.stringify(n)});const l=gm({key:e.config.apiKey,...a}).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:c,...i};return Kj()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&D0(e.emulatorConfig.host)&&(u.credentials="include"),K0.fetch()(await q0(e,e.config.apiHost,r,l),u)})}async function Z0(e,t,r){e._canInitEmulator=!1;const n={...gE,...t};try{const s=new wE(e),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Ol(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ol(e,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Ol(e,"email-already-in-use",a);if(c==="USER_DISABLED")throw Ol(e,"user-disabled",a);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Q0(e,d,u);zc(e,d)}}catch(s){if(s instanceof ui)throw s;zc(e,"network-request-failed",{message:String(s)})}}async function xE(e,t,r,n,s={}){const i=await cl(e,t,r,n,s);return"mfaPendingCredential"in i&&zc(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function q0(e,t,r,n){const s=`${t}${r}?${n}`,i=e,a=i.config.emulator?pE(e.config,s):`${e.config.apiScheme}://${s}`;return vE.includes(r)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}class wE{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(H0(this.auth,"network-request-failed")),yE.get())})}}function Ol(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=H0(e,t,n);return s.customData._tokenResponse=r,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bE(e,t){return cl(e,"POST","/v1/accounts:delete",t)}async function Uc(e,t){return cl(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function NE(e,t=!1){const r=ku(e),n=await r.getIdToken(t),s=G0(n);be(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:oa(jd(s.auth_time)),issuedAtTime:oa(jd(s.iat)),expirationTime:oa(jd(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function jd(e){return Number(e)*1e3}function G0(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return Jl("JWT malformed, contained fewer than 3 sections"),null;try{const s=L0(r);return s?JSON.parse(s):(Jl("Failed to decode base64 JWT payload"),null)}catch(s){return Jl("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Pg(e){const t=G0(e);return be(t,"internal-error"),be(typeof t.exp<"u","internal-error"),be(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof ui&&SE(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function SE({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=oa(this.lastLoginAt),this.creationTime=oa(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(e){var f;const t=e.auth,r=await e.getIdToken(),n=await qf(e,Uc(t,{idToken:r}));be(n==null?void 0:n.users.length,t,"internal-error");const s=n.users[0];e._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?Y0(s.providerUserInfo):[],a=kE(e.providerData,i),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gf(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}async function jE(e){const t=ku(e);await Vc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kE(e,t){return[...e.filter(n=>!t.some(s=>s.providerId===n.providerId)),...t]}function Y0(e){return e.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EE(e,t){const r=await Z0(e,{},async()=>{const n=gm({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=e.config,a=await q0(e,s,"/v1/token",`key=${i}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return e.emulatorConfig&&D0(e.emulatorConfig.host)&&(c.credentials="include"),K0.fetch()(a,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function CE(e,t){return cl(e,"POST","/v2/accounts:revokeToken",bm(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){be(t.idToken,"internal-error"),be(typeof t.idToken<"u","internal-error"),be(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Pg(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){be(t.length!==0,"internal-error");const r=Pg(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await EE(t,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,a=new Fi;return n&&(be(typeof n=="string","internal-error",{appName:t}),a.refreshToken=n),s&&(be(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),i&&(be(typeof i=="number","internal-error",{appName:t}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fi,this.toJSON())}_performRefresh(){return Sn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(e,t){be(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Yr{constructor({uid:t,auth:r,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new _E(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const r=await qf(this,this.stsTokenManager.getToken(this.auth,t));return be(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return NE(this,t)}reload(){return jE(this)}_assign(t){this!==t&&(be(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Yr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await Vc(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(ec(this.auth));const t=await this.getIdToken();return await qf(this,bE(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const n=r.displayName??void 0,s=r.email??void 0,i=r.phoneNumber??void 0,a=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:g,providerData:y,stsTokenManager:x}=r;be(f&&x,t,"internal-error");const S=Fi.fromJSON(this.name,x);be(typeof f=="string",t,"internal-error"),Fn(n,t.name),Fn(s,t.name),be(typeof h=="boolean",t,"internal-error"),be(typeof g=="boolean",t,"internal-error"),Fn(i,t.name),Fn(a,t.name),Fn(l,t.name),Fn(c,t.name),Fn(u,t.name),Fn(d,t.name);const v=new Yr({uid:f,auth:t,email:s,emailVerified:h,displayName:n,isAnonymous:g,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:S,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(v.providerData=y.map(p=>({...p}))),c&&(v._redirectEventId=c),v}static async _fromIdTokenResponse(t,r,n=!1){const s=new Fi;s.updateFromServerResponse(r);const i=new Yr({uid:r.localId,auth:t,stsTokenManager:s,isAnonymous:n});return await Vc(i),i}static async _fromGetAccountInfoResponse(t,r,n){const s=r.users[0];be(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Y0(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Fi;l.updateFromIdToken(n);const c=new Yr({uid:s.localId,auth:t,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Gf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=new Map;function Ds(e){$c(e instanceof Function,"Expected a class definition");let t=Ig.get(e);return t?($c(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ig.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}X0.type="NONE";const Og=X0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(e,t,r){return`firebase:${e}:${t}:${r}`}class zi{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=kd(this.userKey,s.apiKey,i),this.fullPersistenceKey=kd("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await Uc(this.auth,{idToken:t}).catch(()=>{});return r?Yr._fromGetAccountInfoResponse(this.auth,r,t):null}return Yr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new zi(Ds(Og),t,n);const s=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Ds(Og);const a=kd(n,t.config.apiKey,t.name);let l=null;for(const u of r)try{const d=await u._get(a);if(d){let f;if(typeof d=="string"){const h=await Uc(t,{idToken:d}).catch(()=>{});if(!h)break;f=await Yr._fromGetAccountInfoResponse(t,h,d)}else f=Yr._fromJSON(t,d);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new zi(i,t,n):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(r.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new zi(i,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(TE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(OE(t))return"Blackberry";if(ME(t))return"Webos";if(RE(t))return"Safari";if((t.includes("chrome/")||AE(t))&&!t.includes("edge/"))return"Chrome";if(IE(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function TE(e=nn()){return/firefox\//i.test(e)}function RE(e=nn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function AE(e=nn()){return/crios\//i.test(e)}function PE(e=nn()){return/iemobile/i.test(e)}function IE(e=nn()){return/android/i.test(e)}function OE(e=nn()){return/blackberry/i.test(e)}function ME(e=nn()){return/webos/i.test(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(e,t=[]){let r;switch(e){case"Browser":r=Mg(nn());break;case"Worker":r=`${Mg(nn())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${xm}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=i=>new Promise((a,l)=>{try{const c=t(i);a(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DE(e,t={}){return cl(e,"GET","/v2/passwordPolicy",bm(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=6;class zE{constructor(t){var n;const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??FE,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),s&&(r.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<t.length;s++)n=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t,r,n,s){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lg(this),this.idTokenSubscription=new Lg(this),this.beforeStateQueue=new LE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Ds(r)),this._initializationPromise=this.queue(async()=>{var n,s,i;if(!this._deleted&&(this.persistenceManager=await zi.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await Uc(this,{idToken:t}),n=await Yr._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(pi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===l)&&(c!=null&&c.user)&&(n=c.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await Vc(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=mE()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(pi(this.app))return Promise.reject(ec(this));const r=t?ku(t):null;return r&&be(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&be(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(ec(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return pi(this.app)?Promise.reject(ec(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await DE(this),r=new zE(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new al("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await CE(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Ds(t)||this._popupRedirectResolver;be(r,this,"argument-error"),this.redirectPersistenceManager=await zi.create(this,[Ds(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof r=="function"){const c=t.addObserver(r,n,s);return()=>{a=!0,c()}}else{const c=t.addObserver(r);return()=>{a=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=J0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var r;if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return t!=null&&t.error&&dE(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function UE(e){return ku(e)}class Lg{constructor(t){this.auth=t,this.observer=null,this.addObserver=tk(r=>this.observer=r)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function VE(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Ds);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Sn("not implemented")}_getIdTokenResponse(t){return Sn("not implemented")}_linkToIdToken(t,r){return Sn("not implemented")}_getReauthenticationResolver(t){return Sn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(e,t){return xE(e,"POST","/v1/accounts:signInWithIdp",bm(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="http://localhost";class ni extends BE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new ni(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):zc("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:s,...i}=r;if(!n||!s)return null;const a=new ni(n,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(t){const r=this.buildRequest();return Ed(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,Ed(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Ed(t,r)}buildRequest(){const t={requestUri:WE,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=gm(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends HE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn extends Eu{constructor(){super("facebook.com")}static credential(t){return ni._fromParams({providerId:Kn.PROVIDER_ID,signInMethod:Kn.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Kn.credentialFromTaggedObject(t)}static credentialFromError(t){return Kn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Kn.credential(t.oauthAccessToken)}catch{return null}}}Kn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return ni._fromParams({providerId:wn.PROVIDER_ID,signInMethod:wn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return wn.credentialFromTaggedObject(t)}static credentialFromError(t){return wn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return wn.credential(r,n)}catch{return null}}}wn.GOOGLE_SIGN_IN_METHOD="google.com";wn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends Eu{constructor(){super("github.com")}static credential(t){return ni._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zn.credentialFromTaggedObject(t)}static credentialFromError(t){return Zn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zn.credential(t.oauthAccessToken)}catch{return null}}}Zn.GITHUB_SIGN_IN_METHOD="github.com";Zn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn extends Eu{constructor(){super("twitter.com")}static credential(t,r){return ni._fromParams({providerId:qn.PROVIDER_ID,signInMethod:qn.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return qn.credentialFromTaggedObject(t)}static credentialFromError(t){return qn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return qn.credential(r,n)}catch{return null}}}qn.TWITTER_SIGN_IN_METHOD="twitter.com";qn.PROVIDER_ID="twitter.com";new ll(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new ll(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new ll(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new ll(5e3,15e3);var Dg="@firebase/auth",Fg="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZE(e){Oa(new Ia("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=n.options;be(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J0(e)},u=new $E(n,s,i,c);return VE(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),Oa(new Ia("auth-internal",t=>{const r=UE(t.getProvider("auth").getImmediate());return(n=>new QE(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Di(Dg,Fg,KE(e)),Di(Dg,Fg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=5*60;Hj("authIdTokenMaxAge");ZE("Browser");console.warn("Firebase configuration is incomplete or invalid. Running without authentication.");new wn;function GE(e){return setTimeout(()=>e(null),0),()=>{}}async function ew(){return null}async function tw(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function La(e,t,r){let n=null;try{n=await ew()}catch(a){console.debug("Could not get Firebase token, continuing without auth:",a)}const s={...r?{"Content-Type":"application/json"}:{},...n?{Authorization:`Bearer ${n}`}:{}},i=await fetch(t,{method:e,headers:s,body:r?JSON.stringify(r):void 0,credentials:"include"});return await tw(i),i}const YE=({on401:e})=>async({queryKey:t})=>{let r=null;try{r=await ew()}catch(i){console.debug("Could not get Firebase token, continuing without auth:",i)}const n={...r?{Authorization:`Bearer ${r}`}:{}},s=await fetch(t.join("/"),{headers:n,credentials:"include"});return e==="returnNull"&&s.status===401?null:(await tw(s),await s.json())},XE=new xj({defaultOptions:{queries:{queryFn:YE({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),JE=1,eC=1e6;let Cd=0;function tC(){return Cd=(Cd+1)%Number.MAX_SAFE_INTEGER,Cd.toString()}const Td=new Map,zg=e=>{if(Td.has(e))return;const t=setTimeout(()=>{Td.delete(e),aa({type:"REMOVE_TOAST",toastId:e})},eC);Td.set(e,t)},rC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,JE)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?zg(r):e.toasts.forEach(n=>{zg(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},tc=[];let rc={toasts:[]};function aa(e){rc=rC(rc,e),tc.forEach(t=>{t(rc)})}function nC({...e}){const t=tC(),r=s=>aa({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>aa({type:"DISMISS_TOAST",toastId:t});return aa({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function ul(){const[e,t]=m.useState(rc);return m.useEffect(()=>(tc.push(t),()=>{const r=tc.indexOf(t);r>-1&&tc.splice(r,1)}),[e]),{...e,toast:nC,dismiss:r=>aa({type:"DISMISS_TOAST",toastId:r})}}function pe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function $g(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function rw(...e){return t=>{let r=!1;const n=e.map(s=>{const i=$g(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():$g(e[s],null)}}}}function ft(...e){return m.useCallback(rw(...e),e)}function Ln(e,t=[]){let r=[];function n(i,a){const l=m.createContext(a),c=r.length;r=[...r,a];const u=f=>{var v;const{scope:h,children:g,...y}=f,x=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,S=m.useMemo(()=>y,Object.values(y));return o.jsx(x.Provider,{value:S,children:g})};u.displayName=i+"Provider";function d(f,h){var x;const g=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=m.useContext(g);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,sC(s,...t)]}function sC(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function Bc(e){const t=oC(e),r=m.forwardRef((n,s)=>{const{children:i,...a}=n,l=m.Children.toArray(i),c=l.find(lC);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var iC=Bc("Slot");function oC(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const a=uC(s),l=cC(i,s.props);return s.type!==m.Fragment&&(l.ref=n?rw(n,a):a),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nw=Symbol("radix.slottable");function aC(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=nw,t}function lC(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nw}function cC(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{i(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function uC(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function sw(e){const t=e+"CollectionProvider",[r,n]=Ln(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:S,children:v}=x,p=ot.useRef(null),w=ot.useRef(new Map).current;return o.jsx(s,{scope:S,itemMap:w,collectionRef:p,children:v})};a.displayName=t;const l=e+"CollectionSlot",c=Bc(l),u=ot.forwardRef((x,S)=>{const{scope:v,children:p}=x,w=i(l,v),N=ft(S,w.collectionRef);return o.jsx(c,{ref:N,children:p})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Bc(d),g=ot.forwardRef((x,S)=>{const{scope:v,children:p,...w}=x,N=ot.useRef(null),_=ft(S,N),E=i(d,v);return ot.useEffect(()=>(E.itemMap.set(N,{ref:N,...w}),()=>void E.itemMap.delete(N))),o.jsx(h,{[f]:"",ref:_,children:p})});g.displayName=d;function y(x){const S=i(e+"CollectionConsumer",x);return ot.useCallback(()=>{const p=S.collectionRef.current;if(!p)return[];const w=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((E,C)=>w.indexOf(E.ref.current)-w.indexOf(C.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},y,n]}var dC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ne=dC.reduce((e,t)=>{const r=Bc(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function iw(e,t){e&&_o.flushSync(()=>e.dispatchEvent(t))}function ut(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function fC(e,t=globalThis==null?void 0:globalThis.document){const r=ut(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var hC="DismissableLayer",Yf="dismissableLayer.update",mC="dismissableLayer.pointerDownOutside",pC="dismissableLayer.focusOutside",Ug,ow=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nm=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=m.useContext(ow),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),y=ft(t,C=>f(C)),x=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(S),p=d?x.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,N=p>=v,_=vC(C=>{const R=C.target,O=[...u.branches].some(M=>M.contains(R));!N||O||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},h),E=yC(C=>{const R=C.target;[...u.branches].some(M=>M.contains(R))||(i==null||i(C),a==null||a(C),C.defaultPrevented||l==null||l())},h);return fC(C=>{p===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ug=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Vg(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Ug)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Vg())},[d,u]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(Yf,C),()=>document.removeEventListener(Yf,C)},[]),o.jsx(Ne.div,{...c,ref:y,style:{pointerEvents:w?N?"auto":"none":void 0,...e.style},onFocusCapture:pe(e.onFocusCapture,E.onFocusCapture),onBlurCapture:pe(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:pe(e.onPointerDownCapture,_.onPointerDownCapture)})});Nm.displayName=hC;var gC="DismissableLayerBranch",aw=m.forwardRef((e,t)=>{const r=m.useContext(ow),n=m.useRef(null),s=ft(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(Ne.div,{...e,ref:s})});aw.displayName=gC;function vC(e,t=globalThis==null?void 0:globalThis.document){const r=ut(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){lw(mC,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function yC(e,t=globalThis==null?void 0:globalThis.document){const r=ut(e),n=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!n.current&&lw(pC,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Vg(){const e=new CustomEvent(Yf);document.dispatchEvent(e)}function lw(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?iw(s,i):s.dispatchEvent(i)}var xC=Nm,wC=aw,vr=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},bC="Portal",cw=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=m.useState(!1);vr(()=>i(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?k_.createPortal(o.jsx(Ne.div,{...n,ref:t}),a):null});cw.displayName=bC;function NC(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Rs=e=>{const{present:t,children:r}=e,n=SC(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=ft(n.ref,_C(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:i}):null};Rs.displayName="Presence";function SC(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),i=m.useRef("none"),a=e?"mounted":"unmounted",[l,c]=NC(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Ml(n.current);i.current=l==="mounted"?u:"none"},[l]),vr(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,g=Ml(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),vr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const x=Ml(n.current).includes(g.animationName);if(g.target===t&&x&&(c("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},h=g=>{g.target===t&&(i.current=Ml(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Ml(e){return(e==null?void 0:e.animationName)||"none"}function _C(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Cu({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=jC({defaultProp:t,onChange:r}),i=e!==void 0,a=i?e:n,l=ut(r),c=m.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[i,e,s,l]);return[a,c]}function jC({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,s=m.useRef(n),i=ut(t);return m.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var kC="VisuallyHidden",Tu=m.forwardRef((e,t)=>o.jsx(Ne.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Tu.displayName=kC;var EC=Tu,Sm="ToastProvider",[_m,CC,TC]=sw("Toast"),[uw,c4]=Ln("Toast",[TC]),[RC,Ru]=uw(Sm),dw=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Sm}\`. Expected non-empty \`string\`.`),o.jsx(_m.Provider,{scope:t,children:o.jsx(RC,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(g=>g+1),[]),onToastRemove:m.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};dw.displayName=Sm;var fw="ToastViewport",AC=["F8"],Xf="toast.viewportPause",Jf="toast.viewportResume",hw=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=AC,label:s="Notifications ({hotkey})",...i}=e,a=Ru(fw,r),l=CC(r),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=ft(t,f,a.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;m.useEffect(()=>{const S=v=>{var w;n.length!==0&&n.every(N=>v[N]||v.code===N)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[n]),m.useEffect(()=>{const S=c.current,v=f.current;if(y&&S&&v){const p=()=>{if(!a.isClosePausedRef.current){const E=new CustomEvent(Xf);v.dispatchEvent(E),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const E=new CustomEvent(Jf);v.dispatchEvent(E),a.isClosePausedRef.current=!1}},N=E=>{!S.contains(E.relatedTarget)&&w()},_=()=>{S.contains(document.activeElement)||w()};return S.addEventListener("focusin",p),S.addEventListener("focusout",N),S.addEventListener("pointermove",p),S.addEventListener("pointerleave",_),window.addEventListener("blur",p),window.addEventListener("focus",w),()=>{S.removeEventListener("focusin",p),S.removeEventListener("focusout",N),S.removeEventListener("pointermove",p),S.removeEventListener("pointerleave",_),window.removeEventListener("blur",p),window.removeEventListener("focus",w)}}},[y,a.isClosePausedRef]);const x=m.useCallback(({tabbingDirection:S})=>{const p=l().map(w=>{const N=w.ref.current,_=[N,...WC(N)];return S==="forwards"?_:_.reverse()});return(S==="forwards"?p.reverse():p).flat()},[l]);return m.useEffect(()=>{const S=f.current;if(S){const v=p=>{var _,E,C;const w=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!w){const R=document.activeElement,O=p.shiftKey;if(p.target===S&&O){(_=u.current)==null||_.focus();return}const L=x({tabbingDirection:O?"backwards":"forwards"}),K=L.findIndex(P=>P===R);Rd(L.slice(K+1))?p.preventDefault():O?(E=u.current)==null||E.focus():(C=d.current)==null||C.focus()}};return S.addEventListener("keydown",v),()=>S.removeEventListener("keydown",v)}},[l,x]),o.jsxs(wC,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&o.jsx(eh,{ref:u,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"forwards"});Rd(S)}}),o.jsx(_m.Slot,{scope:r,children:o.jsx(Ne.ol,{tabIndex:-1,...i,ref:h})}),y&&o.jsx(eh,{ref:d,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"backwards"});Rd(S)}})]})});hw.displayName=fw;var mw="ToastFocusProxy",eh=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=Ru(mw,r);return o.jsx(Tu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});eh.displayName=mw;var Au="Toast",PC="toast.swipeStart",IC="toast.swipeMove",OC="toast.swipeCancel",MC="toast.swipeEnd",pw=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...a}=e,[l=!0,c]=Cu({prop:n,defaultProp:s,onChange:i});return o.jsx(Rs,{present:r||l,children:o.jsx(FC,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:ut(e.onPause),onResume:ut(e.onResume),onSwipeStart:pe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:pe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});pw.displayName=Au;var[LC,DC]=uw(Au,{onClose(){}}),FC=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:g,...y}=e,x=Ru(Au,r),[S,v]=m.useState(null),p=ft(t,P=>v(P)),w=m.useRef(null),N=m.useRef(null),_=s||x.duration,E=m.useRef(0),C=m.useRef(_),R=m.useRef(0),{onToastAdd:O,onToastRemove:M}=x,Q=ut(()=>{var re;(S==null?void 0:S.contains(document.activeElement))&&((re=x.viewport)==null||re.focus()),a()}),L=m.useCallback(P=>{!P||P===1/0||(window.clearTimeout(R.current),E.current=new Date().getTime(),R.current=window.setTimeout(Q,P))},[Q]);m.useEffect(()=>{const P=x.viewport;if(P){const re=()=>{L(C.current),u==null||u()},H=()=>{const ie=new Date().getTime()-E.current;C.current=C.current-ie,window.clearTimeout(R.current),c==null||c()};return P.addEventListener(Xf,H),P.addEventListener(Jf,re),()=>{P.removeEventListener(Xf,H),P.removeEventListener(Jf,re)}}},[x.viewport,_,c,u,L]),m.useEffect(()=>{i&&!x.isClosePausedRef.current&&L(_)},[i,_,x.isClosePausedRef,L]),m.useEffect(()=>(O(),()=>M()),[O,M]);const K=m.useMemo(()=>S?Nw(S):null,[S]);return x.viewport?o.jsxs(o.Fragment,{children:[K&&o.jsx(zC,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),o.jsx(LC,{scope:r,onClose:Q,children:_o.createPortal(o.jsx(_m.ItemSlot,{scope:r,children:o.jsx(xC,{asChild:!0,onEscapeKeyDown:pe(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||Q(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Ne.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:pe(e.onKeyDown,P=>{P.key==="Escape"&&(l==null||l(P.nativeEvent),P.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,Q()))}),onPointerDown:pe(e.onPointerDown,P=>{P.button===0&&(w.current={x:P.clientX,y:P.clientY})}),onPointerMove:pe(e.onPointerMove,P=>{if(!w.current)return;const re=P.clientX-w.current.x,H=P.clientY-w.current.y,ie=!!N.current,I=["left","right"].includes(x.swipeDirection),z=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,A=I?z(0,re):0,le=I?0:z(0,H),we=P.pointerType==="touch"?10:2,ht={x:A,y:le},mt={originalEvent:P,delta:ht};ie?(N.current=ht,Ll(IC,f,mt,{discrete:!1})):Bg(ht,x.swipeDirection,we)?(N.current=ht,Ll(PC,d,mt,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs(re)>we||Math.abs(H)>we)&&(w.current=null)}),onPointerUp:pe(e.onPointerUp,P=>{const re=N.current,H=P.target;if(H.hasPointerCapture(P.pointerId)&&H.releasePointerCapture(P.pointerId),N.current=null,w.current=null,re){const ie=P.currentTarget,I={originalEvent:P,delta:re};Bg(re,x.swipeDirection,x.swipeThreshold)?Ll(MC,g,I,{discrete:!0}):Ll(OC,h,I,{discrete:!0}),ie.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),zC=e=>{const{__scopeToast:t,children:r,...n}=e,s=Ru(Au,t),[i,a]=m.useState(!1),[l,c]=m.useState(!1);return VC(()=>a(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(cw,{asChild:!0,children:o.jsx(Tu,{...n,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",r]})})})},$C="ToastTitle",gw=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Ne.div,{...n,ref:t})});gw.displayName=$C;var UC="ToastDescription",vw=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Ne.div,{...n,ref:t})});vw.displayName=UC;var yw="ToastAction",xw=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(bw,{altText:r,asChild:!0,children:o.jsx(jm,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${yw}\`. Expected non-empty \`string\`.`),null)});xw.displayName=yw;var ww="ToastClose",jm=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=DC(ww,r);return o.jsx(bw,{asChild:!0,children:o.jsx(Ne.button,{type:"button",...n,ref:t,onClick:pe(e.onClick,s.onClose)})})});jm.displayName=ww;var bw=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return o.jsx(Ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function Nw(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),BC(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...Nw(n))}}),t}function Ll(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?iw(s,i):s.dispatchEvent(i)}var Bg=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function VC(e=()=>{}){const t=ut(e);vr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function BC(e){return e.nodeType===e.ELEMENT_NODE}function WC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Rd(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var HC=dw,Sw=hw,_w=pw,jw=gw,kw=vw,Ew=xw,Cw=jm;function Tw(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Tw(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Rw(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Tw(e))&&(n&&(n+=" "),n+=t);return n}const Wg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Hg=Rw,Pu=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Hg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=Wg(d)||Wg(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(y=>{let[x,S]=y;return Array.isArray(S)?S.includes({...i,...l}[x]):{...i,...l}[x]===S})?[...u,f,h]:u},[]);return Hg(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Aw=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...l},c)=>m.createElement("svg",{ref:c,...KC,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Aw("lucide",s),...l},[...a.map(([u,d])=>m.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const r=m.forwardRef(({className:n,...s},i)=>m.createElement(ZC,{ref:i,iconNode:t,className:Aw(`lucide-${QC(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=Se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=Se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=Se("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=Se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=Se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Se("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=Se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=Se("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=Se("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=Se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Se("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Se("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=Se("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=Se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Se("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Se("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=Se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),km="-",iT=e=>{const t=aT(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(km);return l[0]===""&&l.length!==1&&l.shift(),Iw(l,t)||oT(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},Iw=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Iw(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(km);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},Zg=/^\[(.+)\]$/,oT=e=>{if(Zg.test(e)){const t=Zg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},aT=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return cT(Object.entries(e.classGroups),r).forEach(([i,a])=>{sh(a,n,i,t)}),n},sh=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:qg(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(lT(s)){sh(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{sh(a,qg(t,i),r,n)})})},qg=(e,t)=>{let r=e;return t.split(km).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},lT=e=>e.isThemeGetter,cT=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[r,s]}):e,uT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},Ow="!",dT=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let u=0,d=0,f;for(let S=0;S<l.length;S++){let v=l[S];if(u===0){if(v===s&&(n||l.slice(S,S+i)===t)){c.push(l.slice(d,S)),d=S+i;continue}if(v==="/"){f=S;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(d),g=h.startsWith(Ow),y=g?h.substring(1):h,x=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:a}):a},fT=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},hT=e=>({cache:uT(e.cacheSize),parseClassName:dT(e),...iT(e)}),mT=/\s+/,pT=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(mT);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=r(u);let y=!!g,x=n(y?h.substring(0,g):h);if(!x){if(!y){l=u+(l.length>0?" "+l:l);continue}if(x=n(h),!x){l=u+(l.length>0?" "+l:l);continue}y=!1}const S=fT(d).join(":"),v=f?S+Ow:S,p=v+x;if(i.includes(p))continue;i.push(p);const w=s(x,y);for(let N=0;N<w.length;++N){const _=w[N];i.push(v+_)}l=u+(l.length>0?" "+l:l)}return l};function gT(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Mw(t))&&(n&&(n+=" "),n+=r);return n}const Mw=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Mw(e[n]))&&(r&&(r+=" "),r+=t);return r};function vT(e,...t){let r,n,s,i=a;function a(c){const u=t.reduce((d,f)=>f(d),e());return r=hT(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=pT(c,r);return s(c,d),d}return function(){return i(gT.apply(null,arguments))}}const Me=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Lw=/^\[(?:([a-z-]+):)?(.+)\]$/i,yT=/^\d+\/\d+$/,xT=new Set(["px","full","screen"]),wT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ST=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_T=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dn=e=>Vi(e)||xT.has(e)||yT.test(e),zn=e=>Co(e,"length",PT),Vi=e=>!!e&&!Number.isNaN(Number(e)),Ad=e=>Co(e,"number",Vi),zo=e=>!!e&&Number.isInteger(Number(e)),jT=e=>e.endsWith("%")&&Vi(e.slice(0,-1)),ue=e=>Lw.test(e),$n=e=>wT.test(e),kT=new Set(["length","size","percentage"]),ET=e=>Co(e,kT,Dw),CT=e=>Co(e,"position",Dw),TT=new Set(["image","url"]),RT=e=>Co(e,TT,OT),AT=e=>Co(e,"",IT),$o=()=>!0,Co=(e,t,r)=>{const n=Lw.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},PT=e=>bT.test(e)&&!NT.test(e),Dw=()=>!1,IT=e=>ST.test(e),OT=e=>_T.test(e),MT=()=>{const e=Me("colors"),t=Me("spacing"),r=Me("blur"),n=Me("brightness"),s=Me("borderColor"),i=Me("borderRadius"),a=Me("borderSpacing"),l=Me("borderWidth"),c=Me("contrast"),u=Me("grayscale"),d=Me("hueRotate"),f=Me("invert"),h=Me("gap"),g=Me("gradientColorStops"),y=Me("gradientColorStopPositions"),x=Me("inset"),S=Me("margin"),v=Me("opacity"),p=Me("padding"),w=Me("saturate"),N=Me("scale"),_=Me("sepia"),E=Me("skew"),C=Me("space"),R=Me("translate"),O=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",ue,t],L=()=>[ue,t],K=()=>["",dn,zn],P=()=>["auto",Vi,ue],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",ue],A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>[Vi,ue];return{cacheSize:500,separator:":",theme:{colors:[$o],spacing:[dn,zn],blur:["none","",$n,ue],brightness:le(),borderColor:[e],borderRadius:["none","","full",$n,ue],borderSpacing:L(),borderWidth:K(),contrast:le(),grayscale:z(),hueRotate:le(),invert:z(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[jT,zn],inset:Q(),margin:Q(),opacity:le(),padding:L(),saturate:le(),scale:le(),sepia:z(),skew:le(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[$n]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),ue]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zo,ue]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",zo,ue]}],"grid-cols":[{"grid-cols":[$o]}],"col-start-end":[{col:["auto",{span:["full",zo,ue]},ue]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[$o]}],"row-start-end":[{row:["auto",{span:[zo,ue]},ue]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,t]}],"min-w":[{"min-w":[ue,t,"min","max","fit"]}],"max-w":[{"max-w":[ue,t,"none","full","min","max","fit","prose",{screen:[$n]},$n]}],h:[{h:[ue,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,t,"auto","min","max","fit"]}],"font-size":[{text:["base",$n,zn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ad]}],"font-family":[{font:[$o]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",Vi,Ad]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",dn,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",dn,zn]}],"underline-offset":[{"underline-offset":["auto",dn,ue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),CT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ET]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[dn,ue]}],"outline-w":[{outline:[dn,zn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[dn,zn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",$n,AT]}],"shadow-color":[{shadow:[$o]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$n,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:le()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:le()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[zo,ue]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[dn,zn,Ad]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},LT=vT(MT);function Ee(...e){return LT(Rw(e))}const DT=HC,Fw=m.forwardRef(({className:e,...t},r)=>o.jsx(Sw,{ref:r,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Fw.displayName=Sw.displayName;const FT=Pu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),zw=m.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(_w,{ref:n,className:Ee(FT({variant:t}),e),...r}));zw.displayName=_w.displayName;const zT=m.forwardRef(({className:e,...t},r)=>o.jsx(Ew,{ref:r,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));zT.displayName=Ew.displayName;const $w=m.forwardRef(({className:e,...t},r)=>o.jsx(Cw,{ref:r,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-blue-300 group-[.destructive]:hover:text-blue-50 group-[.destructive]:focus:ring-blue-400 group-[.destructive]:focus:ring-offset-blue-600",e),"toast-close":"",...t,children:o.jsx(dl,{className:"h-4 w-4"})}));$w.displayName=Cw.displayName;const Uw=m.forwardRef(({className:e,...t},r)=>o.jsx(jw,{ref:r,className:Ee("text-sm font-semibold",e),...t}));Uw.displayName=jw.displayName;const Vw=m.forwardRef(({className:e,...t},r)=>o.jsx(kw,{ref:r,className:Ee("text-sm opacity-90",e),...t}));Vw.displayName=kw.displayName;function $T(){const{toasts:e}=ul();return o.jsxs(DT,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return o.jsxs(zw,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(Uw,{children:r}),n&&o.jsx(Vw,{children:n})]}),s,o.jsx($w,{})]},t)}),o.jsx(Fw,{})]})}var UT=iy[" useId ".trim().toString()]||(()=>{}),VT=0;function Bw(e){const[t,r]=m.useState(UT());return vr(()=>{e||r(n=>n??String(VT++))},[e]),e||(t?`radix-${t}`:"")}const BT=["top","right","bottom","left"],ws=Math.min,tr=Math.max,Hc=Math.round,Dl=Math.floor,tn=e=>({x:e,y:e}),WT={left:"right",right:"left",bottom:"top",top:"bottom"},HT={start:"end",end:"start"};function ih(e,t,r){return tr(e,ws(t,r))}function Pn(e,t){return typeof e=="function"?e(t):e}function In(e){return e.split("-")[0]}function To(e){return e.split("-")[1]}function Em(e){return e==="x"?"y":"x"}function Cm(e){return e==="y"?"height":"width"}function bs(e){return["top","bottom"].includes(In(e))?"y":"x"}function Tm(e){return Em(bs(e))}function QT(e,t,r){r===void 0&&(r=!1);const n=To(e),s=Tm(e),i=Cm(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Qc(a)),[a,Qc(a)]}function KT(e){const t=Qc(e);return[oh(e),t,oh(t)]}function oh(e){return e.replace(/start|end/g,t=>HT[t])}function ZT(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:a;default:return[]}}function qT(e,t,r,n){const s=To(e);let i=ZT(In(e),r==="start",n);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(oh)))),i}function Qc(e){return e.replace(/left|right|bottom|top/g,t=>WT[t])}function GT(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ww(e){return typeof e!="number"?GT(e):{top:e,right:e,bottom:e,left:e}}function Kc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Gg(e,t,r){let{reference:n,floating:s}=e;const i=bs(t),a=Tm(t),l=Cm(a),c=In(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:n.y-s.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-s.width,y:f};break;default:g={x:n.x,y:n.y}}switch(To(t)){case"start":g[a]-=h*(r&&u?-1:1);break;case"end":g[a]+=h*(r&&u?-1:1);break}return g}const YT=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Gg(u,n,c),h=n,g={},y=0;for(let x=0;x<l.length;x++){const{name:S,fn:v}=l[x],{x:p,y:w,data:N,reset:_}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:g,rects:u,platform:a,elements:{reference:e,floating:t}});d=p??d,f=w??f,g={...g,[S]:{...g[S],...N}},_&&y<=50&&(y++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=Gg(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:g}};async function Da(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=Pn(t,e),y=Ww(g),S=l[h?f==="floating"?"reference":"floating":f],v=Kc(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(S)))==null||r?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),p=f==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},_=Kc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:w,strategy:c}):p);return{top:(v.top-_.top+y.top)/N.y,bottom:(_.bottom-v.bottom+y.bottom)/N.y,left:(v.left-_.left+y.left)/N.x,right:(_.right-v.right+y.right)/N.x}}const XT=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Pn(e,t)||{};if(u==null)return{};const f=Ww(d),h={x:r,y:n},g=Tm(s),y=Cm(g),x=await a.getDimensions(u),S=g==="y",v=S?"top":"left",p=S?"bottom":"right",w=S?"clientHeight":"clientWidth",N=i.reference[y]+i.reference[g]-h[g]-i.floating[y],_=h[g]-i.reference[g],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=E?E[w]:0;(!C||!await(a.isElement==null?void 0:a.isElement(E)))&&(C=l.floating[w]||i.floating[y]);const R=N/2-_/2,O=C/2-x[y]/2-1,M=ws(f[v],O),Q=ws(f[p],O),L=M,K=C-x[y]-Q,P=C/2-x[y]/2+R,re=ih(L,P,K),H=!c.arrow&&To(s)!=null&&P!==re&&i.reference[y]/2-(P<L?M:Q)-x[y]/2<0,ie=H?P<L?P-L:P-K:0;return{[g]:h[g]+ie,data:{[g]:re,centerOffset:P-re-ie,...H&&{alignmentOffset:ie}},reset:H}}}),JT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...S}=Pn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=In(s),p=bs(l),w=In(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(w||!x?[Qc(l)]:KT(l)),E=y!=="none";!h&&E&&_.push(...qT(l,x,y,N));const C=[l,..._],R=await Da(t,S),O=[];let M=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&O.push(R[v]),f){const P=QT(s,a,N);O.push(R[P[0]],R[P[1]])}if(M=[...M,{placement:s,overflows:O}],!O.every(P=>P<=0)){var Q,L;const P=(((Q=i.flip)==null?void 0:Q.index)||0)+1,re=C[P];if(re)return{data:{index:P,overflows:M},reset:{placement:re}};let H=(L=M.filter(ie=>ie.overflows[0]<=0).sort((ie,I)=>ie.overflows[1]-I.overflows[1])[0])==null?void 0:L.placement;if(!H)switch(g){case"bestFit":{var K;const ie=(K=M.filter(I=>{if(E){const z=bs(I.placement);return z===p||z==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(z=>z>0).reduce((z,A)=>z+A,0)]).sort((I,z)=>I[1]-z[1])[0])==null?void 0:K[0];ie&&(H=ie);break}case"initialPlacement":H=l;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function Yg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Xg(e){return BT.some(t=>e[t]>=0)}const e2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Pn(e,t);switch(n){case"referenceHidden":{const i=await Da(t,{...s,elementContext:"reference"}),a=Yg(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Xg(a)}}}case"escaped":{const i=await Da(t,{...s,altBoundary:!0}),a=Yg(i,r.floating);return{data:{escapedOffsets:a,escaped:Xg(a)}}}default:return{}}}}};async function t2(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=In(r),l=To(r),c=bs(r)==="y",u=["left","top"].includes(a)?-1:1,d=i&&c?-1:1,f=Pn(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(g=l==="end"?y*-1:y),c?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const r2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await t2(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},n2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:S=>{let{x:v,y:p}=S;return{x:v,y:p}}},...c}=Pn(e,t),u={x:r,y:n},d=await Da(t,c),f=bs(In(s)),h=Em(f);let g=u[h],y=u[f];if(i){const S=h==="y"?"top":"left",v=h==="y"?"bottom":"right",p=g+d[S],w=g-d[v];g=ih(p,g,w)}if(a){const S=f==="y"?"top":"left",v=f==="y"?"bottom":"right",p=y+d[S],w=y-d[v];y=ih(p,y,w)}const x=l.fn({...t,[h]:g,[f]:y});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[h]:i,[f]:a}}}}}},s2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Pn(e,t),d={x:r,y:n},f=bs(s),h=Em(f);let g=d[h],y=d[f];const x=Pn(l,t),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const w=h==="y"?"height":"width",N=i.reference[h]-i.floating[w]+S.mainAxis,_=i.reference[h]+i.reference[w]-S.mainAxis;g<N?g=N:g>_&&(g=_)}if(u){var v,p;const w=h==="y"?"width":"height",N=["top","left"].includes(In(s)),_=i.reference[f]-i.floating[w]+(N&&((v=a.offset)==null?void 0:v[f])||0)+(N?0:S.crossAxis),E=i.reference[f]+i.reference[w]+(N?0:((p=a.offset)==null?void 0:p[f])||0)-(N?S.crossAxis:0);y<_?y=_:y>E&&(y=E)}return{[h]:g,[f]:y}}}},i2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...u}=Pn(e,t),d=await Da(t,u),f=In(s),h=To(s),g=bs(s)==="y",{width:y,height:x}=i.floating;let S,v;f==="top"||f==="bottom"?(S=f,v=h===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,S=h==="end"?"top":"bottom");const p=x-d.top-d.bottom,w=y-d.left-d.right,N=ws(x-d[S],p),_=ws(y-d[v],w),E=!t.middlewareData.shift;let C=N,R=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(R=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=p),E&&!h){const M=tr(d.left,0),Q=tr(d.right,0),L=tr(d.top,0),K=tr(d.bottom,0);g?R=y-2*(M!==0||Q!==0?M+Q:tr(d.left,d.right)):C=x-2*(L!==0||K!==0?L+K:tr(d.top,d.bottom))}await c({...t,availableWidth:R,availableHeight:C});const O=await a.getDimensions(l.floating);return y!==O.width||x!==O.height?{reset:{rects:!0}}:{}}}};function Iu(){return typeof window<"u"}function Ro(e){return Hw(e)?(e.nodeName||"").toLowerCase():"#document"}function sr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function cn(e){var t;return(t=(Hw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Hw(e){return Iu()?e instanceof Node||e instanceof sr(e).Node:!1}function Dr(e){return Iu()?e instanceof Element||e instanceof sr(e).Element:!1}function sn(e){return Iu()?e instanceof HTMLElement||e instanceof sr(e).HTMLElement:!1}function Jg(e){return!Iu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sr(e).ShadowRoot}function fl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Fr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function o2(e){return["table","td","th"].includes(Ro(e))}function Ou(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Rm(e){const t=Am(),r=Dr(e)?Fr(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function a2(e){let t=Ns(e);for(;sn(t)&&!po(t);){if(Rm(t))return t;if(Ou(t))return null;t=Ns(t)}return null}function Am(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function po(e){return["html","body","#document"].includes(Ro(e))}function Fr(e){return sr(e).getComputedStyle(e)}function Mu(e){return Dr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ns(e){if(Ro(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Jg(e)&&e.host||cn(e);return Jg(t)?t.host:t}function Qw(e){const t=Ns(e);return po(t)?e.ownerDocument?e.ownerDocument.body:e.body:sn(t)&&fl(t)?t:Qw(t)}function Fa(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Qw(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),a=sr(s);if(i){const l=ah(a);return t.concat(a,a.visualViewport||[],fl(s)?s:[],l&&r?Fa(l):[])}return t.concat(s,Fa(s,[],r))}function ah(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Kw(e){const t=Fr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=sn(e),i=s?e.offsetWidth:r,a=s?e.offsetHeight:n,l=Hc(r)!==i||Hc(n)!==a;return l&&(r=i,n=a),{width:r,height:n,$:l}}function Pm(e){return Dr(e)?e:e.contextElement}function Bi(e){const t=Pm(e);if(!sn(t))return tn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=Kw(t);let a=(i?Hc(r.width):r.width)/n,l=(i?Hc(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const l2=tn(0);function Zw(e){const t=sr(e);return!Am()||!t.visualViewport?l2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function c2(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==sr(e)?!1:t}function si(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Pm(e);let a=tn(1);t&&(n?Dr(n)&&(a=Bi(n)):a=Bi(e));const l=c2(i,r,n)?Zw(i):tn(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(i){const h=sr(i),g=n&&Dr(n)?sr(n):n;let y=h,x=ah(y);for(;x&&n&&g!==y;){const S=Bi(x),v=x.getBoundingClientRect(),p=Fr(x),w=v.left+(x.clientLeft+parseFloat(p.paddingLeft))*S.x,N=v.top+(x.clientTop+parseFloat(p.paddingTop))*S.y;c*=S.x,u*=S.y,d*=S.x,f*=S.y,c+=w,u+=N,y=sr(x),x=ah(y)}}return Kc({width:d,height:f,x:c,y:u})}function Im(e,t){const r=Mu(e).scrollLeft;return t?t.left+r:si(cn(e)).left+r}function qw(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Im(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function u2(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",a=cn(n),l=t?Ou(t.floating):!1;if(n===a||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=tn(1);const d=tn(0),f=sn(n);if((f||!f&&!i)&&((Ro(n)!=="body"||fl(a))&&(c=Mu(n)),sn(n))){const g=si(n);u=Bi(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const h=a&&!f&&!i?qw(a,c,!0):tn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function d2(e){return Array.from(e.getClientRects())}function f2(e){const t=cn(e),r=Mu(e),n=e.ownerDocument.body,s=tr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=tr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Im(e);const l=-r.scrollTop;return Fr(n).direction==="rtl"&&(a+=tr(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:a,y:l}}function h2(e,t){const r=sr(e),n=cn(e),s=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=Am();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}function m2(e,t){const r=si(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=sn(e)?Bi(e):tn(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:a,height:l,x:c,y:u}}function ev(e,t,r){let n;if(t==="viewport")n=h2(e,r);else if(t==="document")n=f2(cn(e));else if(Dr(t))n=m2(t,r);else{const s=Zw(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Kc(n)}function Gw(e,t){const r=Ns(e);return r===t||!Dr(r)||po(r)?!1:Fr(r).position==="fixed"||Gw(r,t)}function p2(e,t){const r=t.get(e);if(r)return r;let n=Fa(e,[],!1).filter(l=>Dr(l)&&Ro(l)!=="body"),s=null;const i=Fr(e).position==="fixed";let a=i?Ns(e):e;for(;Dr(a)&&!po(a);){const l=Fr(a),c=Rm(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||fl(a)&&!c&&Gw(e,a))?n=n.filter(d=>d!==a):s=l,a=Ns(a)}return t.set(e,n),n}function g2(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?Ou(t)?[]:p2(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,d)=>{const f=ev(t,d,s);return u.top=tr(f.top,u.top),u.right=ws(f.right,u.right),u.bottom=ws(f.bottom,u.bottom),u.left=tr(f.left,u.left),u},ev(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function v2(e){const{width:t,height:r}=Kw(e);return{width:t,height:r}}function y2(e,t,r){const n=sn(t),s=cn(t),i=r==="fixed",a=si(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=tn(0);if(n||!n&&!i)if((Ro(t)!=="body"||fl(s))&&(l=Mu(t)),n){const h=si(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&(c.x=Im(s));const u=s&&!n&&!i?qw(s,l):tn(0),d=a.left+l.scrollLeft-c.x-u.x,f=a.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:a.width,height:a.height}}function Pd(e){return Fr(e).position==="static"}function tv(e,t){if(!sn(e)||Fr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return cn(e)===r&&(r=r.ownerDocument.body),r}function Yw(e,t){const r=sr(e);if(Ou(e))return r;if(!sn(e)){let s=Ns(e);for(;s&&!po(s);){if(Dr(s)&&!Pd(s))return s;s=Ns(s)}return r}let n=tv(e,t);for(;n&&o2(n)&&Pd(n);)n=tv(n,t);return n&&po(n)&&Pd(n)&&!Rm(n)?r:n||a2(e)||r}const x2=async function(e){const t=this.getOffsetParent||Yw,r=this.getDimensions,n=await r(e.floating);return{reference:y2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function w2(e){return Fr(e).direction==="rtl"}const b2={convertOffsetParentRelativeRectToViewportRelativeRect:u2,getDocumentElement:cn,getClippingRect:g2,getOffsetParent:Yw,getElementRects:x2,getClientRects:d2,getDimensions:v2,getScale:Bi,isElement:Dr,isRTL:w2};function Xw(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function N2(e,t){let r=null,n;const s=cn(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:g}=u;if(l||t(),!h||!g)return;const y=Dl(f),x=Dl(s.clientWidth-(d+h)),S=Dl(s.clientHeight-(f+g)),v=Dl(d),w={rootMargin:-y+"px "+-x+"px "+-S+"px "+-v+"px",threshold:tr(0,ws(1,c))||1};let N=!0;function _(E){const C=E[0].intersectionRatio;if(C!==c){if(!N)return a();C?a(!1,C):n=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!Xw(u,e.getBoundingClientRect())&&a(),N=!1}try{r=new IntersectionObserver(_,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,w)}r.observe(e)}return a(!0),i}function S2(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Pm(e),d=s||i?[...u?Fa(u):[],...Fa(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=u&&l?N2(u,r):null;let h=-1,g=null;a&&(g=new ResizeObserver(v=>{let[p]=v;p&&p.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let y,x=c?si(e):null;c&&S();function S(){const v=si(e);x&&!Xw(x,v)&&r(),x=v,y=requestAnimationFrame(S)}return r(),()=>{var v;d.forEach(p=>{s&&p.removeEventListener("scroll",r),i&&p.removeEventListener("resize",r)}),f==null||f(),(v=g)==null||v.disconnect(),g=null,c&&cancelAnimationFrame(y)}}const _2=r2,j2=n2,k2=JT,E2=i2,C2=e2,rv=XT,T2=s2,R2=(e,t,r)=>{const n=new Map,s={platform:b2,...r},i={...s.platform,_c:n};return YT(e,t,{...s,platform:i})};var ic=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Zc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Zc(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Zc(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Jw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nv(e,t){const r=Jw(e);return Math.round(t*r)/r}function Id(e){const t=m.useRef(e);return ic(()=>{t.current=e}),t}function A2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=m.useState(n);Zc(h,n)||g(n);const[y,x]=m.useState(null),[S,v]=m.useState(null),p=m.useCallback(I=>{I!==E.current&&(E.current=I,x(I))},[]),w=m.useCallback(I=>{I!==C.current&&(C.current=I,v(I))},[]),N=i||y,_=a||S,E=m.useRef(null),C=m.useRef(null),R=m.useRef(d),O=c!=null,M=Id(c),Q=Id(s),L=Id(u),K=m.useCallback(()=>{if(!E.current||!C.current)return;const I={placement:t,strategy:r,middleware:h};Q.current&&(I.platform=Q.current),R2(E.current,C.current,I).then(z=>{const A={...z,isPositioned:L.current!==!1};P.current&&!Zc(R.current,A)&&(R.current=A,_o.flushSync(()=>{f(A)}))})},[h,t,r,Q,L]);ic(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[u]);const P=m.useRef(!1);ic(()=>(P.current=!0,()=>{P.current=!1}),[]),ic(()=>{if(N&&(E.current=N),_&&(C.current=_),N&&_){if(M.current)return M.current(N,_,K);K()}},[N,_,K,M,O]);const re=m.useMemo(()=>({reference:E,floating:C,setReference:p,setFloating:w}),[p,w]),H=m.useMemo(()=>({reference:N,floating:_}),[N,_]),ie=m.useMemo(()=>{const I={position:r,left:0,top:0};if(!H.floating)return I;const z=nv(H.floating,d.x),A=nv(H.floating,d.y);return l?{...I,transform:"translate("+z+"px, "+A+"px)",...Jw(H.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:A}},[r,l,H.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:K,refs:re,elements:H,floatingStyles:ie}),[d,K,re,H,ie])}const P2=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?rv({element:n.current,padding:s}).fn(r):{}:n?rv({element:n,padding:s}).fn(r):{}}}},I2=(e,t)=>({..._2(e),options:[e,t]}),O2=(e,t)=>({...j2(e),options:[e,t]}),M2=(e,t)=>({...T2(e),options:[e,t]}),L2=(e,t)=>({...k2(e),options:[e,t]}),D2=(e,t)=>({...E2(e),options:[e,t]}),F2=(e,t)=>({...C2(e),options:[e,t]}),z2=(e,t)=>({...P2(e),options:[e,t]});var $2="Arrow",eb=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return o.jsx(Ne.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});eb.displayName=$2;var U2=eb;function tb(e){const[t,r]=m.useState(void 0);return vr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var rb="Popper",[nb,sb]=Ln(rb),[u4,ib]=nb(rb),ob="PopperAnchor",ab=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=ib(ob,r),a=m.useRef(null),l=ft(t,a);return m.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:o.jsx(Ne.div,{...s,ref:l})});ab.displayName=ob;var Om="PopperContent",[V2,B2]=nb(Om),lb=m.forwardRef((e,t)=>{var Ae,xr,yt,wr,$r,St;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:y,...x}=e,S=ib(Om,r),[v,p]=m.useState(null),w=ft(t,br=>p(br)),[N,_]=m.useState(null),E=tb(N),C=(E==null?void 0:E.width)??0,R=(E==null?void 0:E.height)??0,O=n+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},Q=Array.isArray(u)?u:[u],L=Q.length>0,K={padding:M,boundary:Q.filter(H2),altBoundary:L},{refs:P,floatingStyles:re,placement:H,isPositioned:ie,middlewareData:I}=A2({strategy:"fixed",placement:O,whileElementsMounted:(...br)=>S2(...br,{animationFrame:g==="always"}),elements:{reference:S.anchor},middleware:[I2({mainAxis:s+R,alignmentAxis:a}),c&&O2({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?M2():void 0,...K}),c&&L2({...K}),D2({...K,apply:({elements:br,rects:$,availableWidth:Ce,availableHeight:Pe})=>{const{width:Ye,height:It}=$.reference,et=br.floating.style;et.setProperty("--radix-popper-available-width",`${Ce}px`),et.setProperty("--radix-popper-available-height",`${Pe}px`),et.setProperty("--radix-popper-anchor-width",`${Ye}px`),et.setProperty("--radix-popper-anchor-height",`${It}px`)}}),N&&z2({element:N,padding:l}),Q2({arrowWidth:C,arrowHeight:R}),h&&F2({strategy:"referenceHidden",...K})]}),[z,A]=db(H),le=ut(y);vr(()=>{ie&&(le==null||le())},[ie,le]);const we=(Ae=I.arrow)==null?void 0:Ae.x,ht=(xr=I.arrow)==null?void 0:xr.y,mt=((yt=I.arrow)==null?void 0:yt.centerOffset)!==0,[Pt,Oe]=m.useState();return vr(()=>{v&&Oe(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:ie?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pt,"--radix-popper-transform-origin":[(wr=I.transformOrigin)==null?void 0:wr.x,($r=I.transformOrigin)==null?void 0:$r.y].join(" "),...((St=I.hide)==null?void 0:St.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(V2,{scope:r,placedSide:z,onArrowChange:_,arrowX:we,arrowY:ht,shouldHideArrow:mt,children:o.jsx(Ne.div,{"data-side":z,"data-align":A,...x,ref:w,style:{...x.style,animation:ie?void 0:"none"}})})})});lb.displayName=Om;var cb="PopperArrow",W2={top:"bottom",right:"left",bottom:"top",left:"right"},ub=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=B2(cb,n),a=W2[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(U2,{...s,ref:r,style:{...s.style,display:"block"}})})});ub.displayName=cb;function H2(e){return e!==null}var Q2=e=>({name:"transformOrigin",options:e,fn(t){var S,v,p;const{placement:r,rects:n,middlewareData:s}=t,a=((S=s.arrow)==null?void 0:S.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=db(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,g=(((p=s.arrow)==null?void 0:p.y)??0)+c/2;let y="",x="";return u==="bottom"?(y=a?f:`${h}px`,x=`${-c}px`):u==="top"?(y=a?f:`${h}px`,x=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=a?f:`${g}px`):u==="left"&&(y=`${n.floating.width+c}px`,x=a?f:`${g}px`),{data:{x:y,y:x}}}});function db(e){const[t,r="center"]=e.split("-");return[t,r]}var K2=ab,Z2=lb,q2=ub,[Lu,d4]=Ln("Tooltip",[sb]),Mm=sb(),fb="TooltipProvider",G2=700,sv="tooltip.open",[Y2,hb]=Lu(fb),mb=e=>{const{__scopeTooltip:t,delayDuration:r=G2,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,a=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(Y2,{scope:t,isOpenDelayedRef:a,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};mb.displayName=fb;var pb="Tooltip",[f4,Du]=Lu(pb),lh="TooltipTrigger",X2=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Du(lh,r),i=hb(lh,r),a=Mm(r),l=m.useRef(null),c=ft(t,l,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(K2,{asChild:!0,...a,children:o.jsx(Ne.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:pe(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:pe(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pe(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:pe(e.onBlur,s.onClose),onClick:pe(e.onClick,s.onClose)})})});X2.displayName=lh;var J2="TooltipPortal",[h4,eR]=Lu(J2,{forceMount:void 0}),go="TooltipContent",gb=m.forwardRef((e,t)=>{const r=eR(go,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,a=Du(go,e.__scopeTooltip);return o.jsx(Rs,{present:n||a.open,children:a.disableHoverableContent?o.jsx(vb,{side:s,...i,ref:t}):o.jsx(tR,{side:s,...i,ref:t})})}),tR=m.forwardRef((e,t)=>{const r=Du(go,e.__scopeTooltip),n=hb(go,e.__scopeTooltip),s=m.useRef(null),i=ft(t,s),[a,l]=m.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=m.useCallback(()=>{l(null),f(!1)},[f]),g=m.useCallback((y,x)=>{const S=y.currentTarget,v={x:y.clientX,y:y.clientY},p=oR(v,S.getBoundingClientRect()),w=aR(v,p),N=lR(x.getBoundingClientRect()),_=uR([...w,...N]);l(_),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const y=S=>g(S,d),x=S=>g(S,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",x)}}},[c,d,g,h]),m.useEffect(()=>{if(a){const y=x=>{const S=x.target,v={x:x.clientX,y:x.clientY},p=(c==null?void 0:c.contains(S))||(d==null?void 0:d.contains(S)),w=!cR(v,a);p?h():w&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,a,u,h]),o.jsx(vb,{...e,ref:i})}),[rR,nR]=Lu(pb,{isInside:!1}),sR=aC("TooltipContent"),vb=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,c=Du(go,r),u=Mm(r),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(sv,d),()=>document.removeEventListener(sv,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const g=h.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(Nm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(Z2,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(sR,{children:n}),o.jsx(rR,{scope:r,isInside:!0,children:o.jsx(EC,{id:c.contentId,role:"tooltip",children:s||n})})]})})});gb.displayName=go;var yb="TooltipArrow",iR=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Mm(r);return nR(yb,r).isInside?null:o.jsx(q2,{...s,...n,ref:t})});iR.displayName=yb;function oR(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function aR(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function lR(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function cR(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i].x,c=t[i].y,u=t[a].x,d=t[a].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function uR(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),dR(t)}function dR(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var fR=mb,xb=gb;const hR=fR,mR=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(xb,{ref:n,sideOffset:t,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));mR.displayName=xb.displayName;const pR=m.createContext(void 0);function gR({children:e}){const[t,r]=m.useState(null),[n,s]=m.useState(!0);return m.useEffect(()=>GE(a=>{r(a),s(!1)}),[]),o.jsx(pR.Provider,{value:{user:t,isLoading:n},children:e})}const Re=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Re.displayName="Card";const Ar=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ee("flex flex-col space-y-1.5 p-6",e),...t}));Ar.displayName="CardHeader";const oc=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));oc.displayName="CardTitle";const vR=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ee("text-sm text-muted-foreground",e),...t}));vR.displayName="CardDescription";const Ke=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ee("p-6 pt-0",e),...t}));Ke.displayName="CardContent";const yR=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ee("flex items-center p-6 pt-0",e),...t}));yR.displayName="CardFooter";function xR(){return o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsx(Re,{className:"w-full max-w-md mx-4",children:o.jsxs(Ke,{className:"pt-6",children:[o.jsxs("div",{className:"flex mb-4 gap-2",children:[o.jsx(YC,{className:"h-8 w-8 text-blue-500"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),o.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function zt(e){return Ut({queryKey:["/api/media",e],queryFn:async()=>{const t=new URLSearchParams;e!=null&&e.type&&t.append("type",e.type),e!=null&&e.year&&t.append("year",e.year.toString()),e!=null&&e.category&&t.append("category",e.category);const r=await fetch(`/api/media?${t.toString()}`);if(!r.ok)throw new Error("Failed to fetch media");return r.json()}})}function wb(){return Ut({queryKey:["/api/media/trending"],queryFn:async()=>{const e=await fetch("/api/media/trending");if(!e.ok)throw new Error("Failed to fetch trending media");return e.json()}})}function bb(){return Ut({queryKey:["/api/media/new-releases"],queryFn:async()=>{const e=await fetch("/api/media/new-releases");if(!e.ok)throw new Error("Failed to fetch new releases");return e.json()}})}function Nb(e,t){return Ut({queryKey:["/api/media/search",e,t],queryFn:async()=>{if(!e.trim())return[];const r=new URLSearchParams({q:e});t&&r.append("limit",t.toString());const n=await fetch(`/api/media/search?${r.toString()}`);if(!n.ok)throw new Error("Failed to search media");return n.json()},enabled:!!e.trim(),staleTime:5*60*1e3,gcTime:10*60*1e3})}function wR(e,t={}){const{debounceMs:r=300,minLength:n=2,limit:s=10}=t,[i,a]=m.useState("");return m.useEffect(()=>{const l=setTimeout(()=>{e.trim().length>=n?a(e.trim()):a("")},r);return()=>clearTimeout(l)},[e,r,n]),Nb(i,s)}function bR(){return Ut({queryKey:["/api/continue-watching"],queryFn:async()=>{const e=await fetch("/api/continue-watching");if(!e.ok)throw new Error("Failed to fetch continue watching");return e.json()}})}function Sb(){const e=Eo();return ju({mutationFn:async t=>(await La("POST","/api/watch-history",t)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/continue-watching"]}),e.invalidateQueries({queryKey:["/api/watch-history"]})}})}const Od=768;function vt(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Od-1}px)`),n=()=>{t(window.innerWidth<Od)};return r.addEventListener("change",n),t(window.innerWidth<Od),()=>r.removeEventListener("change",n)},[]),!!e}function NR(){return Ut({queryKey:["/api/profile"],queryFn:async()=>{const e=await fetch("/api/profile");if(!e.ok)throw new Error("Failed to fetch profile");return e.json()}})}function SR(){const e=Eo();return ju({mutationFn:async t=>{try{const r=await La("PATCH","/api/profile",t);if(!r.ok){const n=await r.text();throw new Error(`Profile update failed: ${n}`)}return r.json()}catch(r){throw console.error("Profile update error:",r),r}},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/profile"]})},onError:t=>{console.error("Profile mutation error:",t)}})}function _b(){return Ut({queryKey:["/api/favorites"],queryFn:async()=>{const e=await fetch("/api/favorites");if(!e.ok)throw new Error("Failed to fetch favorites");return e.json()}})}function jb(){const e=Eo();return ju({mutationFn:async({mediaId:t,action:r})=>r==="add"?(await La("POST","/api/favorites",{mediaId:t})).json():(await La("DELETE",`/api/favorites/${t}`)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/favorites"]})}})}function _R(){return Ut({queryKey:["/api/watch-history"],queryFn:async()=>{const e=await fetch("/api/watch-history");if(!e.ok)throw new Error("Failed to fetch watch history");return e.json()}})}const jR=Pu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const a=n?iC:"button";return o.jsx(a,{className:Ee(jR({variant:t,size:r,className:e})),ref:i,...s})});X.displayName="Button";const kb="/assets/logo-icon-B_VYursW.png";function Ze({isOpen:e,onClose:t}){const[r]=ln();m.useEffect(()=>{e&&t()},[r]);const n=[{path:"/",icon:Pw,label:"الرئيسية"},{path:"/movies",icon:$i,label:"الأفلام"},{path:"/series",icon:sc,label:"المسلسلات"},{path:"/anime",icon:sT,label:"الأنمي"},{path:"/anime-movies",icon:$i,label:"أفلام أنمي"},{path:"/foreign-series",icon:sc,label:"مسلسلات أجنبية"},{path:"/asian-series",icon:sc,label:"مسلسلات آسيوية"},{path:"/categories",icon:rh,label:"التصنيفات"},{path:"/years",icon:vs,label:"السنوات"},{path:"/favorites",icon:mo,label:"المفضلة"},{path:"/watch-history",icon:la,label:"سجل المشاهدة"}];return o.jsxs(o.Fragment,{children:[e&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:t}),o.jsx("div",{className:`
        fixed top-0 right-0 h-full w-80 bg-card/95 glass-effect border-l border-border z-50 
        transform transition-transform duration-300 ease-in-out custom-scrollbar overflow-y-auto
        md:w-64 lg:w-72
        ${e?"translate-x-0":"translate-x-full"}
      `,style:{willChange:e?"transform":"auto",transform:e?"translateX(0)":"translateX(100%)"},children:o.jsxs("div",{className:"p-4 md:p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8",children:[o.jsx(lt,{href:"/",children:o.jsx("div",{className:"flex items-center justify-center w-full cursor-pointer px-2",children:o.jsx("img",{src:kb,alt:"FlaynPrime",className:"h-14 md:h-16 w-auto object-contain"})})}),o.jsx(X,{variant:"ghost",size:"icon",className:"md:hidden text-muted-foreground hover:text-foreground flex-shrink-0 absolute left-4 top-4",onClick:t,"data-testid":"sidebar-close-button",children:o.jsx(dl,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),o.jsx("nav",{className:"space-y-1 md:space-y-2",children:n.map(s=>{const i=s.icon,a=r===s.path;return o.jsx(lt,{href:s.path,children:o.jsxs("div",{className:`
                      flex items-center gap-2 md:gap-3 p-2 md:p-3 rounded-lg font-medium transition-all duration-200 w-full text-right cursor-pointer hover:scale-[1.02]
                      ${a?"bg-primary text-primary-foreground shadow-lg border border-primary-foreground/20":"text-muted-foreground hover:text-foreground hover:bg-muted/50 hover:shadow-md"}
                    `,"data-testid":`nav-link-${s.path.replace("/","")||"home"}`,children:[o.jsx(i,{className:"w-4 h-4 md:w-5 md:h-5 flex-shrink-0"}),o.jsx("span",{className:"text-sm md:text-base truncate",children:s.label})]})},s.path)})})]})})]})}const da=m.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));da.displayName="Input";const kR=Pu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Tt({className:e,variant:t,...r}){return o.jsx("div",{className:Ee(kR({variant:t}),e),...r})}function ER(){return Ut({queryKey:["/api/notifications"],queryFn:async()=>{const e=await fetch("/api/notifications");if(!e.ok)throw new Error("Failed to fetch notifications");return e.json()}})}function CR(){return Ut({queryKey:["/api/notifications/unread-count"],queryFn:async()=>{const e=await fetch("/api/notifications/unread-count");if(!e.ok)throw new Error("Failed to fetch unread count");return(await e.json()).count},refetchInterval:3e4})}function TR(){const e=Eo();return ju({mutationFn:async t=>(await La("PATCH",`/api/notifications/${t}/read`)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/notifications"]}),e.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}})}var RR=m.createContext(void 0);function Lm(e){const t=m.useContext(RR);return e||t||"ltr"}function AR(e,[t,r]){return Math.min(r,Math.max(t,e))}function PR(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Dm="ScrollArea",[Eb,m4]=Ln(Dm),[IR,yr]=Eb(Dm),Cb=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...a}=e,[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[g,y]=m.useState(null),[x,S]=m.useState(null),[v,p]=m.useState(0),[w,N]=m.useState(0),[_,E]=m.useState(!1),[C,R]=m.useState(!1),O=ft(t,Q=>c(Q)),M=Lm(s);return o.jsx(IR,{scope:r,type:n,dir:M,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:g,onScrollbarXChange:y,scrollbarXEnabled:_,onScrollbarXEnabledChange:E,scrollbarY:x,onScrollbarYChange:S,scrollbarYEnabled:C,onScrollbarYEnabledChange:R,onCornerWidthChange:p,onCornerHeightChange:N,children:o.jsx(Ne.div,{dir:M,...a,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});Cb.displayName=Dm;var Tb="ScrollAreaViewport",Rb=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,a=yr(Tb,r),l=m.useRef(null),c=ft(t,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(Ne.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Rb.displayName=Tb;var un="ScrollAreaScrollbar",Fm=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=yr(un,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(OR,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(MR,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(Ab,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(zm,{...n,ref:t}):null});Fm.displayName=un;var OR=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=yr(un,e.__scopeScrollArea),[i,a]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(Rs,{present:r||i,children:o.jsx(Ab,{"data-state":i?"visible":"hidden",...n,ref:t})})}),MR=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=yr(un,e.__scopeScrollArea),i=e.orientation==="horizontal",a=zu(()=>c("SCROLL_END"),100),[l,c]=PR("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const g=u[d];f!==g&&(c("SCROLL"),a()),f=g};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,a]),o.jsx(Rs,{present:r||l!=="hidden",children:o.jsx(zm,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:pe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:pe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Ab=m.forwardRef((e,t)=>{const r=yr(un,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,a]=m.useState(!1),l=e.orientation==="horizontal",c=zu(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?u:d)}},10);return vo(r.viewport,c),vo(r.content,c),o.jsx(Rs,{present:n||i,children:o.jsx(zm,{"data-state":i?"visible":"hidden",...s,ref:t})})}),zm=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=yr(un,e.__scopeScrollArea),i=m.useRef(null),a=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Lb(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:h=>a.current=h};function f(h,g){return UR(h,a.current,l,g)}return r==="horizontal"?o.jsx(LR,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,g=iv(h,l,s.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?o.jsx(DR,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,g=iv(h,l);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),LR=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=yr(un,e.__scopeScrollArea),[a,l]=m.useState(),c=m.useRef(null),u=ft(t,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Ib,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Fu(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),Fb(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Gc(a.paddingLeft),paddingEnd:Gc(a.paddingRight)}})}})}),DR=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=yr(un,e.__scopeScrollArea),[a,l]=m.useState(),c=m.useRef(null),u=ft(t,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Ib,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Fu(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),Fb(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Gc(a.paddingTop),paddingEnd:Gc(a.paddingBottom)}})}})}),[FR,Pb]=Eb(un),Ib=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,g=yr(un,r),[y,x]=m.useState(null),S=ft(t,O=>x(O)),v=m.useRef(null),p=m.useRef(""),w=g.viewport,N=n.content-n.viewport,_=ut(d),E=ut(c),C=zu(f,10);function R(O){if(v.current){const M=O.clientX-v.current.left,Q=O.clientY-v.current.top;u({x:M,y:Q})}}return m.useEffect(()=>{const O=M=>{const Q=M.target;(y==null?void 0:y.contains(Q))&&_(M,N)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[w,y,N,_]),m.useEffect(E,[n,E]),vo(y,C),vo(g.content,C),o.jsx(FR,{scope:r,scrollbar:y,hasThumb:s,onThumbChange:ut(i),onThumbPointerUp:ut(a),onThumbPositionChange:E,onThumbPointerDown:ut(l),children:o.jsx(Ne.div,{...h,ref:S,style:{position:"absolute",...h.style},onPointerDown:pe(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),v.current=y.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),R(O))}),onPointerMove:pe(e.onPointerMove,R),onPointerUp:pe(e.onPointerUp,O=>{const M=O.target;M.hasPointerCapture(O.pointerId)&&M.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=p.current,g.viewport&&(g.viewport.style.scrollBehavior=""),v.current=null})})})}),qc="ScrollAreaThumb",Ob=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Pb(qc,e.__scopeScrollArea);return o.jsx(Rs,{present:r||s.hasThumb,children:o.jsx(zR,{ref:t,...n})})}),zR=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=yr(qc,r),a=Pb(qc,r),{onThumbPositionChange:l}=a,c=ft(t,f=>a.onThumbChange(f)),u=m.useRef(void 0),d=zu(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const g=VR(f,l);u.current=g,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),o.jsx(Ne.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:pe(e.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),y=f.clientX-g.left,x=f.clientY-g.top;a.onThumbPointerDown({x:y,y:x})}),onPointerUp:pe(e.onPointerUp,a.onThumbPointerUp)})});Ob.displayName=qc;var $m="ScrollAreaCorner",Mb=m.forwardRef((e,t)=>{const r=yr($m,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx($R,{...e,ref:t}):null});Mb.displayName=$m;var $R=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=yr($m,r),[i,a]=m.useState(0),[l,c]=m.useState(0),u=!!(i&&l);return vo(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),vo(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),a(d)}),u?o.jsx(Ne.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Gc(e){return e?parseInt(e,10):0}function Lb(e,t){const r=e/t;return isNaN(r)?0:r}function Fu(e){const t=Lb(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function UR(e,t,r,n="ltr"){const s=Fu(r),i=s/2,a=t||i,l=s-a,c=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return Db([c,u],f)(e)}function iv(e,t,r="ltr"){const n=Fu(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,a]:[a*-1,0],u=AR(e,c);return Db([0,a],[0,l])(u)}function Db(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Fb(e,t){return e>0&&e<t}var VR=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=r.left!==i.left,l=r.top!==i.top;(a||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function zu(e,t){const r=ut(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function vo(e,t){const r=ut(t);vr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var zb=Cb,BR=Rb,WR=Mb;const $b=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(zb,{ref:n,className:Ee("relative overflow-hidden",e),...r,children:[o.jsx(BR,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(Ub,{}),o.jsx(WR,{})]}));$b.displayName=zb.displayName;const Ub=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(Fm,{ref:n,orientation:t,className:Ee("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(Ob,{className:"relative flex-1 rounded-full bg-border"})}));Ub.displayName=Fm.displayName;function wt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function HR(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Fl=43200,ov=1440;let QR={};function KR(){return QR}function av(e){const t=wt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ac(e,t){const r=wt(e),n=wt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function ZR(e){return HR(e,Date.now())}function qR(e,t){const r=wt(e),n=wt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function GR(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function YR(e,t){return+wt(e)-+wt(t)}function XR(e){const t=wt(e);return t.setHours(23,59,59,999),t}function JR(e){const t=wt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function eA(e){const t=wt(e);return+XR(t)==+JR(t)}function tA(e,t){const r=wt(e),n=wt(t),s=ac(r,n),i=Math.abs(qR(r,n));let a;if(i<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=ac(r,n)===-s;eA(wt(e))&&i===1&&ac(e,n)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}function rA(e,t,r){const n=YR(e,t)/1e3;return GR(r==null?void 0:r.roundingMethod)(n)}const nA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sA=(e,t,r)=>{let n;const s=nA[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Wi(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const iA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lA={date:Wi({formats:iA,defaultWidth:"full"}),time:Wi({formats:oA,defaultWidth:"full"}),dateTime:Wi({formats:aA,defaultWidth:"full"})},cA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uA=(e,t,r,n)=>cA[e];function qr(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const dA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vA=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},yA={ordinalNumber:vA,era:qr({values:dA,defaultWidth:"wide"}),quarter:qr({values:fA,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qr({values:hA,defaultWidth:"wide"}),day:qr({values:mA,defaultWidth:"wide"}),dayPeriod:qr({values:pA,defaultWidth:"wide",formattingValues:gA,defaultFormattingWidth:"wide"})};function Gr(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?wA(l,f=>f.test(a)):xA(l,f=>f.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function xA(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function wA(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Vb(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const bA=/^(\d+)(th|st|nd|rd)?/i,NA=/\d+/i,SA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_A={any:[/^b/i,/^(a|c)/i]},jA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kA={any:[/1/i,/2/i,/3/i,/4/i]},EA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},CA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},TA={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RA={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},AA={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},PA={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},IA={ordinalNumber:Vb({matchPattern:bA,parsePattern:NA,valueCallback:e=>parseInt(e,10)}),era:Gr({matchPatterns:SA,defaultMatchWidth:"wide",parsePatterns:_A,defaultParseWidth:"any"}),quarter:Gr({matchPatterns:jA,defaultMatchWidth:"wide",parsePatterns:kA,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gr({matchPatterns:EA,defaultMatchWidth:"wide",parsePatterns:CA,defaultParseWidth:"any"}),day:Gr({matchPatterns:TA,defaultMatchWidth:"wide",parsePatterns:RA,defaultParseWidth:"any"}),dayPeriod:Gr({matchPatterns:AA,defaultMatchWidth:"any",parsePatterns:PA,defaultParseWidth:"any"})},OA={code:"en-US",formatDistance:sA,formatLong:lA,formatRelative:uA,localize:yA,match:IA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function MA(e,t,r){const n=KR(),s=(r==null?void 0:r.locale)??n.locale??OA,i=2520,a=ac(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let c,u;a>0?(c=wt(t),u=wt(e)):(c=wt(e),u=wt(t));const d=rA(u,c),f=(av(u)-av(c))/1e3,h=Math.round((d-f)/60);let g;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<ov){const y=Math.round(h/60);return s.formatDistance("aboutXHours",y,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<Fl){const y=Math.round(h/ov);return s.formatDistance("xDays",y,l)}else if(h<Fl*2)return g=Math.round(h/Fl),s.formatDistance("aboutXMonths",g,l)}if(g=tA(u,c),g<12){const y=Math.round(h/Fl);return s.formatDistance("xMonths",y,l)}else{const y=g%12,x=Math.trunc(g/12);return y<3?s.formatDistance("aboutXYears",x,l):y<9?s.formatDistance("overXYears",x,l):s.formatDistance("almostXYears",x+1,l)}}function Bb(e,t){return MA(e,ZR(e),t)}const LA={lessThanXSeconds:{one:"أقل من ثانية",two:"أقل من ثانيتين",threeToTen:"أقل من {{count}} ثواني",other:"أقل من {{count}} ثانية"},xSeconds:{one:"ثانية واحدة",two:"ثانيتان",threeToTen:"{{count}} ثواني",other:"{{count}} ثانية"},halfAMinute:"نصف دقيقة",lessThanXMinutes:{one:"أقل من دقيقة",two:"أقل من دقيقتين",threeToTen:"أقل من {{count}} دقائق",other:"أقل من {{count}} دقيقة"},xMinutes:{one:"دقيقة واحدة",two:"دقيقتان",threeToTen:"{{count}} دقائق",other:"{{count}} دقيقة"},aboutXHours:{one:"ساعة واحدة تقريباً",two:"ساعتين تقريبا",threeToTen:"{{count}} ساعات تقريباً",other:"{{count}} ساعة تقريباً"},xHours:{one:"ساعة واحدة",two:"ساعتان",threeToTen:"{{count}} ساعات",other:"{{count}} ساعة"},xDays:{one:"يوم واحد",two:"يومان",threeToTen:"{{count}} أيام",other:"{{count}} يوم"},aboutXWeeks:{one:"أسبوع واحد تقريبا",two:"أسبوعين تقريبا",threeToTen:"{{count}} أسابيع تقريبا",other:"{{count}} أسبوعا تقريبا"},xWeeks:{one:"أسبوع واحد",two:"أسبوعان",threeToTen:"{{count}} أسابيع",other:"{{count}} أسبوعا"},aboutXMonths:{one:"شهر واحد تقريباً",two:"شهرين تقريبا",threeToTen:"{{count}} أشهر تقريبا",other:"{{count}} شهرا تقريباً"},xMonths:{one:"شهر واحد",two:"شهران",threeToTen:"{{count}} أشهر",other:"{{count}} شهرا"},aboutXYears:{one:"سنة واحدة تقريباً",two:"سنتين تقريبا",threeToTen:"{{count}} سنوات تقريباً",other:"{{count}} سنة تقريباً"},xYears:{one:"سنة واحد",two:"سنتان",threeToTen:"{{count}} سنوات",other:"{{count}} سنة"},overXYears:{one:"أكثر من سنة",two:"أكثر من سنتين",threeToTen:"أكثر من {{count}} سنوات",other:"أكثر من {{count}} سنة"},almostXYears:{one:"ما يقارب سنة واحدة",two:"ما يقارب سنتين",threeToTen:"ما يقارب {{count}} سنوات",other:"ما يقارب {{count}} سنة"}},DA=(e,t,r)=>{const n=LA[e];let s;return typeof n=="string"?s=n:t===1?s=n.one:t===2?s=n.two:t<=10?s=n.threeToTen.replace("{{count}}",String(t)):s=n.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"خلال "+s:"منذ "+s:s},FA={full:"EEEE، do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},zA={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},$A={full:"{{date}} 'عند الساعة' {{time}}",long:"{{date}} 'عند الساعة' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},UA={date:Wi({formats:FA,defaultWidth:"full"}),time:Wi({formats:zA,defaultWidth:"full"}),dateTime:Wi({formats:$A,defaultWidth:"full"})},VA={lastWeek:"eeee 'الماضي عند الساعة' p",yesterday:"'الأمس عند الساعة' p",today:"'اليوم عند الساعة' p",tomorrow:"'غدا عند الساعة' p",nextWeek:"eeee 'القادم عند الساعة' p",other:"P"},BA=e=>VA[e],WA={narrow:["ق","ب"],abbreviated:["ق.م.","ب.م."],wide:["قبل الميلاد","بعد الميلاد"]},HA={narrow:["1","2","3","4"],abbreviated:["ر1","ر2","ر3","ر4"],wide:["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"]},QA={narrow:["ي","ف","م","أ","م","ي","ي","أ","س","أ","ن","د"],abbreviated:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],wide:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},KA={narrow:["ح","ن","ث","ر","خ","ج","س"],short:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],abbreviated:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],wide:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},ZA={narrow:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"}},qA={narrow:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"}},GA=e=>String(e),YA={ordinalNumber:GA,era:qr({values:WA,defaultWidth:"wide"}),quarter:qr({values:HA,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qr({values:QA,defaultWidth:"wide"}),day:qr({values:KA,defaultWidth:"wide"}),dayPeriod:qr({values:ZA,defaultWidth:"wide",formattingValues:qA,defaultFormattingWidth:"wide"})},XA=/^(\d+)(th|st|nd|rd)?/i,JA=/\d+/i,eP={narrow:/[قب]/,abbreviated:/[قب]\.م\./,wide:/(قبل|بعد) الميلاد/},tP={any:[/قبل/,/بعد/]},rP={narrow:/^[1234]/i,abbreviated:/ر[1234]/,wide:/الربع (الأول|الثاني|الثالث|الرابع)/},nP={any:[/1/i,/2/i,/3/i,/4/i]},sP={narrow:/^[أيفمسند]/,abbreviated:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/,wide:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/},iP={narrow:[/^ي/i,/^ف/i,/^م/i,/^أ/i,/^م/i,/^ي/i,/^ي/i,/^أ/i,/^س/i,/^أ/i,/^ن/i,/^د/i],any:[/^يناير/i,/^فبراير/i,/^مارس/i,/^أبريل/i,/^مايو/i,/^يونيو/i,/^يوليو/i,/^أغسطس/i,/^سبتمبر/i,/^أكتوبر/i,/^نوفمبر/i,/^ديسمبر/i]},oP={narrow:/^[حنثرخجس]/i,short:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,abbreviated:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,wide:/^(الأحد|الاثنين|الثلاثاء|الأربعاء|الخميس|الجمعة|السبت)/i},aP={narrow:[/^ح/i,/^ن/i,/^ث/i,/^ر/i,/^خ/i,/^ج/i,/^س/i],wide:[/^الأحد/i,/^الاثنين/i,/^الثلاثاء/i,/^الأربعاء/i,/^الخميس/i,/^الجمعة/i,/^السبت/i],any:[/^أح/i,/^اث/i,/^ث/i,/^أر/i,/^خ/i,/^ج/i,/^س/i]},lP={narrow:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/,any:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/},cP={any:{am:/^ص/,pm:/^م/,midnight:/منتصف الليل/,noon:/الظهر/,afternoon:/بعد الظهر/,morning:/في الصباح/,evening:/في المساء/,night:/في الليل/}},uP={ordinalNumber:Vb({matchPattern:XA,parsePattern:JA,valueCallback:e=>parseInt(e,10)}),era:Gr({matchPatterns:eP,defaultMatchWidth:"wide",parsePatterns:tP,defaultParseWidth:"any"}),quarter:Gr({matchPatterns:rP,defaultMatchWidth:"wide",parsePatterns:nP,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gr({matchPatterns:sP,defaultMatchWidth:"wide",parsePatterns:iP,defaultParseWidth:"any"}),day:Gr({matchPatterns:oP,defaultMatchWidth:"wide",parsePatterns:aP,defaultParseWidth:"any"}),dayPeriod:Gr({matchPatterns:lP,defaultMatchWidth:"any",parsePatterns:cP,defaultParseWidth:"any"})},Wb={code:"ar",formatDistance:DA,formatLong:UA,formatRelative:BA,localize:YA,match:uP,options:{weekStartsOn:6,firstWeekContainsDate:1}};function dP({isOpen:e,onClose:t}){const{data:r=[]}=ER(),n=TR();m.useEffect(()=>{const a=l=>{l.key==="Escape"&&t()};return e&&document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[e,t]);const s=async a=>{var l;(l=r.find(c=>c.id===a))!=null&&l.isRead||await n.mutateAsync(a)},i=a=>{switch(a){case"new_episode":return o.jsx(sc,{className:"w-4 h-4"});case"new_movie":return o.jsx($i,{className:"w-4 h-4"});case"reminder":return o.jsx(Wc,{className:"w-4 h-4"});default:return o.jsx(th,{className:"w-4 h-4"})}};return e?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:t}),o.jsxs("div",{className:"fixed top-16 right-4 w-96 max-w-[calc(100vw-2rem)] bg-popover rounded-lg border border-border shadow-lg z-50 slide-in-right",children:[o.jsx("div",{className:"p-6 border-b border-border",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold","data-testid":"notifications-title",children:"الإشعارات"}),o.jsx(X,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground",onClick:t,"data-testid":"close-notifications",children:o.jsx(dl,{className:"w-5 h-5"})})]})}),o.jsx($b,{className:"max-h-96 custom-scrollbar","data-testid":"notifications-list",children:r.length===0?o.jsxs("div",{className:"p-6 text-center text-muted-foreground","data-testid":"no-notifications",children:[o.jsx(th,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"لا توجد إشعارات جديدة"})]}):o.jsx("div",{children:r.map(a=>o.jsx("div",{className:`
                    p-4 border-b border-border/50 hover:bg-muted/30 transition-colors cursor-pointer
                    ${a.isRead?"":"bg-muted/20"}
                  `,onClick:()=>s(a.id),"data-testid":`notification-${a.id}`,children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:`
                      w-2 h-2 rounded-full mt-2 flex-shrink-0
                      ${a.isRead?"bg-muted":"bg-primary pulse-notification"}
                    `}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[i(a.type),o.jsx("h4",{className:`
                          font-medium text-sm
                          ${a.isRead?"text-muted-foreground":"text-foreground"}
                        `,"data-testid":"notification-title",children:a.title})]}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2 line-clamp-2","data-testid":"notification-message",children:a.message}),o.jsx("span",{className:"text-xs text-primary","data-testid":"notification-time",children:Bb(a.createdAt?new Date(a.createdAt):new Date,{addSuffix:!0,locale:Wb})})]})]})},a.id))})})]})]}):null}function qe({onToggleSidebar:e,searchQuery:t,onSearchChange:r}){const[n,s]=m.useState(!1),[i,a]=m.useState(!1),[,l]=ln(),{data:c=0}=CR(),{data:u=[],isLoading:d}=wR(t,{debounceMs:300,minLength:2,limit:100});m.useEffect(()=>{a(t.length>=2&&(u.length>0||d))},[t,u,d]);const f=()=>{t.trim()&&(l(`/search?q=${encodeURIComponent(t.trim())}`),a(!1))},h=y=>{y.key==="Enter"&&f()},g=(y,x)=>{const S=x==="movie"?`/movie/${y}`:`/series/${y}`;l(S),a(!1),r("")};return o.jsx("header",{className:"sticky top-0 z-30 bg-background/95 glass-effect border-b border-border",children:o.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 gap-2 md:gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[o.jsx(X,{variant:"ghost",size:"icon",className:"text-foreground hover:text-primary w-9 h-9 md:w-10 md:h-10",onClick:e,"data-testid":"toggle-sidebar-button",children:o.jsx(JC,{className:"w-5 h-5 md:w-6 md:h-6"})}),o.jsx(lt,{href:"/",children:o.jsx("div",{className:"flex items-center cursor-pointer",children:o.jsx("img",{src:kb,alt:"FlaynPrime",className:"h-9 md:h-11 w-auto object-contain"})})})]}),o.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-1 justify-end max-w-2xl",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(da,{type:"text",placeholder:"ابحث...",value:t,onChange:y=>r(y.target.value),onKeyDown:h,onFocus:()=>t.length>=2&&a(!0),className:"w-full pr-10 md:pr-12 text-sm md:text-base bg-input border border-border/20 text-foreground placeholder:text-muted-foreground focus:border-primary/50 focus:ring-1 focus:ring-primary/10 h-9 md:h-10 rounded-full transition-all","data-testid":"search-input"}),o.jsx("div",{className:"absolute right-2.5 md:right-3 top-1/2 -translate-y-1/2 p-1.5 rounded-full hover:bg-primary/10 transition-colors cursor-pointer group",onClick:f,children:o.jsx(Ui,{className:"text-muted-foreground group-hover:text-primary w-4 h-4 md:w-[18px] md:h-[18px] transition-colors","data-testid":"search-icon"})}),i&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>a(!1)}),o.jsx(Re,{className:"absolute top-full left-0 right-0 mt-2 max-h-80 overflow-y-auto z-40 bg-popover border-border",children:o.jsxs("div",{className:"p-2",children:[d&&o.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[o.jsx("div",{className:"w-8 h-8 mx-auto mb-2 animate-spin rounded-full border-2 border-primary border-t-transparent"}),o.jsx("p",{className:"text-sm",children:"جاري البحث..."})]}),!d&&u.map(y=>o.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-muted/50 rounded-lg cursor-pointer transition-colors",onClick:()=>g(y.id,y.type),children:[o.jsx("img",{src:y.poster,alt:y.title,className:"w-12 h-16 object-cover rounded border"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-medium text-sm truncate",children:y.title}),o.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[y.year," • ",y.genre]}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[y.rating&&o.jsxs("span",{className:"text-xs text-primary font-medium",children:["⭐ ",(y.rating/10).toFixed(1)]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:y.type==="movie"?"فيلم":y.type==="series"?"مسلسل":y.type==="anime"?"أنمي":y.type==="anime_movie"?"فيلم أنمي":y.type==="korean_series"?"كوري":y.type==="foreign_series"?"أجنبي":y.type==="asian_series"?"آسيوي":"وثائقي"})]})]})]},y.id)),!d&&u.length===0&&o.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[o.jsx(Ui,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"لم يتم العثور على نتائج"})]}),!d&&u.length>0&&o.jsx("div",{className:"border-t border-border mt-2 pt-2",children:o.jsxs(X,{variant:"ghost",className:"w-full justify-between text-sm h-8 font-normal",onClick:f,"data-testid":"view-all-results-button",children:[o.jsx("span",{children:"عرض جميع النتائج"}),o.jsx(jn,{className:"w-4 h-4"})]})})]})})]})]}),o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsxs(X,{variant:"ghost",size:"icon",className:"relative text-muted-foreground hover:text-foreground hover:bg-muted/50 w-9 h-9 md:w-10 md:h-10",onClick:()=>s(!n),"data-testid":"notifications-button",children:[o.jsx(th,{className:"w-5 h-5 md:w-6 md:h-6"}),c>0&&o.jsx(Tt,{className:"absolute -top-0.5 -left-0.5 md:-top-1 md:-left-1 w-4 h-4 md:w-5 md:h-5 bg-primary text-primary-foreground text-[10px] md:text-xs font-bold p-0 flex items-center justify-center pulse-notification","data-testid":"notification-badge",children:c})]}),o.jsx(dP,{isOpen:n,onClose:()=>s(!1)})]})]})]})})}const fP=[{path:"/",icon:Pw,label:"الرئيسية",testId:"home"},{path:"/search",icon:Ui,label:"البحث",testId:"search"},{path:"/favorites",icon:mo,label:"المفضلة",testId:"favorites"},{path:"/watch-history",icon:la,label:"السجل",testId:"history"},{path:"/profile",icon:nh,label:"الملف الشخصي",testId:"profile"}];function Ge(){const[e]=ln();return o.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-card/95 glass-effect border-t border-border z-30 pb-safe",children:o.jsx("div",{className:"flex items-center justify-around py-2 px-1",children:fP.map(t=>{const r=t.icon,n=e===t.path;return o.jsx(lt,{href:t.path,children:o.jsxs(X,{variant:"ghost",size:"sm",className:`
                  bottom-nav-item flex flex-col items-center p-2 h-auto min-h-[40px] min-w-[40px] 
                  rounded-lg transition-all duration-200 mobile-card
                  ${n?"text-primary bg-primary/10 border border-primary/20 active":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}
                `,"data-testid":`bottom-nav-${t.testId}`,children:[o.jsx(r,{className:`w-4 h-4 mb-0.5 transition-transform duration-200 ${n?"scale-110":"scale-100"}`}),o.jsx("span",{className:`text-[10px] font-medium transition-all duration-200 ${n?"text-primary":"text-inherit"}`,children:t.label})]})},t.path)})})})}const ge={MOVIE:"movie",SERIES:"series",ANIME:"anime",ANIME_MOVIE:"anime_movie",FOREIGN_SERIES:"foreign_series",ASIAN_SERIES:"asian_series"},hP={anime:[{key:"anime-action",label:"أكشن"},{key:"anime-adventure",label:"مغامرات"},{key:"anime-comedy",label:"كوميديا"},{key:"anime-drama",label:"دراما"},{key:"anime-fantasy",label:"فانتازيا"},{key:"anime-horror",label:"رعب"},{key:"anime-mystery",label:"غموض"},{key:"anime-psychological",label:"نفسي"},{key:"anime-romance",label:"رومانسي"},{key:"anime-sci-fi",label:"خيال علمي"},{key:"anime-slice-of-life",label:"شريحة من الحياة"},{key:"anime-sports",label:"رياضة"},{key:"anime-supernatural",label:"خارق للطبيعة"},{key:"anime-thriller",label:"إثارة"},{key:"anime-historical",label:"تاريخي"},{key:"anime-mecha",label:"ميكا"},{key:"anime-martial-arts",label:"فنون قتالية"},{key:"anime-superpower",label:"قوى خارقة"},{key:"anime-isekai",label:"إيسيكاي"}],foreign:[{key:"foreign-action",label:"أكشن"},{key:"foreign-adventure",label:"مغامرات"},{key:"foreign-comedy",label:"كوميديا"},{key:"foreign-drama",label:"دراما"},{key:"foreign-fantasy",label:"فانتازيا"},{key:"foreign-horror",label:"رعب"},{key:"foreign-mystery",label:"غموض"},{key:"foreign-psychological",label:"نفسي"},{key:"foreign-romance",label:"رومانسي"},{key:"foreign-sci-fi",label:"خيال علمي"},{key:"foreign-slice-of-life",label:"شريحة من الحياة"},{key:"foreign-sports",label:"رياضة"},{key:"foreign-supernatural",label:"خارق للطبيعة"},{key:"foreign-thriller",label:"إثارة"},{key:"foreign-historical",label:"تاريخي"},{key:"foreign-crime",label:"جريمة"},{key:"foreign-documentary",label:"وثائقي"},{key:"foreign-war",label:"حرب"},{key:"foreign-politics",label:"سياسة"}]},mP={[ge.ANIME]:"anime",[ge.ANIME_MOVIE]:"anime",[ge.MOVIE]:"foreign",[ge.SERIES]:"foreign",[ge.FOREIGN_SERIES]:"foreign",[ge.ASIAN_SERIES]:"foreign"};function pP(e){const t=mP[e];return t?hP[t]:[]}Array.from({length:20},(e,t)=>new Date().getFullYear()-t);const fa="https://images.unsplash.com/photo-1489599184444-c4b8c44b2b6a?w=300&h=450&fit=crop",zl="https://images.unsplash.com/photo-1489599184444-c4b8c44b2b6a?w=1920&h=1080&fit=crop";function gP({media:e,isFavorite:t=!1}){const{toast:r}=ul(),n=Sb(),s=jb(),[,i]=ln(),[a,l]=m.useState(!1),[c,u]=m.useState((e==null?void 0:e.backdrop)||(e==null?void 0:e.poster)||zl),[d,f]=m.useState(!1);if(m.useEffect(()=>{if(e){f(!0),l(!1);const y=e.backdrop||e.poster||zl;u(y);const x=setTimeout(()=>{f(!1)},700);return()=>clearTimeout(x)}},[e==null?void 0:e.id,e==null?void 0:e.backdrop,e==null?void 0:e.poster]),!e)return null;const h=async()=>{try{await n.mutateAsync({mediaId:e.id,progress:5});const y=e.type==="movie"?`/movie/${e.id}?autoplay=true`:`/series/${e.id}?autoplay=true`;i(y),r({title:"تم بدء التشغيل",description:`بدء تشغيل ${e.title}`})}catch(y){r({title:"خطأ",description:y instanceof Error?y.message:"حدث خطأ في بدء التشغيل",variant:"destructive"})}},g=async()=>{try{await s.mutateAsync({mediaId:e.id,action:t?"remove":"add"}),r({title:t?"تم الحذف من المفضلة":"تم الإضافة للمفضلة",description:e.title})}catch(y){r({title:"خطأ",description:y instanceof Error?y.message:"حدث خطأ في تحديث المفضلة",variant:"destructive"})}};return o.jsxs("section",{className:"relative h-[70vh] md:h-[600px] rounded-2xl overflow-hidden shadow-2xl",children:[o.jsxs("div",{className:"relative w-full h-full",children:[o.jsx("div",{className:`absolute inset-0 transition-all duration-700 ease-out ${d?"opacity-0 scale-105":"opacity-100 scale-100"}`,children:o.jsx("img",{src:c,alt:e.title,className:`w-full h-full object-cover transition-all duration-1000 ease-out ${a?"opacity-100 scale-100":"opacity-0 scale-110"}`,"data-testid":"hero-backdrop",onLoad:()=>l(!0),onError:y=>{const x=y.target;x.src!==zl&&(x.src=zl)}})}),e.poster&&e.poster!==c&&o.jsx("div",{className:"absolute top-8 right-8 w-32 md:w-40 lg:w-48 opacity-90 hover:opacity-100 transition-opacity duration-300 hero-poster-float",children:o.jsx("img",{src:e.poster,alt:`${e.title} Poster`,className:"w-full h-auto rounded-xl shadow-2xl hover:shadow-3xl transition-all duration-300 hover:scale-105 border-2 border-white/20 backdrop-blur-sm","data-testid":"hero-poster",onError:y=>{const x=y.target;x.style.display="none"}})})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/80 to-background/20 pointer-events-none"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background/90 via-transparent to-transparent pointer-events-none"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-background/90 pointer-events-none"}),o.jsxs("div",{className:`absolute bottom-8 right-8 left-8 md:left-auto max-w-xl transition-all duration-700 ease-out z-20 ${d?"opacity-0 translate-y-8":"opacity-100 translate-y-0"}`,children:[e.isNew&&o.jsx(Tt,{className:"bg-gradient-to-r from-primary to-primary/80 text-white mb-4 px-3 py-1 text-sm font-semibold shadow-lg animate-pulse hover:animate-none transition-all duration-300","data-testid":"hero-new-badge",children:"جديد"}),o.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold mb-6 text-white drop-shadow-2xl leading-tight gradient-text-white relative","data-testid":"hero-title",children:[e.title,o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white via-white/95 to-white/90 bg-clip-text text-transparent",children:e.title})]}),(e.descriptionAr||e.description)&&o.jsx("p",{className:"text-white/90 mb-8 leading-relaxed line-clamp-3 text-lg md:text-xl max-w-2xl drop-shadow-lg backdrop-blur-sm bg-black/10 p-4 rounded-lg border border-white/10","data-testid":"hero-description",children:e.descriptionAr||e.description}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs(X,{className:"px-8 py-4 bg-gradient-to-r from-primary to-primary/80 text-white hover:from-primary/90 hover:to-primary/70 font-bold text-lg shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300 relative overflow-hidden group hero-button-glow",onClick:h,disabled:n.isPending,"data-testid":"hero-play-button",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsx(_r,{className:"w-6 h-6 ml-2 fill-current relative z-10"}),o.jsx("span",{className:"relative z-10",children:"شاهد الآن"})]}),o.jsxs(X,{variant:"secondary",className:"px-8 py-4 bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 font-bold text-lg shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300 border border-white/30 relative overflow-hidden group hero-button-glow",onClick:g,disabled:s.isPending,"data-testid":"hero-add-button",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsx(tT,{className:"w-6 h-6 ml-2 relative z-10"}),o.jsx("span",{className:"relative z-10",children:t?"حذف من المفضلة":"أضف للمفضلة"})]})]})]}),d&&o.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-30 pointer-events-none",children:o.jsx("div",{className:"w-8 h-8 border-4 border-white/30 border-t-white rounded-full animate-spin"})})]})}function vP(){const[e,t]=m.useState([]);return m.useEffect(()=>{(()=>{const n=[],i=[];for(let a=0;a<12;a++){let l=Math.random()*100,c=Math.random()*100,u=0;for(;u<50&&i.some(d=>Math.abs(d.x-l)<20&&Math.abs(d.y-c)<20);)l=Math.random()*100,c=Math.random()*100,u++;i.push({x:l,y:c}),n.push({id:a,size:Math.random()*250+150,x:l,y:c,duration:Math.random()*10+8,delay:Math.random()*4,opacity:Math.random()*.2+.15})}t(n)})()},[]),o.jsx("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:e.map(r=>o.jsx("div",{className:"absolute rounded-full bg-gradient-to-br from-primary/35 to-accent/25 blur-3xl animate-float-random",style:{width:`${r.size}px`,height:`${r.size}px`,left:`${r.x}%`,top:`${r.y}%`,opacity:r.opacity,animation:`floatRandom ${r.duration}s ease-in-out ${r.delay}s infinite alternate, fadeInOut ${r.duration*1.5}s ease-in-out ${r.delay}s infinite`,transform:"translate(-50%, -50%)",mixBlendMode:"screen"}},r.id))})}function yP({media:e,showProgress:t=!1,progress:r=0,currentEpisode:n,currentSeason:s,isFavorite:i=!1,size:a="default"}){const[,l]=ln(),c=u=>{const d=e.type==="movie"?`/movie/${e.id}`:`/series/${e.id}`;u.ctrlKey||u.metaKey?window.open(d,"_blank"):l(d)};return o.jsxs(Re,{className:`
        group cursor-pointer overflow-hidden bg-transparent border-none movie-card-hover
        ${a==="large"?"row-span-2":""}
      `,onClick:c,"data-testid":`movie-card-${e.id}`,children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"relative w-full aspect-[2/3] overflow-hidden rounded-t-lg bg-gradient-to-br from-muted to-muted/50",children:[o.jsx("img",{src:e.poster||fa,alt:e.title,className:"absolute inset-0 w-full h-full object-contain transition-transform duration-300 group-hover:scale-105",loading:"lazy",decoding:"async","data-testid":"movie-poster",onError:u=>{const d=u.target;d.src!==fa&&(d.src=fa)}}),e.rating&&o.jsxs(Tt,{className:"absolute top-2 right-2 bg-black/80 text-primary border-none z-10",children:[o.jsx(nc,{className:"w-3 h-3 mr-1"}),o.jsx("span",{"data-testid":"movie-rating",children:e.rating})]}),e.isNew&&o.jsx(Tt,{className:"absolute top-2 left-2 bg-primary text-primary-foreground z-10",children:"جديد"}),t&&r>0&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/50 z-10",children:o.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${r}%`},"data-testid":"progress-bar"})})]})}),a==="large"&&o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"font-bold text-lg mb-2","data-testid":"movie-title",children:e.title}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-3",children:[o.jsxs("span",{"data-testid":"movie-year-category",children:[e.year," • ",e.category]}),e.duration&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Wc,{className:"w-3 h-3"}),o.jsx("span",{"data-testid":"movie-duration",children:e.duration})]})]}),e.descriptionAr&&o.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2","data-testid":"movie-description",children:e.descriptionAr})]}),a==="default"&&o.jsxs("div",{className:"p-3",children:[o.jsx("h4",{className:"font-medium text-sm mb-1","data-testid":"movie-title",children:e.title}),o.jsx("div",{className:"text-xs text-muted-foreground",children:o.jsxs("span",{"data-testid":"movie-year-category",children:[e.year," • ",e.category]})}),t&&n&&o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:o.jsxs("span",{"data-testid":"episode-info",children:["الحلقة ",n,s&&` • الموسم ${s}`]})})]})]})}const Ve=m.memo(yP);function J({className:e,...t}){return o.jsx("div",{className:Ee("animate-pulse rounded-md bg-muted",e),...t})}function xP(){const[e,t]=m.useState(!1),[r,n]=m.useState(""),s=vt(),{data:i=[],isLoading:a}=wb(),{data:l=[],isLoading:c}=bb(),{data:u=[]}=_b(),{data:d=[]}=zt({type:ge.MOVIE}),{data:f=[]}=zt({type:ge.SERIES}),{data:h=[]}=zt({type:ge.ANIME}),{data:g=[]}=zt({type:ge.ANIME_MOVIE}),{data:y=[]}=zt({type:ge.FOREIGN_SERIES}),{data:x=[]}=zt({type:ge.ASIAN_SERIES}),S=m.useMemo(()=>{const p=[...i,...l,...d,...f,...h,...g,...y,...x];if(p.length===0)return null;const w=p.reduce((C,R)=>(C.some(O=>O.id===R.id)||C.push(R),C),[]),N=w.filter(C=>parseFloat(C.rating||"0")>=9),_=w.filter(C=>parseFloat(C.rating||"0")>=8),E=N.length>0?N:_;return E.length===0?i[0]||null:E[Math.floor(Math.random()*E.length)]},[i,l,d,f,h,g,y,x]),v=m.useMemo(()=>!S||!u?!1:u.some(p=>p.mediaId===S.id),[S,u]);return o.jsxs("div",{className:"min-h-screen bg-background text-foreground overflow-x-hidden max-w-full relative",children:[o.jsx(vP,{}),o.jsx(Ze,{isOpen:e,onClose:()=>t(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 max-w-full overflow-x-hidden relative z-10 ${e?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>t(!0),searchQuery:r,onSearchChange:n}),o.jsxs("main",{className:"p-4 md:p-6 lg:p-8 space-y-8 md:space-y-10 lg:space-y-12 relative z-10",children:[S&&o.jsx(gP,{media:S,isFavorite:v}),o.jsxs("section",{className:"fade-in",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[o.jsx("h3",{className:"text-xl md:text-2xl lg:text-3xl font-bold","data-testid":"trending-title",children:"الأكثر شعبية"}),o.jsx(lt,{href:"/trending",children:o.jsxs(X,{variant:"ghost",className:"text-primary hover:text-primary/80 flex items-center gap-1 md:gap-2 text-sm md:text-base","data-testid":"trending-view-all",children:[o.jsx("span",{className:"hidden sm:inline",children:"عرض الكل"}),o.jsx("span",{className:"sm:hidden",children:"الكل"}),o.jsx(mn,{className:"w-3 h-3 md:w-4 md:h-4"})]})})]}),a?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 md:gap-4 lg:gap-6",children:Array.from({length:6}).map((p,w)=>o.jsxs("div",{className:"space-y-2 md:space-y-3",children:[o.jsx(J,{className:"w-full aspect-[2/3] rounded-lg"}),o.jsx(J,{className:"h-3 md:h-4 w-3/4"}),o.jsx(J,{className:"h-2 md:h-3 w-1/2"})]},w))}):o.jsx("div",{className:"flex gap-3 md:gap-4 overflow-x-auto scrollbar-hide pb-4 -mx-4 px-4 md:mx-0 md:px-0",children:i.slice(0,12).map(p=>o.jsx("div",{className:"flex-none w-32 sm:w-40 md:w-48 lg:w-52",children:o.jsx(Ve,{media:p})},p.id))})]}),o.jsxs("section",{className:"fade-in",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[o.jsx("h3",{className:"text-xl md:text-2xl lg:text-3xl font-bold","data-testid":"new-releases-title",children:"الإصدارات الجديدة"}),o.jsx(lt,{href:"/new-releases",children:o.jsxs(X,{variant:"ghost",className:"text-primary hover:text-primary/80 flex items-center gap-1 md:gap-2 text-sm md:text-base","data-testid":"new-releases-view-all",children:[o.jsx("span",{className:"hidden sm:inline",children:"عرض الكل"}),o.jsx("span",{className:"sm:hidden",children:"الكل"}),o.jsx(mn,{className:"w-3 h-3 md:w-4 md:h-4"})]})})]}),c?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 md:gap-4",children:Array.from({length:6}).map((p,w)=>o.jsxs("div",{className:"space-y-2 md:space-y-3",children:[o.jsx(J,{className:"w-full aspect-[2/3] rounded-lg"}),o.jsx(J,{className:"h-3 md:h-4 w-3/4"}),o.jsx(J,{className:"h-2 md:h-3 w-1/2"})]},w))}):o.jsx("div",{className:"flex gap-3 md:gap-4 overflow-x-auto scrollbar-hide pb-4 -mx-4 px-4 md:mx-0 md:px-0",children:l.slice(0,12).map(p=>o.jsx("div",{className:"flex-none w-32 sm:w-40 md:w-48 lg:w-52",children:o.jsx(Ve,{media:p})},p.id))})]}),d.length>0&&o.jsxs("section",{className:"fade-in",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[o.jsx("h3",{className:"text-xl md:text-2xl lg:text-3xl font-bold","data-testid":"movies-title",children:"أفلام"}),o.jsx(lt,{href:"/movies",children:o.jsxs(X,{variant:"ghost",className:"text-primary hover:text-primary/80 flex items-center gap-1 md:gap-2 text-sm md:text-base","data-testid":"movies-view-all",children:[o.jsx("span",{className:"hidden sm:inline",children:"عرض الكل"}),o.jsx("span",{className:"sm:hidden",children:"الكل"}),o.jsx(mn,{className:"w-3 h-3 md:w-4 md:h-4"})]})})]}),o.jsx("div",{className:"flex gap-3 md:gap-4 overflow-x-auto scrollbar-hide pb-4 -mx-4 px-4 md:mx-0 md:px-0",children:d.slice(0,12).map(p=>o.jsx("div",{className:"flex-none w-32 sm:w-40 md:w-48 lg:w-52",children:o.jsx(Ve,{media:p})},p.id))})]}),h.length>0&&o.jsxs("section",{className:"fade-in",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[o.jsx("h3",{className:"text-xl md:text-2xl lg:text-3xl font-bold","data-testid":"anime-title",children:"أنمي"}),o.jsx(lt,{href:"/anime",children:o.jsxs(X,{variant:"ghost",className:"text-primary hover:text-primary/80 flex items-center gap-1 md:gap-2 text-sm md:text-base","data-testid":"anime-view-all",children:[o.jsx("span",{className:"hidden sm:inline",children:"عرض الكل"}),o.jsx("span",{className:"sm:hidden",children:"الكل"}),o.jsx(mn,{className:"w-3 h-3 md:w-4 md:h-4"})]})})]}),o.jsx("div",{className:"flex gap-3 md:gap-4 overflow-x-auto scrollbar-hide pb-4 -mx-4 px-4 md:mx-0 md:px-0",children:h.slice(0,12).map(p=>o.jsx("div",{className:"flex-none w-32 sm:w-40 md:w-48 lg:w-52",children:o.jsx(Ve,{media:p})},p.id))})]}),g.length>0&&o.jsxs("section",{className:"fade-in",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[o.jsx("h3",{className:"text-xl md:text-2xl lg:text-3xl font-bold","data-testid":"anime-movies-title",children:"أفلام الأنمي"}),o.jsx(lt,{href:"/anime-movies",children:o.jsxs(X,{variant:"ghost",className:"text-primary hover:text-primary/80 flex items-center gap-1 md:gap-2 text-sm md:text-base","data-testid":"anime-movies-view-all",children:[o.jsx("span",{className:"hidden sm:inline",children:"عرض الكل"}),o.jsx("span",{className:"sm:hidden",children:"الكل"}),o.jsx(mn,{className:"w-3 h-3 md:w-4 md:h-4"})]})})]}),o.jsx("div",{className:"flex gap-3 md:gap-4 overflow-x-auto scrollbar-hide pb-4 -mx-4 px-4 md:mx-0 md:px-0",children:g.slice(0,12).map(p=>o.jsx("div",{className:"flex-none w-32 sm:w-40 md:w-48 lg:w-52",children:o.jsx(Ve,{media:p})},p.id))})]}),y.length>0&&o.jsxs("section",{className:"fade-in",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[o.jsx("h3",{className:"text-xl md:text-2xl lg:text-3xl font-bold","data-testid":"foreign-series-title",children:"المسلسلات الأجنبية"}),o.jsx(lt,{href:"/foreign-series",children:o.jsxs(X,{variant:"ghost",className:"text-primary hover:text-primary/80 flex items-center gap-1 md:gap-2 text-sm md:text-base","data-testid":"foreign-series-view-all",children:[o.jsx("span",{className:"hidden sm:inline",children:"عرض الكل"}),o.jsx("span",{className:"sm:hidden",children:"الكل"}),o.jsx(mn,{className:"w-3 h-3 md:w-4 md:h-4"})]})})]}),o.jsx("div",{className:"flex gap-3 md:gap-4 overflow-x-auto scrollbar-hide pb-4 -mx-4 px-4 md:mx-0 md:px-0",children:y.slice(0,12).map(p=>o.jsx("div",{className:"flex-none w-32 sm:w-40 md:w-48 lg:w-52",children:o.jsx(Ve,{media:p})},p.id))})]}),x.length>0&&o.jsxs("section",{className:"fade-in",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[o.jsx("h3",{className:"text-xl md:text-2xl lg:text-3xl font-bold","data-testid":"asian-series-title",children:"المسلسلات الآسيوية"}),o.jsx(lt,{href:"/asian-series",children:o.jsxs(X,{variant:"ghost",className:"text-primary hover:text-primary/80 flex items-center gap-1 md:gap-2 text-sm md:text-base","data-testid":"asian-series-view-all",children:[o.jsx("span",{className:"hidden sm:inline",children:"عرض الكل"}),o.jsx("span",{className:"sm:hidden",children:"الكل"}),o.jsx(mn,{className:"w-3 h-3 md:w-4 md:h-4"})]})})]}),o.jsx("div",{className:"flex gap-3 md:gap-4 overflow-x-auto scrollbar-hide pb-4 -mx-4 px-4 md:mx-0 md:px-0",children:x.slice(0,12).map(p=>o.jsx("div",{className:"flex-none w-32 sm:w-40 md:w-48 lg:w-52",children:o.jsx(Ve,{media:p})},p.id))})]}),f.length>0&&o.jsxs("section",{className:"fade-in",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[o.jsx("h3",{className:"text-xl md:text-2xl lg:text-3xl font-bold","data-testid":"series-title",children:"مسلسلات"}),o.jsx(lt,{href:"/series",children:o.jsxs(X,{variant:"ghost",className:"text-primary hover:text-primary/80 flex items-center gap-1 md:gap-2 text-sm md:text-base","data-testid":"series-view-all",children:[o.jsx("span",{className:"hidden sm:inline",children:"عرض الكل"}),o.jsx("span",{className:"sm:hidden",children:"الكل"}),o.jsx(mn,{className:"w-3 h-3 md:w-4 md:h-4"})]})})]}),o.jsx("div",{className:"flex gap-3 md:gap-4 overflow-x-auto scrollbar-hide pb-4 -mx-4 px-4 md:mx-0 md:px-0",children:f.slice(0,12).map(p=>o.jsx("div",{className:"flex-none w-32 sm:w-40 md:w-48 lg:w-52",children:o.jsx(Ve,{media:p})},p.id))})]})]}),s&&o.jsx(Ge,{})]})]})}const lv=24;function wP(){const[e,t]=m.useState(!1),[r,n]=m.useState(""),[s,i]=m.useState(lv),a=vt(),{data:l=[],isLoading:c}=zt({type:ge.MOVIE}),u=m.useMemo(()=>r?l.filter(g=>g.title.toLowerCase().includes(r.toLowerCase())):l,[l,r]),d=m.useMemo(()=>u.slice(0,s),[u,s]),f=d.length<u.length,h=()=>{i(g=>g+lv)};return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:e,onClose:()=>t(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${e?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>t(!0),searchQuery:r,onSearchChange:n}),o.jsxs("main",{className:"p-4",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2","data-testid":"movies-title",children:"الأفلام"}),o.jsx("p",{className:"text-muted-foreground",children:"اكتشف مجموعة متنوعة من الأفلام العربية والعالمية"})]}),r&&o.jsx("div",{className:"mb-6",children:o.jsxs("p",{className:"text-muted-foreground","data-testid":"search-results-count",children:['نتائج البحث عن "',r,'"']})}),c?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6",children:Array.from({length:12}).map((g,y)=>o.jsxs("div",{className:"space-y-3",children:[o.jsx(J,{className:"w-full aspect-[2/3] rounded-lg"}),o.jsx(J,{className:"h-4 w-3/4"}),o.jsx(J,{className:"h-3 w-1/2"})]},y))}):u.length===0?o.jsx("div",{className:"text-center py-12","data-testid":"no-movies-message",children:o.jsx("p",{className:"text-muted-foreground text-lg",children:r?"لم يتم العثور على أفلام تطابق بحثك":"لا توجد أفلام متاحة"})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6 fade-in",children:d.map(g=>o.jsx(Ve,{media:g},g.id))}),f&&o.jsx("div",{className:"flex justify-center mt-8 mb-4",children:o.jsx(X,{onClick:h,variant:"outline",size:"lg",className:"px-8","data-testid":"button-load-more",children:"تحميل المزيد"})})]})]}),a&&o.jsx(Ge,{})]})]})}const cv=24;function bP(){const[e,t]=m.useState(!1),[r,n]=m.useState(""),[s,i]=m.useState(cv),a=vt(),{data:l=[],isLoading:c}=zt({type:ge.SERIES}),u=m.useMemo(()=>r?l.filter(g=>g.title.toLowerCase().includes(r.toLowerCase())):l,[l,r]),d=m.useMemo(()=>u.slice(0,s),[u,s]),f=d.length<u.length,h=()=>{i(g=>g+cv)};return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:e,onClose:()=>t(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${e?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>t(!0),searchQuery:r,onSearchChange:n}),o.jsxs("main",{className:"p-4",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2","data-testid":"series-title",children:"المسلسلات"}),o.jsx("p",{className:"text-muted-foreground",children:"استمتع بأحدث المسلسلات العربية والعالمية"})]}),r&&o.jsx("div",{className:"mb-6",children:o.jsxs("p",{className:"text-muted-foreground","data-testid":"search-results-count",children:['نتائج البحث عن "',r,'"']})}),c?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6",children:Array.from({length:12}).map((g,y)=>o.jsxs("div",{className:"space-y-3",children:[o.jsx(J,{className:"w-full aspect-[2/3] rounded-lg"}),o.jsx(J,{className:"h-4 w-3/4"}),o.jsx(J,{className:"h-3 w-1/2"})]},y))}):u.length===0?o.jsx("div",{className:"text-center py-12","data-testid":"no-series-message",children:o.jsx("p",{className:"text-muted-foreground text-lg",children:r?"لم يتم العثور على مسلسلات تطابق بحثك":"لا توجد مسلسلات متاحة"})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6 fade-in",children:d.map(g=>o.jsx(Ve,{media:g},g.id))}),f&&o.jsx("div",{className:"flex justify-center mt-8 mb-4",children:o.jsx(X,{onClick:h,variant:"outline",size:"lg",className:"px-8","data-testid":"button-load-more",children:"تحميل المزيد"})})]})]}),a&&o.jsx(Ge,{})]})]})}function NP(){const[e,t]=m.useState(!1),[r,n]=m.useState(""),s=vt(),{data:i=[],isLoading:a}=zt({type:ge.ANIME}),l=m.useMemo(()=>r?i.filter(c=>c.title.toLowerCase().includes(r.toLowerCase())):i,[i,r]);return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:e,onClose:()=>t(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${e?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>t(!0),searchQuery:r,onSearchChange:n}),o.jsxs("main",{className:"p-4",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2","data-testid":"anime-title",children:"الأنمي"}),o.jsx("p",{className:"text-muted-foreground",children:"عالم الأنمي الياباني بأروع القصص والمغامرات"})]}),r&&o.jsx("div",{className:"mb-6",children:o.jsxs("p",{className:"text-muted-foreground","data-testid":"search-results-count",children:['نتائج البحث عن "',r,'": ',l.length," أنمي"]})}),a?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6",children:Array.from({length:12}).map((c,u)=>o.jsxs("div",{className:"space-y-3",children:[o.jsx(J,{className:"w-full aspect-[2/3] rounded-lg"}),o.jsx(J,{className:"h-4 w-3/4"}),o.jsx(J,{className:"h-3 w-1/2"})]},u))}):l.length===0?o.jsx("div",{className:"text-center py-12","data-testid":"no-anime-message",children:o.jsx("p",{className:"text-muted-foreground text-lg",children:r?"لم يتم العثور على أنمي يطابق بحثك":"لا يوجد أنمي متاح"})}):o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6 fade-in",children:l.map(c=>o.jsx(Ve,{media:c},c.id))})]}),s&&o.jsx(Ge,{})]})]})}const uv=24;function SP(){const[e,t]=m.useState(!1),[r,n]=m.useState(""),[s,i]=m.useState(uv),a=vt(),{data:l=[],isLoading:c}=zt({type:ge.ANIME_MOVIE}),u=m.useMemo(()=>r?l.filter(g=>g.title.toLowerCase().includes(r.toLowerCase())):l,[l,r]),d=m.useMemo(()=>u.slice(0,s),[u,s]),f=d.length<u.length,h=()=>{i(g=>g+uv)};return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:e,onClose:()=>t(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${e?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>t(!0),searchQuery:r,onSearchChange:n}),o.jsxs("main",{className:"p-4",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2","data-testid":"anime-movies-title",children:"أفلام الأنمي"}),o.jsx("p",{className:"text-muted-foreground",children:"أفضل أفلام الأنمي اليابانية والآسيوية"})]}),r&&o.jsx("div",{className:"mb-6",children:o.jsxs("p",{className:"text-muted-foreground","data-testid":"search-results-count",children:['نتائج البحث عن "',r,'"']})}),c?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6",children:Array.from({length:12}).map((g,y)=>o.jsxs("div",{className:"space-y-3",children:[o.jsx(J,{className:"w-full aspect-[2/3] rounded-lg"}),o.jsx(J,{className:"h-4 w-3/4"}),o.jsx(J,{className:"h-3 w-1/2"})]},y))}):u.length===0?o.jsx("div",{className:"text-center py-12","data-testid":"no-anime-movies-message",children:o.jsx("p",{className:"text-muted-foreground text-lg",children:r?"لم يتم العثور على أفلام أنمي تطابق بحثك":"لا توجد أفلام أنمي متاحة"})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6 fade-in",children:d.map(g=>o.jsx(Ve,{media:g},g.id))}),f&&o.jsx("div",{className:"flex justify-center mt-8 mb-4",children:o.jsx(X,{onClick:h,variant:"outline",size:"lg",className:"px-8","data-testid":"button-load-more",children:"تحميل المزيد"})})]})]}),a&&o.jsx(Ge,{})]})]})}const dv=24;function _P(){const[e,t]=m.useState(!1),[r,n]=m.useState(""),[s,i]=m.useState(dv),a=vt(),{data:l=[],isLoading:c}=zt({type:ge.FOREIGN_SERIES}),u=m.useMemo(()=>r?l.filter(g=>g.title.toLowerCase().includes(r.toLowerCase())):l,[l,r]),d=m.useMemo(()=>u.slice(0,s),[u,s]),f=d.length<u.length,h=()=>{i(g=>g+dv)};return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:e,onClose:()=>t(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${e?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>t(!0),searchQuery:r,onSearchChange:n}),o.jsxs("main",{className:"p-4",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2","data-testid":"foreign-series-title",children:"المسلسلات الأجنبية"}),o.jsx("p",{className:"text-muted-foreground",children:"أفضل المسلسلات الأجنبية من جميع أنحاء العالم"})]}),r&&o.jsx("div",{className:"mb-6",children:o.jsxs("p",{className:"text-muted-foreground","data-testid":"search-results-count",children:['نتائج البحث عن "',r,'"']})}),c?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6",children:Array.from({length:12}).map((g,y)=>o.jsxs("div",{className:"space-y-3",children:[o.jsx(J,{className:"w-full aspect-[2/3] rounded-lg"}),o.jsx(J,{className:"h-4 w-3/4"}),o.jsx(J,{className:"h-3 w-1/2"})]},y))}):u.length===0?o.jsx("div",{className:"text-center py-12","data-testid":"no-foreign-series-message",children:o.jsx("p",{className:"text-muted-foreground text-lg",children:r?"لم يتم العثور على مسلسلات أجنبية تطابق بحثك":"لا توجد مسلسلات أجنبية متاحة"})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6 fade-in",children:d.map(g=>o.jsx(Ve,{media:g},g.id))}),f&&o.jsx("div",{className:"flex justify-center mt-8 mb-4",children:o.jsx(X,{onClick:h,variant:"outline",size:"lg",className:"px-8","data-testid":"button-load-more",children:"تحميل المزيد"})})]})]}),a&&o.jsx(Ge,{})]})]})}const fv=24;function jP(){const[e,t]=m.useState(!1),[r,n]=m.useState(""),[s,i]=m.useState(fv),a=vt(),{data:l=[],isLoading:c}=zt({type:ge.ASIAN_SERIES}),u=m.useMemo(()=>r?l.filter(g=>g.title.toLowerCase().includes(r.toLowerCase())):l,[l,r]),d=m.useMemo(()=>u.slice(0,s),[u,s]),f=d.length<u.length,h=()=>{i(g=>g+fv)};return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:e,onClose:()=>t(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${e?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>t(!0),searchQuery:r,onSearchChange:n}),o.jsxs("main",{className:"p-4",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2","data-testid":"asian-series-title",children:"المسلسلات الآسيوية"}),o.jsx("p",{className:"text-muted-foreground",children:"أفضل المسلسلات الآسيوية من اليابان وتايلاند وآسيا"})]}),r&&o.jsx("div",{className:"mb-6",children:o.jsxs("p",{className:"text-muted-foreground","data-testid":"search-results-count",children:['نتائج البحث عن "',r,'"']})}),c?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6",children:Array.from({length:12}).map((g,y)=>o.jsxs("div",{className:"space-y-3",children:[o.jsx(J,{className:"w-full aspect-[2/3] rounded-lg"}),o.jsx(J,{className:"h-4 w-3/4"}),o.jsx(J,{className:"h-3 w-1/2"})]},y))}):u.length===0?o.jsx("div",{className:"text-center py-12","data-testid":"no-asian-series-message",children:o.jsx("p",{className:"text-muted-foreground text-lg",children:r?"لم يتم العثور على مسلسلات آسيوية تطابق بحثك":"لا توجد مسلسلات آسيوية متاحة"})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6 fade-in",children:d.map(g=>o.jsx(Ve,{media:g},g.id))}),f&&o.jsx("div",{className:"flex justify-center mt-8 mb-4",children:o.jsx(X,{onClick:h,variant:"outline",size:"lg",className:"px-8","data-testid":"button-load-more",children:"تحميل المزيد"})})]})]}),a&&o.jsx(Ge,{})]})]})}const fi={[ge.MOVIE]:{label:"الأفلام",image:"https://www2.0zz0.com/2025/09/30/02/477768248.png"},[ge.SERIES]:{label:"المسلسلات",image:"https://www2.0zz0.com/2025/09/30/02/472841514.png"},[ge.ANIME]:{label:"الأنمي",image:"https://www2.0zz0.com/2025/09/30/02/794674501.png"},[ge.ANIME_MOVIE]:{label:"أفلام أنمي",image:"https://www2.0zz0.com/2025/09/30/02/785804526.png"},[ge.FOREIGN_SERIES]:{label:"مسلسلات أجنبية",image:"https://www2.0zz0.com/2025/09/30/02/905171751.png"},[ge.ASIAN_SERIES]:{label:"مسلسلات آسيوية",image:"https://www2.0zz0.com/2025/09/30/02/149806841.png"}};function kP(){var x,S,v,p,w;const[e,t]=m.useState(!1),[r,n]=m.useState(),[s,i]=m.useState(),[a,l]=m.useState(""),c=vt(),{data:u=[]}=zt(),{data:d=[],isLoading:f}=zt({type:r,category:s}),h=a?d.filter(N=>N.title.toLowerCase().includes(a.toLowerCase())):d,g=r?pP(r):[],y=N=>!r||!u.length?0:u.filter(_=>_.type===r&&_.category===N).length;return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:e,onClose:()=>t(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${e?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>t(!0),searchQuery:a,onSearchChange:l}),o.jsxs("main",{className:"p-4 md:p-6 lg:p-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(rh,{className:"w-8 h-8 text-primary"}),o.jsx("h1",{className:"text-3xl font-bold gradient-text","data-testid":"categories-title",children:"التصنيفات"})]}),o.jsx("p",{className:"text-muted-foreground",children:"استكشف المحتوى حسب النوع والتصنيف"})]}),!r&&o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"اختر نوع المحتوى"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-6",children:Object.entries(fi).map(([N,_])=>o.jsx(Re,{className:"cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105 border-border bg-card",onClick:()=>n(N),"data-testid":`media-type-card-${N}`,children:o.jsxs(Ke,{className:"p-6 text-center",children:[o.jsx("div",{className:"w-32 h-32 md:w-48 md:h-48 lg:w-56 lg:h-56 mx-auto mb-3",children:o.jsx("img",{src:_.image,alt:_.label,className:"w-full h-full object-contain border-2 border-blue-500 rounded-lg"})}),o.jsx("h3",{className:"font-semibold text-foreground",children:_.label})]})},N))})]}),r&&!s&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"text-xl font-semibold",children:["اختر الفئة - ",(x=fi[r])==null?void 0:x.label]}),o.jsxs(X,{variant:"outline",onClick:()=>n(void 0),className:"flex items-center gap-2","data-testid":"button-back-to-types",children:[o.jsx(jn,{className:"w-4 h-4"}),"عودة لاختيار النوع"]})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:g.map(N=>o.jsx(Re,{className:"cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105 border-border bg-card",onClick:()=>i(N.label),"data-testid":`category-card-${N.key}`,children:o.jsxs(Ke,{className:"p-4 text-center",children:[o.jsx("div",{className:"mb-2",children:o.jsx("h3",{className:"font-semibold text-foreground",children:N.label})}),o.jsxs(Tt,{variant:"secondary",className:"text-xs",children:[y(N.label)," عنصر"]})]})},N.key))})]}),r&&s&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("h2",{className:"text-2xl font-bold","data-testid":"selected-category-title",children:[(S=fi[r])==null?void 0:S.label," - ",s]}),o.jsxs(Tt,{variant:"outline","data-testid":"category-count",children:[h.length," عنصر"]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(X,{variant:"outline",onClick:()=>i(void 0),className:"flex items-center gap-2","data-testid":"button-back-to-categories",children:[o.jsx(jn,{className:"w-4 h-4"}),"عودة للفئات"]}),o.jsxs(X,{variant:"ghost",onClick:()=>{i(void 0),n(void 0)},className:"flex items-center gap-2","data-testid":"button-back-to-start",children:[o.jsx(jn,{className:"w-4 h-4"}),"البداية"]})]})]}),a&&o.jsx("div",{className:"mb-6",children:o.jsxs("p",{className:"text-muted-foreground","data-testid":"search-results-count",children:['نتائج البحث عن "',a,'" في ',(v=fi[r])==null?void 0:v.label," - ",s,": ",h.length," عنصر"]})}),f?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6",children:Array.from({length:12}).map((N,_)=>o.jsxs("div",{className:"space-y-3",children:[o.jsx(J,{className:"w-full aspect-[2/3] rounded-lg"}),o.jsx(J,{className:"h-4 w-3/4"}),o.jsx(J,{className:"h-3 w-1/2"})]},_))}):h.length>0?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6",children:h.map(N=>o.jsx(Ve,{media:N},N.id))}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(rh,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2","data-testid":"no-content-title",children:"لا يوجد محتوى"}),o.jsx("p",{className:"text-muted-foreground","data-testid":"no-content-message",children:a?`لم نجد نتائج للبحث عن "${a}" في ${(p=fi[r])==null?void 0:p.label} - ${s}`:`لا يوجد محتوى متاح في ${(w=fi[r])==null?void 0:w.label} - ${s} حالياً`})]})]})]})]}),c&&o.jsx(Ge,{})]})}const As={[ge.MOVIE]:{label:"الأفلام",image:"https://www2.0zz0.com/2025/09/30/02/477768248.png"},[ge.SERIES]:{label:"المسلسلات",image:"https://www2.0zz0.com/2025/09/30/02/472841514.png"},[ge.ANIME]:{label:"الأنمي",image:"https://www2.0zz0.com/2025/09/30/02/794674501.png"},[ge.ANIME_MOVIE]:{label:"أفلام أنمي",image:"https://www2.0zz0.com/2025/09/30/02/785804526.png"},[ge.FOREIGN_SERIES]:{label:"مسلسلات أجنبية",image:"https://www2.0zz0.com/2025/09/30/02/905171751.png"},[ge.ASIAN_SERIES]:{label:"مسلسلات آسيوية",image:"https://www2.0zz0.com/2025/09/30/02/149806841.png"}};function EP(){var x,S,v,p,w,N;const[e,t]=m.useState(!1),[r,n]=m.useState(),[s,i]=m.useState(),[a,l]=m.useState(""),c=vt(),{data:u=[],isLoading:d}=zt({type:r,year:s}),f=a?u.filter(_=>_.title.toLowerCase().includes(a.toLowerCase())):u,{data:h=[],isLoading:g}=Ut({queryKey:["/api/media/years",r],queryFn:async()=>{const _=new URLSearchParams;r&&_.append("type",r);const E=await fetch(`/api/media/years?${_.toString()}`);if(!E.ok)throw new Error("Failed to fetch years");return E.json()},enabled:!!r}),y=h.reduce((_,E)=>{const C=parseInt(E.year),R=Math.floor(C/10)*10;return _[R]||(_[R]=[]),_[R].push(E),_},{});return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:e,onClose:()=>t(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${e?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>t(!0),searchQuery:a,onSearchChange:l}),o.jsxs("main",{className:"p-4 md:p-6 lg:p-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(vs,{className:"w-8 h-8 text-primary"}),o.jsx("h1",{className:"text-3xl font-bold gradient-text","data-testid":"years-title",children:"السنوات"})]}),o.jsx("p",{className:"text-muted-foreground",children:"استكشف المحتوى حسب سنة الإنتاج"})]}),!r&&o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"اختر نوع المحتوى"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-6",children:Object.entries(As).map(([_,E])=>o.jsx(Re,{className:"cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105 border-border bg-card",onClick:()=>n(_),"data-testid":`media-type-card-${_}`,children:o.jsxs(Ke,{className:"p-6 text-center",children:[o.jsx("div",{className:"w-32 h-32 md:w-48 md:h-48 lg:w-56 lg:h-56 mx-auto mb-3",children:o.jsx("img",{src:E.image,alt:E.label,className:"w-full h-full object-contain border-2 border-blue-500 rounded-lg"})}),o.jsx("h3",{className:"font-semibold text-foreground",children:E.label})]})},_))})]}),r&&!s&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"text-xl font-semibold",children:["اختر السنة - ",(x=As[r])==null?void 0:x.label]}),o.jsxs(X,{variant:"outline",onClick:()=>n(void 0),className:"flex items-center gap-2","data-testid":"button-back-to-types",children:[o.jsx(jn,{className:"w-4 h-4"}),"عودة لاختيار النوع"]})]}),g?o.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-8 gap-3",children:Array.from({length:12}).map((_,E)=>o.jsx(Re,{className:"border-border bg-card",children:o.jsxs(Ke,{className:"p-3 text-center",children:[o.jsx(J,{className:"h-8 w-full mb-2"}),o.jsx(J,{className:"h-4 w-3/4 mx-auto"})]})},E))}):h.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(vs,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد سنوات متاحة"}),o.jsxs("p",{className:"text-muted-foreground",children:["لا يوجد محتوى متاح في ",(S=As[r])==null?void 0:S.label," حالياً"]})]}):o.jsx(o.Fragment,{children:Object.entries(y).sort(([_],[E])=>parseInt(E)-parseInt(_)).map(([_,E])=>o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-lg font-medium text-muted-foreground mb-3",children:[_,"s"]}),o.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-8 gap-3",children:E.sort((C,R)=>parseInt(R.year)-parseInt(C.year)).map(C=>o.jsx(Re,{className:"cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105 border-border bg-card",onClick:()=>i(parseInt(C.year)),"data-testid":`year-card-${C.year}`,children:o.jsxs(Ke,{className:"p-3 text-center",children:[o.jsx("div",{className:"mb-1",children:o.jsx("h3",{className:"font-semibold text-foreground text-lg",children:C.year})}),o.jsxs(Tt,{variant:"secondary",className:"text-xs",children:[C.count," عنصر"]})]})},C.year))})]},_))})]}),r&&s&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("h2",{className:"text-2xl font-bold","data-testid":"selected-year-title",children:[(v=As[r])==null?void 0:v.label," - ",s]}),o.jsxs(Tt,{variant:"outline","data-testid":"year-count",children:[f.length," عنصر"]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(X,{variant:"outline",onClick:()=>i(void 0),className:"flex items-center gap-2","data-testid":"button-back-to-years",children:[o.jsx(jn,{className:"w-4 h-4"}),"عودة للسنوات"]}),o.jsxs(X,{variant:"ghost",onClick:()=>{i(void 0),n(void 0)},className:"flex items-center gap-2","data-testid":"button-back-to-start",children:[o.jsx(jn,{className:"w-4 h-4"}),"البداية"]})]})]}),a&&o.jsx("div",{className:"mb-6",children:o.jsxs("p",{className:"text-muted-foreground","data-testid":"search-results-count",children:['نتائج البحث عن "',a,'" في ',(p=As[r])==null?void 0:p.label," - ",s,": ",f.length," عنصر"]})}),d?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6",children:Array.from({length:12}).map((_,E)=>o.jsxs("div",{className:"space-y-3",children:[o.jsx(J,{className:"w-full aspect-[2/3] rounded-lg"}),o.jsx(J,{className:"h-4 w-3/4"}),o.jsx(J,{className:"h-3 w-1/2"})]},E))}):f.length>0?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6",children:f.map(_=>o.jsx(Ve,{media:_},_.id))}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(vs,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2","data-testid":"no-content-title",children:"لا يوجد محتوى"}),o.jsx("p",{className:"text-muted-foreground","data-testid":"no-content-message",children:a?`لم نجد نتائج للبحث عن "${a}" في ${(w=As[r])==null?void 0:w.label} - ${s}`:`لا يوجد محتوى متاح في ${(N=As[r])==null?void 0:N.label} - ${s} حالياً`})]})]})]})]}),c&&o.jsx(Ge,{})]})}function CP(){const[e,t]=m.useState(!1),[r,n]=m.useState(""),s=vt(),{data:i=[],isLoading:a}=_b(),l=r?i.filter(c=>c.media.title.toLowerCase().includes(r.toLowerCase())):i;return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:e,onClose:()=>t(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${e?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>t(!0),searchQuery:r,onSearchChange:n}),o.jsxs("main",{className:"p-4",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(mo,{className:"w-8 h-8 text-primary fill-current"}),o.jsx("h1",{className:"text-3xl font-bold gradient-text","data-testid":"favorites-title",children:"المفضلة"})]}),o.jsx("p",{className:"text-muted-foreground",children:"الأفلام والمسلسلات التي أضفتها إلى قائمة المفضلة"})]}),r&&o.jsx("div",{className:"mb-6",children:o.jsxs("p",{className:"text-muted-foreground","data-testid":"search-results-count",children:['نتائج البحث عن "',r,'"']})}),a?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6",children:Array.from({length:8}).map((c,u)=>o.jsxs("div",{className:"space-y-3",children:[o.jsx(J,{className:"w-full aspect-[2/3] rounded-lg"}),o.jsx(J,{className:"h-4 w-3/4"}),o.jsx(J,{className:"h-3 w-1/2"})]},u))}):l.length===0?o.jsxs("div",{className:"text-center py-12","data-testid":"no-favorites-message",children:[o.jsx(mo,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),o.jsx("p",{className:"text-muted-foreground text-lg mb-2",children:r?"لم يتم العثور على مفضلة تطابق بحثك":"لا توجد عناصر في المفضلة"}),!r&&o.jsx("p",{className:"text-muted-foreground text-sm",children:"ابدأ بإضافة الأفلام والمسلسلات التي تحبها إلى المفضلة"})]}):o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6 fade-in",children:l.map(c=>o.jsx(Ve,{media:c.media,isFavorite:!0},c.id))})]}),s&&o.jsx(Ge,{})]})]})}function TP(){const[e,t]=m.useState(!1),[r,n]=m.useState(""),[,s]=ln(),i=vt(),{data:a=[],isLoading:l}=_R(),c=r?a.filter(d=>d.media.title.toLowerCase().includes(r.toLowerCase())):a,u=d=>{const f=d.media.id;s(`/movie/${f}`)};return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:e,onClose:()=>t(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${e?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>t(!0),searchQuery:r,onSearchChange:n}),o.jsxs("main",{className:"p-4",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(la,{className:"w-8 h-8 text-primary"}),o.jsx("h1",{className:"text-3xl font-bold gradient-text","data-testid":"watch-history-title",children:"سجل المشاهدة"})]}),o.jsx("p",{className:"text-muted-foreground",children:"آخر الأفلام والمسلسلات التي زرتها"})]}),!l&&a.length>0&&o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[o.jsx("div",{className:"bg-card rounded-lg p-4 border border-border",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(la,{className:"w-6 h-6 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold","data-testid":"total-visited",children:a.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"عدد العناصر"})]})]})}),o.jsx("div",{className:"bg-card rounded-lg p-4 border border-border",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(vs,{className:"w-6 h-6 text-blue-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold","data-testid":"recent-count",children:a.filter(d=>new Date().getTime()-new Date(d.watchedAt).getTime()<7*24*60*60*1e3).length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"هذا الأسبوع"})]})]})})]}),r&&o.jsx("div",{className:"mb-6",children:o.jsxs("p",{className:"text-muted-foreground","data-testid":"search-results-count",children:['نتائج البحث عن "',r,'": ',c.length," عنصر"]})}),l?o.jsx("div",{className:"space-y-4",children:Array.from({length:6}).map((d,f)=>o.jsxs("div",{className:"flex gap-4 p-4 bg-card rounded-lg border border-border",children:[o.jsx(J,{className:"w-20 h-28 rounded"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(J,{className:"h-6 w-3/4"}),o.jsx(J,{className:"h-4 w-1/2"}),o.jsx(J,{className:"h-3 w-1/4"}),o.jsx(J,{className:"h-2 w-full"})]})]},f))}):c.length===0?o.jsxs("div",{className:"text-center py-12","data-testid":"no-history-message",children:[o.jsx(la,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),o.jsx("p",{className:"text-muted-foreground text-lg mb-2",children:r?"لم يتم العثور على سجل مشاهدة يطابق بحثك":"لا يوجد سجل مشاهدة"}),!r&&o.jsx("p",{className:"text-muted-foreground text-sm",children:"ابدأ بمشاهدة الأفلام والمسلسلات لبناء سجل المشاهدة الخاص بك"})]}):o.jsx("div",{className:"space-y-4 fade-in",children:c.map(d=>o.jsxs("div",{className:"flex gap-4 p-4 bg-card rounded-lg border border-border hover:bg-muted/20 transition-colors","data-testid":`history-item-${d.id}`,children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:d.media.poster,alt:d.media.title,className:"w-20 h-28 object-cover rounded border-2 border-primary/20","data-testid":"history-poster"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-bold text-lg mb-2","data-testid":"history-title",children:d.media.title}),o.jsx("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:o.jsxs("span",{"data-testid":"media-info",children:[d.media.year," • ",d.media.genre," • ",d.media.type==="movie"?"فيلم":"مسلسل"]})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-muted-foreground","data-testid":"watch-date",children:["آخر زيارة: ",Bb(new Date(d.watchedAt),{addSuffix:!0,locale:Wb})]}),o.jsxs(X,{size:"sm",className:"bg-primary text-primary-foreground hover:bg-primary/90",onClick:()=>u(d),"data-testid":"continue-watching-button",children:[o.jsx(_r,{className:"w-4 h-4 mr-1"}),"مشاهدة"]})]})]})]},d.id))})]}),i&&o.jsx(Ge,{})]})]})}var RP="Label",Hb=m.forwardRef((e,t)=>o.jsx(Ne.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Hb.displayName=RP;var Qb=Hb;const AP=Pu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),lc=m.forwardRef(({className:e,...t},r)=>o.jsx(Qb,{ref:r,className:Ee(AP(),e),...t}));lc.displayName=Qb.displayName;var Um="Avatar",[PP,p4]=Ln(Um),[IP,Kb]=PP(Um),Zb=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=m.useState("idle");return o.jsx(IP,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(Ne.span,{...n,ref:t})})});Zb.displayName=Um;var qb="AvatarImage",Gb=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,a=Kb(qb,r),l=OP(n,i),c=ut(u=>{s(u),a.onImageLoadingStatusChange(u)});return vr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(Ne.img,{...i,ref:t,src:n}):null});Gb.displayName=qb;var Yb="AvatarFallback",Xb=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=Kb(Yb,r),[a,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(Ne.span,{...s,ref:t}):null});Xb.displayName=Yb;function hv(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function OP(e,{referrerPolicy:t,crossOrigin:r}){const n=LP(),s=m.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[a,l]=m.useState(()=>hv(i,e));return vr(()=>{l(hv(i,e))},[i,e]),vr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),a}function MP(){return()=>{}}function LP(){return m.useSyncExternalStore(MP,()=>!0,()=>!1)}var Jb=Zb,e1=Gb,t1=Xb;const r1=m.forwardRef(({className:e,...t},r)=>o.jsx(Jb,{ref:r,className:Ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));r1.displayName=Jb.displayName;const n1=m.forwardRef(({className:e,...t},r)=>o.jsx(e1,{ref:r,className:Ee("aspect-square h-full w-full",e),...t}));n1.displayName=e1.displayName;const s1=m.forwardRef(({className:e,...t},r)=>o.jsx(t1,{ref:r,className:Ee("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));s1.displayName=t1.displayName;var hl=e=>e.type==="checkbox",zs=e=>e instanceof Date,Ft=e=>e==null;const i1=e=>typeof e=="object";var Je=e=>!Ft(e)&&!Array.isArray(e)&&i1(e)&&!zs(e),DP=e=>Je(e)&&e.target?hl(e.target)?e.target.checked:e.target.value:e,FP=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,zP=(e,t)=>e.has(FP(t)),$P=e=>{const t=e.constructor&&e.constructor.prototype;return Je(t)&&t.hasOwnProperty("isPrototypeOf")},Vm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function kt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Vm&&(e instanceof Blob||n))&&(r||Je(e)))if(t=r?[]:{},!r&&!$P(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=kt(e[s]));else return e;return t}var $u=e=>Array.isArray(e)?e.filter(Boolean):[],rt=e=>e===void 0,te=(e,t,r)=>{if(!t||!Je(e))return r;const n=$u(t.split(/[,[\].]+?/)).reduce((s,i)=>Ft(s)?s:s[i],e);return rt(n)||n===e?rt(e[t])?r:e[t]:n},Br=e=>typeof e=="boolean",Bm=e=>/^\w*$/.test(e),o1=e=>$u(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ke=(e,t,r)=>{let n=-1;const s=Bm(t)?[t]:o1(t),i=s.length,a=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==a){const u=e[l];c=Je(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const mv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Tr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ot.createContext(null);var UP=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==Tr.all&&(t._proxyFormState[a]=!n||Tr.all),e[a]}});return s},Xr=e=>typeof e=="string",VP=(e,t,r,n,s)=>Xr(e)?(n&&t.watch.add(e),te(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),te(r,i))):(n&&(t.watchAll=!0),r),a1=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},ha=e=>Array.isArray(e)?e:[e],pv=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},ch=e=>Ft(e)||!i1(e);function Gn(e,t){if(ch(e)||ch(t))return e===t;if(zs(e)&&zs(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const i=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const a=t[s];if(zs(i)&&zs(a)||Je(i)&&Je(a)||Array.isArray(i)&&Array.isArray(a)?!Gn(i,a):i!==a)return!1}}return!0}var Lt=e=>Je(e)&&!Object.keys(e).length,Wm=e=>e.type==="file",Rr=e=>typeof e=="function",Yc=e=>{if(!Vm)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},l1=e=>e.type==="select-multiple",Hm=e=>e.type==="radio",BP=e=>Hm(e)||hl(e),Md=e=>Yc(e)&&e.isConnected;function WP(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=rt(e)?n++:e[t[n++]];return e}function HP(e){for(const t in e)if(e.hasOwnProperty(t)&&!rt(e[t]))return!1;return!0}function it(e,t){const r=Array.isArray(t)?t:Bm(t)?[t]:o1(t),n=r.length===1?e:WP(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Je(n)&&Lt(n)||Array.isArray(n)&&HP(n))&&it(e,r.slice(0,-1)),e}var c1=e=>{for(const t in e)if(Rr(e[t]))return!0;return!1};function Xc(e,t={}){const r=Array.isArray(e);if(Je(e)||r)for(const n in e)Array.isArray(e[n])||Je(e[n])&&!c1(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Xc(e[n],t[n])):Ft(e[n])||(t[n]=!0);return t}function u1(e,t,r){const n=Array.isArray(e);if(Je(e)||n)for(const s in e)Array.isArray(e[s])||Je(e[s])&&!c1(e[s])?rt(t)||ch(r[s])?r[s]=Array.isArray(e[s])?Xc(e[s],[]):{...Xc(e[s])}:u1(e[s],Ft(t)?{}:t[s],r[s]):r[s]=!Gn(e[s],t[s]);return r}var Uo=(e,t)=>u1(e,t,Xc(t));const gv={value:!1,isValid:!1},vv={value:!0,isValid:!0};var d1=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!rt(e[0].attributes.value)?rt(e[0].value)||e[0].value===""?vv:{value:e[0].value,isValid:!0}:vv:gv}return gv},f1=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>rt(e)?e:t?e===""?NaN:e&&+e:r&&Xr(e)?new Date(e):n?n(e):e;const yv={isValid:!1,value:null};var h1=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,yv):yv;function xv(e){const t=e.ref;return Wm(t)?t.files:Hm(t)?h1(e.refs).value:l1(t)?[...t.selectedOptions].map(({value:r})=>r):hl(t)?d1(e.refs).value:f1(rt(t.value)?e.ref.value:t.value,e)}var QP=(e,t,r,n)=>{const s={};for(const i of e){const a=te(t,i);a&&ke(s,i,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Jc=e=>e instanceof RegExp,Vo=e=>rt(e)?e:Jc(e)?e.source:Je(e)?Jc(e.value)?e.value.source:e.value:e,wv=e=>({isOnSubmit:!e||e===Tr.onSubmit,isOnBlur:e===Tr.onBlur,isOnChange:e===Tr.onChange,isOnAll:e===Tr.all,isOnTouch:e===Tr.onTouched});const bv="AsyncFunction";var KP=e=>!!e&&!!e.validate&&!!(Rr(e.validate)&&e.validate.constructor.name===bv||Je(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===bv)),ZP=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Nv=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ma=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=te(e,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(ma(l,t))break}else if(Je(l)&&ma(l,t))break}}};function Sv(e,t,r){const n=te(e,r);if(n||Bm(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=te(t,i),l=te(e,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:r}}var qP=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Lt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!n||Tr.all))},GP=(e,t,r)=>!e||!t||e===t||ha(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),YP=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,XP=(e,t)=>!$u(te(e,t)).length&&it(e,t),JP=(e,t,r)=>{const n=ha(te(e,r));return ke(n,"root",t[r]),ke(e,r,n),e},cc=e=>Xr(e);function _v(e,t,r="validate"){if(cc(e)||Array.isArray(e)&&e.every(cc)||Br(e)&&!e)return{type:r,message:cc(e)?e:"",ref:t}}var hi=e=>Je(e)&&!Jc(e)?e:{value:e,message:""},jv=async(e,t,r,n,s,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:g,validate:y,name:x,valueAsNumber:S,mount:v}=e._f,p=te(r,x);if(!v||t.has(x))return{};const w=l?l[0]:a,N=L=>{s&&w.reportValidity&&(w.setCustomValidity(Br(L)?"":L||""),w.reportValidity())},_={},E=Hm(a),C=hl(a),R=E||C,O=(S||Wm(a))&&rt(a.value)&&rt(p)||Yc(a)&&a.value===""||p===""||Array.isArray(p)&&!p.length,M=a1.bind(null,x,n,_),Q=(L,K,P,re=fn.maxLength,H=fn.minLength)=>{const ie=L?K:P;_[x]={type:L?re:H,message:ie,ref:a,...M(L?re:H,ie)}};if(i?!Array.isArray(p)||!p.length:c&&(!R&&(O||Ft(p))||Br(p)&&!p||C&&!d1(l).isValid||E&&!h1(l).isValid)){const{value:L,message:K}=cc(c)?{value:!!c,message:c}:hi(c);if(L&&(_[x]={type:fn.required,message:K,ref:w,...M(fn.required,K)},!n))return N(K),_}if(!O&&(!Ft(f)||!Ft(h))){let L,K;const P=hi(h),re=hi(f);if(!Ft(p)&&!isNaN(p)){const H=a.valueAsNumber||p&&+p;Ft(P.value)||(L=H>P.value),Ft(re.value)||(K=H<re.value)}else{const H=a.valueAsDate||new Date(p),ie=A=>new Date(new Date().toDateString()+" "+A),I=a.type=="time",z=a.type=="week";Xr(P.value)&&p&&(L=I?ie(p)>ie(P.value):z?p>P.value:H>new Date(P.value)),Xr(re.value)&&p&&(K=I?ie(p)<ie(re.value):z?p<re.value:H<new Date(re.value))}if((L||K)&&(Q(!!L,P.message,re.message,fn.max,fn.min),!n))return N(_[x].message),_}if((u||d)&&!O&&(Xr(p)||i&&Array.isArray(p))){const L=hi(u),K=hi(d),P=!Ft(L.value)&&p.length>+L.value,re=!Ft(K.value)&&p.length<+K.value;if((P||re)&&(Q(P,L.message,K.message),!n))return N(_[x].message),_}if(g&&!O&&Xr(p)){const{value:L,message:K}=hi(g);if(Jc(L)&&!p.match(L)&&(_[x]={type:fn.pattern,message:K,ref:a,...M(fn.pattern,K)},!n))return N(K),_}if(y){if(Rr(y)){const L=await y(p,r),K=_v(L,w);if(K&&(_[x]={...K,...M(fn.validate,K.message)},!n))return N(K.message),_}else if(Je(y)){let L={};for(const K in y){if(!Lt(L)&&!n)break;const P=_v(await y[K](p,r),w,K);P&&(L={...P,...M(K,P.message)},N(P.message),n&&(_[x]=L))}if(!Lt(L)&&(_[x]={ref:w,...L},!n))return _}}return N(!0),_};const eI={mode:Tr.onSubmit,reValidateMode:Tr.onChange,shouldFocusError:!0};function tI(e={}){let t={...eI,...e},r={submitCount:0,isDirty:!1,isLoading:Rr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let s=Je(t.defaultValues)||Je(t.values)?kt(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:kt(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:pv(),state:pv()},g=wv(t.mode),y=wv(t.reValidateMode),x=t.criteriaMode===Tr.all,S=b=>k=>{clearTimeout(u),u=setTimeout(b,k)},v=async b=>{if(!t.disabled&&(d.isValid||f.isValid||b)){const k=t.resolver?Lt((await O()).errors):await Q(n,!0);k!==r.isValid&&h.state.next({isValid:k})}},p=(b,k)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((b||Array.from(l.mount)).forEach(T=>{T&&(k?ke(r.validatingFields,T,k):it(r.validatingFields,T))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Lt(r.validatingFields)}))},w=(b,k=[],T,W,V=!0,D=!0)=>{if(W&&T&&!t.disabled){if(a.action=!0,D&&Array.isArray(te(n,b))){const q=T(te(n,b),W.argA,W.argB);V&&ke(n,b,q)}if(D&&Array.isArray(te(r.errors,b))){const q=T(te(r.errors,b),W.argA,W.argB);V&&ke(r.errors,b,q),XP(r.errors,b)}if((d.touchedFields||f.touchedFields)&&D&&Array.isArray(te(r.touchedFields,b))){const q=T(te(r.touchedFields,b),W.argA,W.argB);V&&ke(r.touchedFields,b,q)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Uo(s,i)),h.state.next({name:b,isDirty:K(b,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ke(i,b,k)},N=(b,k)=>{ke(r.errors,b,k),h.state.next({errors:r.errors})},_=b=>{r.errors=b,h.state.next({errors:r.errors,isValid:!1})},E=(b,k,T,W)=>{const V=te(n,b);if(V){const D=te(i,b,rt(T)?te(s,b):T);rt(D)||W&&W.defaultChecked||k?ke(i,b,k?D:xv(V._f)):H(b,D),a.mount&&v()}},C=(b,k,T,W,V)=>{let D=!1,q=!1;const he={name:b};if(!t.disabled){if(!T||W){(d.isDirty||f.isDirty)&&(q=r.isDirty,r.isDirty=he.isDirty=K(),D=q!==he.isDirty);const ze=Gn(te(s,b),k);q=!!te(r.dirtyFields,b),ze?it(r.dirtyFields,b):ke(r.dirtyFields,b,!0),he.dirtyFields=r.dirtyFields,D=D||(d.dirtyFields||f.dirtyFields)&&q!==!ze}if(T){const ze=te(r.touchedFields,b);ze||(ke(r.touchedFields,b,T),he.touchedFields=r.touchedFields,D=D||(d.touchedFields||f.touchedFields)&&ze!==T)}D&&V&&h.state.next(he)}return D?he:{}},R=(b,k,T,W)=>{const V=te(r.errors,b),D=(d.isValid||f.isValid)&&Br(k)&&r.isValid!==k;if(t.delayError&&T?(c=S(()=>N(b,T)),c(t.delayError)):(clearTimeout(u),c=null,T?ke(r.errors,b,T):it(r.errors,b)),(T?!Gn(V,T):V)||!Lt(W)||D){const q={...W,...D&&Br(k)?{isValid:k}:{},errors:r.errors,name:b};r={...r,...q},h.state.next(q)}},O=async b=>{p(b,!0);const k=await t.resolver(i,t.context,QP(b||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return p(b),k},M=async b=>{const{errors:k}=await O(b);if(b)for(const T of b){const W=te(k,T);W?ke(r.errors,T,W):it(r.errors,T)}else r.errors=k;return k},Q=async(b,k,T={valid:!0})=>{for(const W in b){const V=b[W];if(V){const{_f:D,...q}=V;if(D){const he=l.array.has(D.name),ze=V._f&&KP(V._f);ze&&d.validatingFields&&p([W],!0);const st=await jv(V,l.disabled,i,x,t.shouldUseNativeValidation&&!k,he);if(ze&&d.validatingFields&&p([W]),st[D.name]&&(T.valid=!1,k))break;!k&&(te(st,D.name)?he?JP(r.errors,st,D.name):ke(r.errors,D.name,st[D.name]):it(r.errors,D.name))}!Lt(q)&&await Q(q,k,T)}}return T.valid},L=()=>{for(const b of l.unMount){const k=te(n,b);k&&(k._f.refs?k._f.refs.every(T=>!Md(T)):!Md(k._f.ref))&&yt(b)}l.unMount=new Set},K=(b,k)=>!t.disabled&&(b&&k&&ke(i,b,k),!Gn(we(),s)),P=(b,k,T)=>VP(b,l,{...a.mount?i:rt(k)?s:Xr(b)?{[b]:k}:k},T,k),re=b=>$u(te(a.mount?i:s,b,t.shouldUnregister?te(s,b,[]):[])),H=(b,k,T={})=>{const W=te(n,b);let V=k;if(W){const D=W._f;D&&(!D.disabled&&ke(i,b,f1(k,D)),V=Yc(D.ref)&&Ft(k)?"":k,l1(D.ref)?[...D.ref.options].forEach(q=>q.selected=V.includes(q.value)):D.refs?hl(D.ref)?D.refs.length>1?D.refs.forEach(q=>(!q.defaultChecked||!q.disabled)&&(q.checked=Array.isArray(V)?!!V.find(he=>he===q.value):V===q.value)):D.refs[0]&&(D.refs[0].checked=!!V):D.refs.forEach(q=>q.checked=q.value===V):Wm(D.ref)?D.ref.value="":(D.ref.value=V,D.ref.type||h.state.next({name:b,values:kt(i)})))}(T.shouldDirty||T.shouldTouch)&&C(b,V,T.shouldTouch,T.shouldDirty,!0),T.shouldValidate&&le(b)},ie=(b,k,T)=>{for(const W in k){const V=k[W],D=`${b}.${W}`,q=te(n,D);(l.array.has(b)||Je(V)||q&&!q._f)&&!zs(V)?ie(D,V,T):H(D,V,T)}},I=(b,k,T={})=>{const W=te(n,b),V=l.array.has(b),D=kt(k);ke(i,b,D),V?(h.array.next({name:b,values:kt(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&T.shouldDirty&&h.state.next({name:b,dirtyFields:Uo(s,i),isDirty:K(b,D)})):W&&!W._f&&!Ft(D)?ie(b,D,T):H(b,D,T),Nv(b,l)&&h.state.next({...r}),h.state.next({name:a.mount?b:void 0,values:kt(i)})},z=async b=>{a.mount=!0;const k=b.target;let T=k.name,W=!0;const V=te(n,T),D=q=>{W=Number.isNaN(q)||zs(q)&&isNaN(q.getTime())||Gn(q,te(i,T,q))};if(V){let q,he;const ze=k.type?xv(V._f):DP(b),st=b.type===mv.BLUR||b.type===mv.FOCUS_OUT,Y1=!ZP(V._f)&&!t.resolver&&!te(r.errors,T)&&!V._f.deps||YP(st,te(r.touchedFields,T),r.isSubmitted,y,g),Bu=Nv(T,l,st);ke(i,T,ze),st?(V._f.onBlur&&V._f.onBlur(b),c&&c(0)):V._f.onChange&&V._f.onChange(b);const Wu=C(T,ze,st),X1=!Lt(Wu)||Bu;if(!st&&h.state.next({name:T,type:b.type,values:kt(i)}),Y1)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?st&&v():st||v()),X1&&h.state.next({name:T,...Bu?{}:Wu});if(!st&&Bu&&h.state.next({...r}),t.resolver){const{errors:Gm}=await O([T]);if(D(ze),W){const J1=Sv(r.errors,n,T),Ym=Sv(Gm,n,J1.name||T);q=Ym.error,T=Ym.name,he=Lt(Gm)}}else p([T],!0),q=(await jv(V,l.disabled,i,x,t.shouldUseNativeValidation))[T],p([T]),D(ze),W&&(q?he=!1:(d.isValid||f.isValid)&&(he=await Q(n,!0)));W&&(V._f.deps&&le(V._f.deps),R(T,he,q,Wu))}},A=(b,k)=>{if(te(r.errors,k)&&b.focus)return b.focus(),1},le=async(b,k={})=>{let T,W;const V=ha(b);if(t.resolver){const D=await M(rt(b)?b:V);T=Lt(D),W=b?!V.some(q=>te(D,q)):T}else b?(W=(await Promise.all(V.map(async D=>{const q=te(n,D);return await Q(q&&q._f?{[D]:q}:q)}))).every(Boolean),!(!W&&!r.isValid)&&v()):W=T=await Q(n);return h.state.next({...!Xr(b)||(d.isValid||f.isValid)&&T!==r.isValid?{}:{name:b},...t.resolver||!b?{isValid:T}:{},errors:r.errors}),k.shouldFocus&&!W&&ma(n,A,b?V:l.mount),W},we=b=>{const k={...a.mount?i:s};return rt(b)?k:Xr(b)?te(k,b):b.map(T=>te(k,T))},ht=(b,k)=>({invalid:!!te((k||r).errors,b),isDirty:!!te((k||r).dirtyFields,b),error:te((k||r).errors,b),isValidating:!!te(r.validatingFields,b),isTouched:!!te((k||r).touchedFields,b)}),mt=b=>{b&&ha(b).forEach(k=>it(r.errors,k)),h.state.next({errors:b?r.errors:{}})},Pt=(b,k,T)=>{const W=(te(n,b,{_f:{}})._f||{}).ref,V=te(r.errors,b)||{},{ref:D,message:q,type:he,...ze}=V;ke(r.errors,b,{...ze,...k,ref:W}),h.state.next({name:b,errors:r.errors,isValid:!1}),T&&T.shouldFocus&&W&&W.focus&&W.focus()},Oe=(b,k)=>Rr(b)?h.state.subscribe({next:T=>b(P(void 0,k),T)}):P(b,k,!0),Ae=b=>h.state.subscribe({next:k=>{GP(b.name,k.name,b.exact)&&qP(k,b.formState||d,et,b.reRenderRoot)&&b.callback({values:{...i},...r,...k})}}).unsubscribe,xr=b=>(a.mount=!0,f={...f,...b.formState},Ae({...b,formState:f})),yt=(b,k={})=>{for(const T of b?ha(b):l.mount)l.mount.delete(T),l.array.delete(T),k.keepValue||(it(n,T),it(i,T)),!k.keepError&&it(r.errors,T),!k.keepDirty&&it(r.dirtyFields,T),!k.keepTouched&&it(r.touchedFields,T),!k.keepIsValidating&&it(r.validatingFields,T),!t.shouldUnregister&&!k.keepDefaultValue&&it(s,T);h.state.next({values:kt(i)}),h.state.next({...r,...k.keepDirty?{isDirty:K()}:{}}),!k.keepIsValid&&v()},wr=({disabled:b,name:k})=>{(Br(b)&&a.mount||b||l.disabled.has(k))&&(b?l.disabled.add(k):l.disabled.delete(k))},$r=(b,k={})=>{let T=te(n,b);const W=Br(k.disabled)||Br(t.disabled);return ke(n,b,{...T||{},_f:{...T&&T._f?T._f:{ref:{name:b}},name:b,mount:!0,...k}}),l.mount.add(b),T?wr({disabled:Br(k.disabled)?k.disabled:t.disabled,name:b}):E(b,!0,k.value),{...W?{disabled:k.disabled||t.disabled}:{},...t.progressive?{required:!!k.required,min:Vo(k.min),max:Vo(k.max),minLength:Vo(k.minLength),maxLength:Vo(k.maxLength),pattern:Vo(k.pattern)}:{},name:b,onChange:z,onBlur:z,ref:V=>{if(V){$r(b,k),T=te(n,b);const D=rt(V.value)&&V.querySelectorAll&&V.querySelectorAll("input,select,textarea")[0]||V,q=BP(D),he=T._f.refs||[];if(q?he.find(ze=>ze===D):D===T._f.ref)return;ke(n,b,{_f:{...T._f,...q?{refs:[...he.filter(Md),D,...Array.isArray(te(s,b))?[{}]:[]],ref:{type:D.type,name:b}}:{ref:D}}}),E(b,!1,void 0,D)}else T=te(n,b,{}),T._f&&(T._f.mount=!1),(t.shouldUnregister||k.shouldUnregister)&&!(zP(l.array,b)&&a.action)&&l.unMount.add(b)}}},St=()=>t.shouldFocusError&&ma(n,A,l.mount),br=b=>{Br(b)&&(h.state.next({disabled:b}),ma(n,(k,T)=>{const W=te(n,T);W&&(k.disabled=W._f.disabled||b,Array.isArray(W._f.refs)&&W._f.refs.forEach(V=>{V.disabled=W._f.disabled||b}))},0,!1))},$=(b,k)=>async T=>{let W;T&&(T.preventDefault&&T.preventDefault(),T.persist&&T.persist());let V=kt(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:D,values:q}=await O();r.errors=D,V=q}else await Q(n);if(l.disabled.size)for(const D of l.disabled)ke(V,D,void 0);if(it(r.errors,"root"),Lt(r.errors)){h.state.next({errors:{}});try{await b(V,T)}catch(D){W=D}}else k&&await k({...r.errors},T),St(),setTimeout(St);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Lt(r.errors)&&!W,submitCount:r.submitCount+1,errors:r.errors}),W)throw W},Ce=(b,k={})=>{te(n,b)&&(rt(k.defaultValue)?I(b,kt(te(s,b))):(I(b,k.defaultValue),ke(s,b,kt(k.defaultValue))),k.keepTouched||it(r.touchedFields,b),k.keepDirty||(it(r.dirtyFields,b),r.isDirty=k.defaultValue?K(b,kt(te(s,b))):K()),k.keepError||(it(r.errors,b),d.isValid&&v()),h.state.next({...r}))},Pe=(b,k={})=>{const T=b?kt(b):s,W=kt(T),V=Lt(b),D=V?s:W;if(k.keepDefaultValues||(s=T),!k.keepValues){if(k.keepDirtyValues){const q=new Set([...l.mount,...Object.keys(Uo(s,i))]);for(const he of Array.from(q))te(r.dirtyFields,he)?ke(D,he,te(i,he)):I(he,te(D,he))}else{if(Vm&&rt(b))for(const q of l.mount){const he=te(n,q);if(he&&he._f){const ze=Array.isArray(he._f.refs)?he._f.refs[0]:he._f.ref;if(Yc(ze)){const st=ze.closest("form");if(st){st.reset();break}}}}for(const q of l.mount)I(q,te(D,q))}i=kt(D),h.array.next({values:{...D}}),h.state.next({values:{...D}})}l={mount:k.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!k.keepIsValid||!!k.keepDirtyValues,a.watch=!!t.shouldUnregister,h.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:V?!1:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!Gn(b,s)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:V?{}:k.keepDirtyValues?k.keepDefaultValues&&i?Uo(s,i):r.dirtyFields:k.keepDefaultValues&&b?Uo(s,b):k.keepDirty?r.dirtyFields:{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ye=(b,k)=>Pe(Rr(b)?b(i):b,k),It=(b,k={})=>{const T=te(n,b),W=T&&T._f;if(W){const V=W.refs?W.refs[0]:W.ref;V.focus&&(V.focus(),k.shouldSelect&&Rr(V.select)&&V.select())}},et=b=>{r={...r,...b}},F={control:{register:$r,unregister:yt,getFieldState:ht,handleSubmit:$,setError:Pt,_subscribe:Ae,_runSchema:O,_getWatch:P,_getDirty:K,_setValid:v,_setFieldArray:w,_setDisabledField:wr,_setErrors:_,_getFieldArray:re,_reset:Pe,_resetDefaultValues:()=>Rr(t.defaultValues)&&t.defaultValues().then(b=>{Ye(b,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:br,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(b){a=b},get _defaultValues(){return s},get _names(){return l},set _names(b){l=b},get _formState(){return r},get _options(){return t},set _options(b){t={...t,...b}}},subscribe:xr,trigger:le,register:$r,handleSubmit:$,watch:Oe,setValue:I,getValues:we,reset:Ye,resetField:Ce,clearErrors:mt,unregister:yt,setError:Pt,setFocus:It,getFieldState:ht};return{...F,formControl:F}}function rI(e={}){const t=ot.useRef(void 0),r=ot.useRef(void 0),[n,s]=ot.useState({isDirty:!1,isValidating:!1,isLoading:Rr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Rr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:tI(e),formState:n},e.formControl&&e.defaultValues&&!Rr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,ot.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),ot.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ot.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),ot.useEffect(()=>{e.values&&!Gn(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(a=>({...a}))):i._resetDefaultValues()},[e.values,i]),ot.useEffect(()=>{e.errors&&!Lt(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),ot.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ot.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=UP(n,i),t.current}const kv=(e,t,r)=>{if(e&&"reportValidity"in e){const n=te(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},m1=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?kv(n.ref,r,e):n.refs&&n.refs.forEach(s=>kv(s,r,e))}},nI=(e,t)=>{t.shouldUseNativeValidation&&m1(e,t);const r={};for(const n in e){const s=te(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(sI(t.names||Object.keys(e),n)){const a=Object.assign({},te(r,n));ke(a,"root",i),ke(r,n,a)}else ke(r,n,i)}return r},sI=(e,t)=>e.some(r=>r.startsWith(t+"."));var iI=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[a]={message:l.message,type:l.code}}else r[a]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[a].types,u=c&&c[n.code];r[a]=a1(a,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},oI=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&m1({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:nI(iI(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},ye;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(const a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ye||(ye={}));var uh;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(uh||(uh={}));const Y=ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),yn=e=>{switch(typeof e){case"undefined":return Y.undefined;case"string":return Y.string;case"number":return isNaN(e)?Y.nan:Y.number;case"boolean":return Y.boolean;case"function":return Y.function;case"bigint":return Y.bigint;case"symbol":return Y.symbol;case"object":return Array.isArray(e)?Y.array:e===null?Y.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Y.promise:typeof Map<"u"&&e instanceof Map?Y.map:typeof Set<"u"&&e instanceof Set?Y.set:typeof Date<"u"&&e instanceof Date?Y.date:Y.object;default:return Y.unknown}},U=ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),aI=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ir extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof ir))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ir.create=e=>new ir(e);const yo=(e,t)=>{let r;switch(e.code){case U.invalid_type:e.received===Y.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case U.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ye.jsonStringifyReplacer)}`;break;case U.unrecognized_keys:r=`Unrecognized key(s) in object: ${ye.joinValues(e.keys,", ")}`;break;case U.invalid_union:r="Invalid input";break;case U.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ye.joinValues(e.options)}`;break;case U.invalid_enum_value:r=`Invalid enum value. Expected ${ye.joinValues(e.options)}, received '${e.received}'`;break;case U.invalid_arguments:r="Invalid function arguments";break;case U.invalid_return_type:r="Invalid function return type";break;case U.invalid_date:r="Invalid date";break;case U.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ye.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case U.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case U.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case U.custom:r="Invalid input";break;case U.invalid_intersection_types:r="Intersection results could not be merged";break;case U.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case U.not_finite:r="Number must be finite";break;default:r=t.defaultError,ye.assertNever(e)}return{message:r}};let p1=yo;function lI(e){p1=e}function eu(){return p1}const tu=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:t,defaultError:l}).message;return{...s,path:i,message:l}},cI=[];function Z(e,t){const r=eu(),n=tu({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===yo?void 0:yo].filter(s=>!!s)});e.common.issues.push(n)}class At{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return ae;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return At.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return ae;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:t.value,value:n}}}const ae=Object.freeze({status:"aborted"}),Ti=e=>({status:"dirty",value:e}),Vt=e=>({status:"valid",value:e}),dh=e=>e.status==="aborted",fh=e=>e.status==="dirty",ii=e=>e.status==="valid",za=e=>typeof Promise<"u"&&e instanceof Promise;function ru(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function g1(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var ne;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ne||(ne={}));var qo,Go;class on{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ev=(e,t)=>{if(ii(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ir(e.common.issues);return this._error=r,this._error}}};function ce(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,l)=>{var c,u;const{message:d}=e;return a.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}},description:s}}class fe{get description(){return this._def.description}_getType(t){return yn(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:yn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new At,ctx:{common:t.parent.common,data:t.data,parsedType:yn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(za(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:yn(t)},i=this._parseSync({data:t,path:s.path,parent:s});return Ev(s,i)}"~validate"(t){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:yn(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return ii(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>ii(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:yn(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(za(s)?s:Promise.resolve(s));return Ev(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=t(s),l=()=>i.addIssue({code:U.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new zr({schema:this,typeName:oe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return rn.create(this,this._def)}nullable(){return ks.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mr.create(this)}promise(){return wo.create(this,this._def)}or(t){return Ba.create([this,t],this._def)}and(t){return Wa.create(this,t,this._def)}transform(t){return new zr({...ce(this._def),schema:this,typeName:oe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new qa({...ce(this._def),innerType:this,defaultValue:r,typeName:oe.ZodDefault})}brand(){return new Qm({typeName:oe.ZodBranded,type:this,...ce(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Ga({...ce(this._def),innerType:this,catchValue:r,typeName:oe.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ml.create(this,t)}readonly(){return Ya.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const uI=/^c[^\s-]{8,}$/i,dI=/^[0-9a-z]+$/,fI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mI=/^[a-z0-9_-]{21}$/i,pI=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,gI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,yI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ld;const xI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,bI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,NI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,SI=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,_I=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,v1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",jI=new RegExp(`^${v1}$`);function y1(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function kI(e){return new RegExp(`^${y1(e)}$`)}function x1(e){let t=`${v1}T${y1(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function EI(e,t){return!!((t==="v4"||!t)&&xI.test(e)||(t==="v6"||!t)&&bI.test(e))}function CI(e,t){if(!pI.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function TI(e,t){return!!((t==="v4"||!t)&&wI.test(e)||(t==="v6"||!t)&&NI.test(e))}class Pr extends fe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Y.string){const i=this._getOrReturnCtx(t);return Z(i,{code:U.invalid_type,expected:Y.string,received:i.parsedType}),ae}const n=new At;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Z(s,{code:U.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Z(s,{code:U.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,l=t.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(t,s),a?Z(s,{code:U.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Z(s,{code:U.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")vI.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"email",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Ld||(Ld=new RegExp(yI,"u")),Ld.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"emoji",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")hI.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"uuid",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")mI.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"nanoid",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")uI.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"cuid",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")dI.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"cuid2",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")fI.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"ulid",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Z(s,{validation:"url",code:U.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"regex",code:U.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Z(s,{code:U.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Z(s,{code:U.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Z(s,{code:U.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?x1(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{code:U.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?jI.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{code:U.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?kI(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{code:U.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?gI.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"duration",code:U.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?EI(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"ip",code:U.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?CI(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"jwt",code:U.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?TI(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"cidr",code:U.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?SI.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"base64",code:U.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?_I.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"base64url",code:U.invalid_string,message:i.message}),n.dirty()):ye.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:U.invalid_string,...ne.errToObj(n)})}_addCheck(t){return new Pr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ne.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ne.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ne.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ne.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ne.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ne.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ne.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ne.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ne.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ne.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ne.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ne.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ne.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...ne.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ne.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ne.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ne.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ne.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ne.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ne.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ne.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ne.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ne.errToObj(r)})}nonempty(t){return this.min(1,ne.errToObj(t))}trim(){return new Pr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Pr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Pr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Pr.create=e=>{var t;return new Pr({checks:[],typeName:oe.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ce(e)})};function RI(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),a=parseInt(t.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class Ss extends fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Y.number){const i=this._getOrReturnCtx(t);return Z(i,{code:U.invalid_type,expected:Y.number,received:i.parsedType}),ae}let n;const s=new At;for(const i of this._def.checks)i.kind==="int"?ye.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Z(n,{code:U.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Z(n,{code:U.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Z(n,{code:U.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?RI(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Z(n,{code:U.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Z(n,{code:U.not_finite,message:i.message}),s.dirty()):ye.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ne.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ne.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ne.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ne.toString(r))}setLimit(t,r,n,s){return new Ss({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ne.toString(s)}]})}_addCheck(t){return new Ss({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ne.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ne.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ne.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ne.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ne.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ne.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ye.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Ss.create=e=>new Ss({checks:[],typeName:oe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ce(e)});class _s extends fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Y.bigint)return this._getInvalidInput(t);let n;const s=new At;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Z(n,{code:U.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Z(n,{code:U.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Z(n,{code:U.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ye.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Z(r,{code:U.invalid_type,expected:Y.bigint,received:r.parsedType}),ae}gte(t,r){return this.setLimit("min",t,!0,ne.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ne.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ne.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ne.toString(r))}setLimit(t,r,n,s){return new _s({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ne.toString(s)}]})}_addCheck(t){return new _s({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ne.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ne.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}_s.create=e=>{var t;return new _s({checks:[],typeName:oe.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ce(e)})};class $a extends fe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Y.boolean){const n=this._getOrReturnCtx(t);return Z(n,{code:U.invalid_type,expected:Y.boolean,received:n.parsedType}),ae}return Vt(t.data)}}$a.create=e=>new $a({typeName:oe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ce(e)});class oi extends fe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Y.date){const i=this._getOrReturnCtx(t);return Z(i,{code:U.invalid_type,expected:Y.date,received:i.parsedType}),ae}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Z(i,{code:U.invalid_date}),ae}const n=new At;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Z(s,{code:U.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Z(s,{code:U.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ye.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new oi({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ne.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ne.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}oi.create=e=>new oi({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:oe.ZodDate,...ce(e)});class nu extends fe{_parse(t){if(this._getType(t)!==Y.symbol){const n=this._getOrReturnCtx(t);return Z(n,{code:U.invalid_type,expected:Y.symbol,received:n.parsedType}),ae}return Vt(t.data)}}nu.create=e=>new nu({typeName:oe.ZodSymbol,...ce(e)});class Ua extends fe{_parse(t){if(this._getType(t)!==Y.undefined){const n=this._getOrReturnCtx(t);return Z(n,{code:U.invalid_type,expected:Y.undefined,received:n.parsedType}),ae}return Vt(t.data)}}Ua.create=e=>new Ua({typeName:oe.ZodUndefined,...ce(e)});class Va extends fe{_parse(t){if(this._getType(t)!==Y.null){const n=this._getOrReturnCtx(t);return Z(n,{code:U.invalid_type,expected:Y.null,received:n.parsedType}),ae}return Vt(t.data)}}Va.create=e=>new Va({typeName:oe.ZodNull,...ce(e)});class xo extends fe{constructor(){super(...arguments),this._any=!0}_parse(t){return Vt(t.data)}}xo.create=e=>new xo({typeName:oe.ZodAny,...ce(e)});class qs extends fe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Vt(t.data)}}qs.create=e=>new qs({typeName:oe.ZodUnknown,...ce(e)});class On extends fe{_parse(t){const r=this._getOrReturnCtx(t);return Z(r,{code:U.invalid_type,expected:Y.never,received:r.parsedType}),ae}}On.create=e=>new On({typeName:oe.ZodNever,...ce(e)});class su extends fe{_parse(t){if(this._getType(t)!==Y.undefined){const n=this._getOrReturnCtx(t);return Z(n,{code:U.invalid_type,expected:Y.void,received:n.parsedType}),ae}return Vt(t.data)}}su.create=e=>new su({typeName:oe.ZodVoid,...ce(e)});class Mr extends fe{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Y.array)return Z(r,{code:U.invalid_type,expected:Y.array,received:r.parsedType}),ae;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(a||l)&&(Z(r,{code:a?U.too_big:U.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Z(r,{code:U.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Z(r,{code:U.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>s.type._parseAsync(new on(r,a,r.path,l)))).then(a=>At.mergeArray(n,a));const i=[...r.data].map((a,l)=>s.type._parseSync(new on(r,a,r.path,l)));return At.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Mr({...this._def,minLength:{value:t,message:ne.toString(r)}})}max(t,r){return new Mr({...this._def,maxLength:{value:t,message:ne.toString(r)}})}length(t,r){return new Mr({...this._def,exactLength:{value:t,message:ne.toString(r)}})}nonempty(t){return this.min(1,t)}}Mr.create=(e,t)=>new Mr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:oe.ZodArray,...ce(t)});function gi(e){if(e instanceof $e){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=rn.create(gi(n))}return new $e({...e._def,shape:()=>t})}else return e instanceof Mr?new Mr({...e._def,type:gi(e.element)}):e instanceof rn?rn.create(gi(e.unwrap())):e instanceof ks?ks.create(gi(e.unwrap())):e instanceof an?an.create(e.items.map(t=>gi(t))):e}class $e extends fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ye.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Y.object){const u=this._getOrReturnCtx(t);return Z(u,{code:U.invalid_type,expected:Y.object,received:u.parsedType}),ae}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof On&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new on(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof On){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Z(s,{code:U.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new on(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>At.mergeObjectSync(n,u)):At.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ne.errToObj,new $e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i,a,l;const c=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=ne.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new $e({...this._def,unknownKeys:"strip"})}passthrough(){return new $e({...this._def,unknownKeys:"passthrough"})}extend(t){return new $e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new $e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:oe.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new $e({...this._def,catchall:t})}pick(t){const r={};return ye.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new $e({...this._def,shape:()=>r})}omit(t){const r={};return ye.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new $e({...this._def,shape:()=>r})}deepPartial(){return gi(this)}partial(t){const r={};return ye.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new $e({...this._def,shape:()=>r})}required(t){const r={};return ye.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof rn;)i=i._def.innerType;r[n]=i}}),new $e({...this._def,shape:()=>r})}keyof(){return w1(ye.objectKeys(this.shape))}}$e.create=(e,t)=>new $e({shape:()=>e,unknownKeys:"strip",catchall:On.create(),typeName:oe.ZodObject,...ce(t)});$e.strictCreate=(e,t)=>new $e({shape:()=>e,unknownKeys:"strict",catchall:On.create(),typeName:oe.ZodObject,...ce(t)});$e.lazycreate=(e,t)=>new $e({shape:e,unknownKeys:"strip",catchall:On.create(),typeName:oe.ZodObject,...ce(t)});class Ba extends fe{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new ir(l.ctx.common.issues));return Z(r,{code:U.invalid_union,unionErrors:a}),ae}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new ir(c));return Z(r,{code:U.invalid_union,unionErrors:l}),ae}}get options(){return this._def.options}}Ba.create=(e,t)=>new Ba({options:e,typeName:oe.ZodUnion,...ce(t)});const pn=e=>e instanceof Qa?pn(e.schema):e instanceof zr?pn(e.innerType()):e instanceof Ka?[e.value]:e instanceof js?e.options:e instanceof Za?ye.objectValues(e.enum):e instanceof qa?pn(e._def.innerType):e instanceof Ua?[void 0]:e instanceof Va?[null]:e instanceof rn?[void 0,...pn(e.unwrap())]:e instanceof ks?[null,...pn(e.unwrap())]:e instanceof Qm||e instanceof Ya?pn(e.unwrap()):e instanceof Ga?pn(e._def.innerType):[];class Uu extends fe{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Y.object)return Z(r,{code:U.invalid_type,expected:Y.object,received:r.parsedType}),ae;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Z(r,{code:U.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ae)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const i of r){const a=pn(i.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of a){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,i)}}return new Uu({typeName:oe.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...ce(n)})}}function hh(e,t){const r=yn(e),n=yn(t);if(e===t)return{valid:!0,data:e};if(r===Y.object&&n===Y.object){const s=ye.objectKeys(t),i=ye.objectKeys(e).filter(l=>s.indexOf(l)!==-1),a={...e,...t};for(const l of i){const c=hh(e[l],t[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(r===Y.array&&n===Y.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const a=e[i],l=t[i],c=hh(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Y.date&&n===Y.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Wa extends fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,a)=>{if(dh(i)||dh(a))return ae;const l=hh(i.value,a.value);return l.valid?((fh(i)||fh(a))&&r.dirty(),{status:r.value,value:l.data}):(Z(n,{code:U.invalid_intersection_types}),ae)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Wa.create=(e,t,r)=>new Wa({left:e,right:t,typeName:oe.ZodIntersection,...ce(r)});class an extends fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Y.array)return Z(n,{code:U.invalid_type,expected:Y.array,received:n.parsedType}),ae;if(n.data.length<this._def.items.length)return Z(n,{code:U.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ae;!this._def.rest&&n.data.length>this._def.items.length&&(Z(n,{code:U.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new on(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>At.mergeArray(r,a)):At.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new an({...this._def,rest:t})}}an.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new an({items:e,typeName:oe.ZodTuple,rest:null,...ce(t)})};class Ha extends fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Y.object)return Z(n,{code:U.invalid_type,expected:Y.object,received:n.parsedType}),ae;const s=[],i=this._def.keyType,a=this._def.valueType;for(const l in n.data)s.push({key:i._parse(new on(n,l,n.path,l)),value:a._parse(new on(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?At.mergeObjectAsync(r,s):At.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof fe?new Ha({keyType:t,valueType:r,typeName:oe.ZodRecord,...ce(n)}):new Ha({keyType:Pr.create(),valueType:t,typeName:oe.ZodRecord,...ce(r)})}}class iu extends fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Y.map)return Z(n,{code:U.invalid_type,expected:Y.map,received:n.parsedType}),ae;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new on(n,l,n.path,[u,"key"])),value:i._parse(new on(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return ae;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return ae;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}iu.create=(e,t,r)=>new iu({valueType:t,keyType:e,typeName:oe.ZodMap,...ce(r)});class ai extends fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Y.set)return Z(n,{code:U.invalid_type,expected:Y.set,received:n.parsedType}),ae;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Z(n,{code:U.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Z(n,{code:U.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return ae;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new on(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(t,r){return new ai({...this._def,minSize:{value:t,message:ne.toString(r)}})}max(t,r){return new ai({...this._def,maxSize:{value:t,message:ne.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}ai.create=(e,t)=>new ai({valueType:e,minSize:null,maxSize:null,typeName:oe.ZodSet,...ce(t)});class Hi extends fe{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Y.function)return Z(r,{code:U.invalid_type,expected:Y.function,received:r.parsedType}),ae;function n(l,c){return tu({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,eu(),yo].filter(u=>!!u),issueData:{code:U.invalid_arguments,argumentsError:c}})}function s(l,c){return tu({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,eu(),yo].filter(u=>!!u),issueData:{code:U.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof wo){const l=this;return Vt(async function(...c){const u=new ir([]),d=await l._def.args.parseAsync(c,i).catch(g=>{throw u.addIssue(n(c,g)),u}),f=await Reflect.apply(a,this,d);return await l._def.returns._def.type.parseAsync(f,i).catch(g=>{throw u.addIssue(s(f,g)),u})})}else{const l=this;return Vt(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new ir([n(c,u.error)]);const d=Reflect.apply(a,this,u.data),f=l._def.returns.safeParse(d,i);if(!f.success)throw new ir([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Hi({...this._def,args:an.create(t).rest(qs.create())})}returns(t){return new Hi({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Hi({args:t||an.create([]).rest(qs.create()),returns:r||qs.create(),typeName:oe.ZodFunction,...ce(n)})}}class Qa extends fe{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Qa.create=(e,t)=>new Qa({getter:e,typeName:oe.ZodLazy,...ce(t)});class Ka extends fe{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Z(r,{received:r.data,code:U.invalid_literal,expected:this._def.value}),ae}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ka.create=(e,t)=>new Ka({value:e,typeName:oe.ZodLiteral,...ce(t)});function w1(e,t){return new js({values:e,typeName:oe.ZodEnum,...ce(t)})}class js extends fe{constructor(){super(...arguments),qo.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Z(r,{expected:ye.joinValues(n),received:r.parsedType,code:U.invalid_type}),ae}if(ru(this,qo)||g1(this,qo,new Set(this._def.values)),!ru(this,qo).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Z(r,{received:r.data,code:U.invalid_enum_value,options:n}),ae}return Vt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return js.create(t,{...this._def,...r})}exclude(t,r=this._def){return js.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}qo=new WeakMap;js.create=w1;class Za extends fe{constructor(){super(...arguments),Go.set(this,void 0)}_parse(t){const r=ye.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Y.string&&n.parsedType!==Y.number){const s=ye.objectValues(r);return Z(n,{expected:ye.joinValues(s),received:n.parsedType,code:U.invalid_type}),ae}if(ru(this,Go)||g1(this,Go,new Set(ye.getValidEnumValues(this._def.values))),!ru(this,Go).has(t.data)){const s=ye.objectValues(r);return Z(n,{received:n.data,code:U.invalid_enum_value,options:s}),ae}return Vt(t.data)}get enum(){return this._def.values}}Go=new WeakMap;Za.create=(e,t)=>new Za({values:e,typeName:oe.ZodNativeEnum,...ce(t)});class wo extends fe{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Y.promise&&r.common.async===!1)return Z(r,{code:U.invalid_type,expected:Y.promise,received:r.parsedType}),ae;const n=r.parsedType===Y.promise?r.data:Promise.resolve(r.data);return Vt(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}wo.create=(e,t)=>new wo({type:e,typeName:oe.ZodPromise,...ce(t)});class zr extends fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===oe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{Z(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return ae;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ae:c.status==="dirty"||r.value==="dirty"?Ti(c.value):c});{if(r.value==="aborted")return ae;const l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?ae:l.status==="dirty"||r.value==="dirty"?Ti(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ae:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ae:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ii(a))return a;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>ii(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:r.value,value:l})):a);ye.assertNever(s)}}zr.create=(e,t,r)=>new zr({schema:e,typeName:oe.ZodEffects,effect:t,...ce(r)});zr.createWithPreprocess=(e,t,r)=>new zr({schema:t,effect:{type:"preprocess",transform:e},typeName:oe.ZodEffects,...ce(r)});class rn extends fe{_parse(t){return this._getType(t)===Y.undefined?Vt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}rn.create=(e,t)=>new rn({innerType:e,typeName:oe.ZodOptional,...ce(t)});class ks extends fe{_parse(t){return this._getType(t)===Y.null?Vt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ks.create=(e,t)=>new ks({innerType:e,typeName:oe.ZodNullable,...ce(t)});class qa extends fe{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Y.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}qa.create=(e,t)=>new qa({innerType:e,typeName:oe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ce(t)});class Ga extends fe{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return za(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ir(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ir(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Ga.create=(e,t)=>new Ga({innerType:e,typeName:oe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ce(t)});class ou extends fe{_parse(t){if(this._getType(t)!==Y.nan){const n=this._getOrReturnCtx(t);return Z(n,{code:U.invalid_type,expected:Y.nan,received:n.parsedType}),ae}return{status:"valid",value:t.data}}}ou.create=e=>new ou({typeName:oe.ZodNaN,...ce(e)});const AI=Symbol("zod_brand");class Qm extends fe{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ml extends fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ae:i.status==="dirty"?(r.dirty(),Ti(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ae:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new ml({in:t,out:r,typeName:oe.ZodPipeline})}}class Ya extends fe{_parse(t){const r=this._def.innerType._parse(t),n=s=>(ii(s)&&(s.value=Object.freeze(s.value)),s);return za(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Ya.create=(e,t)=>new Ya({innerType:e,typeName:oe.ZodReadonly,...ce(t)});function Cv(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function b1(e,t={},r){return e?xo.create().superRefine((n,s)=>{var i,a;const l=e(n);if(l instanceof Promise)return l.then(c=>{var u,d;if(!c){const f=Cv(t,n),h=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;s.addIssue({code:"custom",...f,fatal:h})}});if(!l){const c=Cv(t,n),u=(a=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&a!==void 0?a:!0;s.addIssue({code:"custom",...c,fatal:u})}}):xo.create()}const PI={object:$e.lazycreate};var oe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(oe||(oe={}));const II=(e,t={message:`Input not instance of ${e.name}`})=>b1(r=>r instanceof e,t),N1=Pr.create,S1=Ss.create,OI=ou.create,MI=_s.create,_1=$a.create,LI=oi.create,DI=nu.create,FI=Ua.create,zI=Va.create,$I=xo.create,UI=qs.create,VI=On.create,BI=su.create,WI=Mr.create,HI=$e.create,QI=$e.strictCreate,KI=Ba.create,ZI=Uu.create,qI=Wa.create,GI=an.create,YI=Ha.create,XI=iu.create,JI=ai.create,eO=Hi.create,tO=Qa.create,rO=Ka.create,nO=js.create,sO=Za.create,iO=wo.create,Tv=zr.create,oO=rn.create,aO=ks.create,lO=zr.createWithPreprocess,cO=ml.create,uO=()=>N1().optional(),dO=()=>S1().optional(),fO=()=>_1().optional(),hO={string:e=>Pr.create({...e,coerce:!0}),number:e=>Ss.create({...e,coerce:!0}),boolean:e=>$a.create({...e,coerce:!0}),bigint:e=>_s.create({...e,coerce:!0}),date:e=>oi.create({...e,coerce:!0})},mO=ae;var Bo=Object.freeze({__proto__:null,defaultErrorMap:yo,setErrorMap:lI,getErrorMap:eu,makeIssue:tu,EMPTY_PATH:cI,addIssueToContext:Z,ParseStatus:At,INVALID:ae,DIRTY:Ti,OK:Vt,isAborted:dh,isDirty:fh,isValid:ii,isAsync:za,get util(){return ye},get objectUtil(){return uh},ZodParsedType:Y,getParsedType:yn,ZodType:fe,datetimeRegex:x1,ZodString:Pr,ZodNumber:Ss,ZodBigInt:_s,ZodBoolean:$a,ZodDate:oi,ZodSymbol:nu,ZodUndefined:Ua,ZodNull:Va,ZodAny:xo,ZodUnknown:qs,ZodNever:On,ZodVoid:su,ZodArray:Mr,ZodObject:$e,ZodUnion:Ba,ZodDiscriminatedUnion:Uu,ZodIntersection:Wa,ZodTuple:an,ZodRecord:Ha,ZodMap:iu,ZodSet:ai,ZodFunction:Hi,ZodLazy:Qa,ZodLiteral:Ka,ZodEnum:js,ZodNativeEnum:Za,ZodPromise:wo,ZodEffects:zr,ZodTransformer:zr,ZodOptional:rn,ZodNullable:ks,ZodDefault:qa,ZodCatch:Ga,ZodNaN:ou,BRAND:AI,ZodBranded:Qm,ZodPipeline:ml,ZodReadonly:Ya,custom:b1,Schema:fe,ZodSchema:fe,late:PI,get ZodFirstPartyTypeKind(){return oe},coerce:hO,any:$I,array:WI,bigint:MI,boolean:_1,date:LI,discriminatedUnion:ZI,effect:Tv,enum:nO,function:eO,instanceof:II,intersection:qI,lazy:tO,literal:rO,map:XI,nan:OI,nativeEnum:sO,never:VI,null:zI,nullable:aO,number:S1,object:HI,oboolean:fO,onumber:dO,optional:oO,ostring:uO,pipeline:cO,preprocess:lO,promise:iO,record:YI,set:JI,strictObject:QI,string:N1,symbol:DI,transformer:Tv,tuple:GI,undefined:FI,union:KI,unknown:UI,void:BI,NEVER:mO,ZodIssueCode:U,quotelessJson:aI,ZodError:ir});const pO=Bo.object({name:Bo.string().min(1,"الاسم مطلوب").max(50,"الاسم طويل جداً"),age:Bo.coerce.number().min(1,"العمر يجب أن يكون أكبر من 0").max(120,"العمر غير صحيح").optional(),avatarUrl:Bo.string().url("رابط الصورة غير صحيح").optional().or(Bo.literal(""))});function gO(){const[e,t]=m.useState(!1),[r,n]=m.useState(""),[s,i]=m.useState(!1),a=vt(),{toast:l}=ul(),{data:c,isLoading:u}=NR(),d=SR(),f=rI({resolver:oI(pO),defaultValues:{name:(c==null?void 0:c.name)||"",age:(c==null?void 0:c.age)||void 0,avatarUrl:(c==null?void 0:c.avatarUrl)||""}});m.useEffect(()=>{c&&f.reset({name:c.name,age:c.age||void 0,avatarUrl:c.avatarUrl||""})},[c,f]);const h=async y=>{try{await d.mutateAsync(y),i(!1),l({title:"تم التحديث بنجاح",description:"تم حفظ التغييرات في ملفك الشخصي"})}catch{l({title:"خطأ في التحديث",description:"حدث خطأ أثناء حفظ التغييرات",variant:"destructive"})}},g=()=>{c&&f.reset({name:c.name,age:c.age||void 0,avatarUrl:c.avatarUrl||""}),i(!1)};return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:e,onClose:()=>t(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${e?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>t(!0),searchQuery:r,onSearchChange:n}),o.jsxs("main",{className:"p-4 max-w-4xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(nh,{className:"w-8 h-8 text-primary"}),o.jsx("h1",{className:"text-3xl font-bold gradient-text","data-testid":"profile-title",children:"الملف الشخصي"})]}),o.jsx("p",{className:"text-muted-foreground",children:"إدارة معلوماتك الشخصية وتفضيلاتك"})]}),u?o.jsx("div",{className:"space-y-6",children:o.jsxs(Re,{children:[o.jsx(Ar,{children:o.jsx(J,{className:"h-8 w-48"})}),o.jsxs(Ke,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx(J,{className:"w-24 h-24 rounded-full"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(J,{className:"h-6 w-32"}),o.jsx(J,{className:"h-4 w-48"})]})]}),o.jsx(J,{className:"h-10 w-full"}),o.jsx(J,{className:"h-10 w-full"}),o.jsx(J,{className:"h-10 w-full"})]})]})}):o.jsxs("div",{className:"space-y-6 fade-in",children:[o.jsxs(Re,{className:"border-border",children:[o.jsxs(Ar,{className:"flex flex-row items-center justify-between",children:[o.jsx(oc,{className:"text-xl","data-testid":"profile-info-title",children:"معلومات الملف الشخصي"}),o.jsxs(X,{variant:s?"destructive":"outline",size:"sm",onClick:s?g:()=>i(!0),"data-testid":s?"cancel-edit-button":"edit-profile-button",children:[s?o.jsx(dl,{className:"w-4 h-4 mr-1"}):o.jsx(eT,{className:"w-4 h-4 mr-1"}),s?"إلغاء":"تعديل"]})]}),o.jsx(Ke,{children:o.jsxs("form",{onSubmit:f.handleSubmit(h),className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(r1,{className:"w-24 h-24 border-4 border-primary",children:[o.jsx(n1,{src:f.watch("avatarUrl")||(c==null?void 0:c.avatarUrl)||void 0,alt:"صورة المستخدم"}),o.jsx(s1,{className:"bg-primary text-primary-foreground text-2xl",children:o.jsx(nh,{className:"w-10 h-10"})})]}),s&&o.jsx(X,{type:"button",size:"icon",variant:"secondary",className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full","data-testid":"change-avatar-button",children:o.jsx(qC,{className:"w-4 h-4"})})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold","data-testid":"profile-display-name",children:c==null?void 0:c.name}),o.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground mt-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(XC,{className:"w-4 h-4"}),o.jsx("span",{"data-testid":"profile-email",children:c==null?void 0:c.email})]}),(c==null?void 0:c.age)&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(vs,{className:"w-4 h-4"}),o.jsxs("span",{"data-testid":"profile-age-display",children:[c.age," سنة"]})]})]})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lc,{htmlFor:"name",children:"الاسم"}),o.jsx(da,{id:"name",...f.register("name"),disabled:!s,className:"bg-input border-border","data-testid":"name-input"}),f.formState.errors.name&&o.jsx("p",{className:"text-destructive text-sm","data-testid":"name-error",children:f.formState.errors.name.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lc,{htmlFor:"age",children:"العمر"}),o.jsx(da,{id:"age",type:"number",...f.register("age",{setValueAs:y=>y?parseInt(y):void 0}),disabled:!s,className:"bg-input border-border","data-testid":"age-input"}),f.formState.errors.age&&o.jsx("p",{className:"text-destructive text-sm","data-testid":"age-error",children:f.formState.errors.age.message})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lc,{htmlFor:"avatarUrl",children:"رابط الصورة الشخصية"}),o.jsx(da,{id:"avatarUrl",...f.register("avatarUrl"),disabled:!s,placeholder:"https://example.com/avatar.jpg",className:"bg-input border-border","data-testid":"avatar-url-input"}),f.formState.errors.avatarUrl&&o.jsx("p",{className:"text-destructive text-sm","data-testid":"avatar-url-error",children:f.formState.errors.avatarUrl.message})]}),s&&o.jsxs(X,{type:"submit",className:"bg-primary text-primary-foreground hover:bg-primary/90",disabled:d.isPending,"data-testid":"save-profile-button",children:[o.jsx(rT,{className:"w-4 h-4 mr-2"}),d.isPending?"جاري الحفظ...":"حفظ التغييرات"]})]})})]}),o.jsxs(Re,{className:"border-border",children:[o.jsx(Ar,{children:o.jsx(oc,{className:"text-xl","data-testid":"account-stats-title",children:"إحصائيات الحساب"})}),o.jsx(Ke,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"text-center p-4 bg-muted/20 rounded-lg",children:[o.jsx("div",{className:"text-3xl font-bold text-primary mb-2","data-testid":"total-favorites",children:"0"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"إجمالي المفضلة"})]}),o.jsxs("div",{className:"text-center p-4 bg-muted/20 rounded-lg",children:[o.jsx("div",{className:"text-3xl font-bold text-green-500 mb-2","data-testid":"completed-watches",children:"0"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"مكتملة المشاهدة"})]}),o.jsxs("div",{className:"text-center p-4 bg-muted/20 rounded-lg",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-500 mb-2","data-testid":"watch-hours",children:"0"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"ساعات المشاهدة"})]})]})})]}),o.jsxs(Re,{className:"border-border",children:[o.jsx(Ar,{children:o.jsx(oc,{className:"text-xl","data-testid":"account-settings-title",children:"إعدادات الحساب"})}),o.jsx(Ke,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/10 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"الإشعارات"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"استقبال إشعارات الحلقات والأفلام الجديدة"})]}),o.jsx(X,{variant:"outline",size:"sm","data-testid":"notifications-settings-button",children:"إدارة"})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/10 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"الخصوصية"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"إعدادات الخصوصية وأمان الحساب"})]}),o.jsx(X,{variant:"outline",size:"sm","data-testid":"privacy-settings-button",children:"إدارة"})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/10 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"تفضيلات اللغة"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"اختيار لغة الواجهة والترجمة"})]}),o.jsx(X,{variant:"outline",size:"sm","data-testid":"language-settings-button",children:"العربية"})]})]})})]})]})]}),a&&o.jsx(Ge,{})]})]})}var Dd="rovingFocusGroup.onEntryFocus",vO={bubbles:!1,cancelable:!0},Vu="RovingFocusGroup",[mh,j1,yO]=sw(Vu),[xO,k1]=Ln(Vu,[yO]),[wO,bO]=xO(Vu),E1=m.forwardRef((e,t)=>o.jsx(mh.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(mh.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(NO,{...e,ref:t})})}));E1.displayName=Vu;var NO=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),g=ft(t,h),y=Lm(i),[x=null,S]=Cu({prop:a,defaultProp:l,onChange:c}),[v,p]=m.useState(!1),w=ut(u),N=j1(r),_=m.useRef(!1),[E,C]=m.useState(0);return m.useEffect(()=>{const R=h.current;if(R)return R.addEventListener(Dd,w),()=>R.removeEventListener(Dd,w)},[w]),o.jsx(wO,{scope:r,orientation:n,dir:y,loop:s,currentTabStopId:x,onItemFocus:m.useCallback(R=>S(R),[S]),onItemShiftTab:m.useCallback(()=>p(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(R=>R+1),[]),onFocusableItemRemove:m.useCallback(()=>C(R=>R-1),[]),children:o.jsx(Ne.div,{tabIndex:v||E===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:pe(e.onMouseDown,()=>{_.current=!0}),onFocus:pe(e.onFocus,R=>{const O=!_.current;if(R.target===R.currentTarget&&O&&!v){const M=new CustomEvent(Dd,vO);if(R.currentTarget.dispatchEvent(M),!M.defaultPrevented){const Q=N().filter(H=>H.focusable),L=Q.find(H=>H.active),K=Q.find(H=>H.id===x),re=[L,K,...Q].filter(Boolean).map(H=>H.ref.current);R1(re,d)}}_.current=!1}),onBlur:pe(e.onBlur,()=>p(!1))})})}),C1="RovingFocusGroupItem",T1=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...a}=e,l=Bw(),c=i||l,u=bO(C1,r),d=u.currentTabStopId===c,f=j1(r),{onFocusableItemAdd:h,onFocusableItemRemove:g}=u;return m.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),o.jsx(mh.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:o.jsx(Ne.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:pe(e.onMouseDown,y=>{n?u.onItemFocus(c):y.preventDefault()}),onFocus:pe(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:pe(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=jO(y,u.orientation,u.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let v=f().filter(p=>p.focusable).map(p=>p.ref.current);if(x==="last")v.reverse();else if(x==="prev"||x==="next"){x==="prev"&&v.reverse();const p=v.indexOf(y.currentTarget);v=u.loop?kO(v,p+1):v.slice(p+1)}setTimeout(()=>R1(v))}})})})});T1.displayName=C1;var SO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _O(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function jO(e,t,r){const n=_O(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return SO[n]}function R1(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function kO(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var EO=E1,CO=T1,Km="Tabs",[TO,g4]=Ln(Km,[k1]),A1=k1(),[RO,Zm]=TO(Km),P1=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Lm(l),[f,h]=Cu({prop:n,onChange:s,defaultProp:i});return o.jsx(RO,{scope:r,baseId:Bw(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:o.jsx(Ne.div,{dir:d,"data-orientation":a,...u,ref:t})})});P1.displayName=Km;var I1="TabsList",O1=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=Zm(I1,r),a=A1(r);return o.jsx(EO,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(Ne.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});O1.displayName=I1;var M1="TabsTrigger",L1=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,a=Zm(M1,r),l=A1(r),c=z1(a.baseId,n),u=$1(a.baseId,n),d=n===a.value;return o.jsx(CO,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(Ne.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:pe(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:pe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:pe(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(n)})})})});L1.displayName=M1;var D1="TabsContent",F1=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...a}=e,l=Zm(D1,r),c=z1(l.baseId,n),u=$1(l.baseId,n),d=n===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(Rs,{present:s||d,children:({present:h})=>o.jsx(Ne.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});F1.displayName=D1;function z1(e,t){return`${e}-trigger-${t}`}function $1(e,t){return`${e}-content-${t}`}var AO=P1,U1=O1,V1=L1,B1=F1;const PO=AO,W1=m.forwardRef(({className:e,...t},r)=>o.jsx(U1,{ref:r,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));W1.displayName=U1.displayName;const uc=m.forwardRef(({className:e,...t},r)=>o.jsx(V1,{ref:r,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));uc.displayName=V1.displayName;const dc=m.forwardRef(({className:e,...t},r)=>o.jsx(B1,{ref:r,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));dc.displayName=B1.displayName;function IO(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var qm="Switch",[OO,v4]=Ln(qm),[MO,LO]=OO(qm),H1=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,g]=m.useState(null),y=ft(t,w=>g(w)),x=m.useRef(!1),S=h?d||!!h.closest("form"):!0,[v=!1,p]=Cu({prop:s,defaultProp:i,onChange:u});return o.jsxs(MO,{scope:r,checked:v,disabled:l,children:[o.jsx(Ne.button,{type:"button",role:"switch","aria-checked":v,"aria-required":a,"data-state":Z1(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:pe(e.onClick,w=>{p(N=>!N),S&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),S&&o.jsx(DO,{control:h,bubbles:!x.current,name:n,value:c,checked:v,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});H1.displayName=qm;var Q1="SwitchThumb",K1=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=LO(Q1,r);return o.jsx(Ne.span,{"data-state":Z1(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});K1.displayName=Q1;var DO=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,i=m.useRef(null),a=IO(r),l=tb(t);return m.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[a,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Z1(e){return e?"checked":"unchecked"}var q1=H1,FO=K1;const au=m.forwardRef(({className:e,...t},r)=>o.jsx(q1,{className:Ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(FO,{className:Ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));au.displayName=q1.displayName;function mi(e,t,r){let n=r.initialDeps??[],s;function i(){var a,l,c,u;let d;r.key&&((a=r.debug)!=null&&a.call(r))&&(d=Date.now());const f=e();if(!(f.length!==n.length||f.some((y,x)=>n[x]!==y)))return s;n=f;let g;if(r.key&&((l=r.debug)!=null&&l.call(r))&&(g=Date.now()),s=t(...f),r.key&&((c=r.debug)!=null&&c.call(r))){const y=Math.round((Date.now()-d)*100)/100,x=Math.round((Date.now()-g)*100)/100,S=x/16,v=(p,w)=>{for(p=String(p);p.length<w;)p=" "+p;return p};console.info(`%c⏱ ${v(x,5)} /${v(y,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*S,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(u=r==null?void 0:r.onChange)==null||u.call(r,s),s}return i.updateDeps=a=>{n=a},i}function Rv(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const zO=(e,t)=>Math.abs(e-t)<1.01,$O=(e,t,r)=>{let n;return function(...s){e.clearTimeout(n),n=e.setTimeout(()=>t.apply(this,s),r)}},Av=e=>{const{offsetWidth:t,offsetHeight:r}=e;return{width:t,height:r}},UO=e=>e,VO=e=>{const t=Math.max(e.startIndex-e.overscan,0),r=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let s=t;s<=r;s++)n.push(s);return n},BO=(e,t)=>{const r=e.scrollElement;if(!r)return;const n=e.targetWindow;if(!n)return;const s=a=>{const{width:l,height:c}=a;t({width:Math.round(l),height:Math.round(c)})};if(s(Av(r)),!n.ResizeObserver)return()=>{};const i=new n.ResizeObserver(a=>{const l=()=>{const c=a[0];if(c!=null&&c.borderBoxSize){const u=c.borderBoxSize[0];if(u){s({width:u.inlineSize,height:u.blockSize});return}}s(Av(r))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return i.observe(r,{box:"border-box"}),()=>{i.unobserve(r)}},Pv={passive:!0},Iv=typeof window>"u"?!0:"onscrollend"in window,WO=(e,t)=>{const r=e.scrollElement;if(!r)return;const n=e.targetWindow;if(!n)return;let s=0;const i=e.options.useScrollendEvent&&Iv?()=>{}:$O(n,()=>{t(s,!1)},e.options.isScrollingResetDelay),a=d=>()=>{const{horizontal:f,isRtl:h}=e.options;s=f?r.scrollLeft*(h&&-1||1):r.scrollTop,i(),t(s,d)},l=a(!0),c=a(!1);c(),r.addEventListener("scroll",l,Pv);const u=e.options.useScrollendEvent&&Iv;return u&&r.addEventListener("scrollend",c,Pv),()=>{r.removeEventListener("scroll",l),u&&r.removeEventListener("scrollend",c)}},HO=(e,t,r)=>{if(t!=null&&t.borderBoxSize){const n=t.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return e[r.options.horizontal?"offsetWidth":"offsetHeight"]},QO=(e,{adjustments:t=0,behavior:r},n)=>{var s,i;const a=e+t;(i=(s=n.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[n.options.horizontal?"left":"top"]:a,behavior:r})};class KO{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(s=>{s.forEach(i=>{const a=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()})}));return{disconnect:()=>{var s;(s=n())==null||s.disconnect(),r=null},observe:s=>{var i;return(i=n())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=n())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,s])=>{typeof s>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:UO,rangeExtractor:VO,onChange:()=>{},measureElement:HO,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,s;(s=(n=this.options).onChange)==null||s.call(n,this,r)},this.maybeNotify=mi(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const s=new Map,i=new Map;for(let a=n-1;a>=0;a--){const l=r[a];if(s.has(l.lane))continue;const c=i.get(l.lane);if(c==null||l.end>c.end?i.set(l.lane,l):l.end<c.end&&s.set(l.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((a,l)=>a.end===l.end?a.index-l.index:a.end-l.end)[0]:void 0},this.getMeasurementOptions=mi(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,s,i,a)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:s,getItemKey:i,enabled:a}),{key:!1}),this.getMeasurements=mi(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:s,getItemKey:i,enabled:a},l)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<r;d++){const f=i(d),h=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),g=h?h.end+this.options.gap:n+s,y=l.get(f),x=typeof y=="number"?y:this.options.estimateSize(d),S=g+x,v=h?h.lane:d%this.options.lanes;u[d]={index:d,start:g,size:x,end:S,key:f,lane:v}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=mi(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,s,i)=>this.range=r.length>0&&n>0?ZO({measurements:r,outerSize:n,scrollOffset:s,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=mi(()=>{let r=null,n=null;const s=this.calculateRange();return s&&(r=s.startIndex,n=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,s,i,a)=>i===null||a===null?[]:r({startIndex:i,endIndex:a,overscan:n,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,s=r.getAttribute(n);return s?parseInt(s,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const s=this.indexFromElement(r),i=this.measurementsCache[s];if(!i)return;const a=i.key,l=this.elementsCache.get(a);l!==r&&(l&&this.observer.unobserve(l),this.observer.observe(r),this.elementsCache.set(a,r)),r.isConnected&&this.resizeItem(s,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const s=this.measurementsCache[r];if(!s)return;const i=this.itemSizeCache.get(s.key)??s.size,a=n-i;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,a,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,s)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(s))});return}this._measureElement(r,void 0)},this.getVirtualItems=mi(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const s=[];for(let i=0,a=r.length;i<a;i++){const l=r[i],c=n[l];s.push(c)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return Rv(n[G1(0,n.length-1,s=>Rv(n[s]).start,r)])},this.getOffsetForAlignment=(r,n,s=0)=>{const i=this.getSize(),a=this.getScrollOffset();n==="auto"&&(n=r>=a+i?"end":"start"),n==="center"?r+=(s-i)/2:n==="end"&&(r-=i);const l=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const s=this.measurementsCache[r];if(!s)return;const i=this.getSize(),a=this.getScrollOffset();if(n==="auto")if(s.end>=a+i-this.options.scrollPaddingEnd)n="end";else if(s.start<=a+this.options.scrollPaddingStart)n="start";else return[a,n];const l=n==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,n,s.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:n="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:s})},this.scrollToIndex=(r,{align:n="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1));let i=0;const a=10,l=u=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(r,u);if(!d){console.warn("Failed to get offset for index:",r);return}const[f,h]=d;this._scrollToOffset(f,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const g=this.getScrollOffset(),y=this.getOffsetForIndex(r,h);if(!y){console.warn("Failed to get offset for index:",r);return}zO(y[0],g)||c(h)})},c=u=>{this.targetWindow&&(i++,i<a?this.targetWindow.requestAnimationFrame(()=>l(u)):console.warn(`Failed to scroll to index ${r} after ${a} attempts.`))};l(n)},this.scrollBy=(r,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let s;if(n.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((r=n[n.length-1])==null?void 0:r.end)??0;else{const i=Array(this.options.lanes).fill(null);let a=n.length-1;for(;a>=0&&i.some(l=>l===null);){const l=n[a];i[l.lane]===null&&(i[l.lane]=l.end),a--}s=Math.max(...i.filter(l=>l!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:s})=>{this.options.scrollToFn(r,{behavior:s,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const G1=(e,t,r,n)=>{for(;e<=t;){const s=(e+t)/2|0,i=r(s);if(i<n)e=s+1;else if(i>n)t=s-1;else return s}return e>0?e-1:0};function ZO({measurements:e,outerSize:t,scrollOffset:r,lanes:n}){const s=e.length-1,i=c=>e[c].start;if(e.length<=n)return{startIndex:0,endIndex:s};let a=G1(0,s,i,r),l=a;if(n===1)for(;l<s&&e[l].end<r+t;)l++;else if(n>1){const c=Array(n).fill(0);for(;l<s&&c.some(d=>d<r+t);){const d=e[l];c[d.lane]=d.end,l++}const u=Array(n).fill(r+t);for(;a>=0&&u.some(d=>d>=r);){const d=e[a];u[d.lane]=d.start,a--}a=Math.max(0,a-a%n),l=Math.min(s,l+(n-1-l%n))}return{startIndex:a,endIndex:l}}const Ov=typeof document<"u"?m.useLayoutEffect:m.useEffect;function qO(e){const t=m.useReducer(()=>({}),{})[1],r={...e,onChange:(s,i)=>{var a;i?_o.flushSync(t):t(),(a=e.onChange)==null||a.call(e,s,i)}},[n]=m.useState(()=>new KO(r));return n.setOptions(r),Ov(()=>n._didMount(),[]),Ov(()=>n._willUpdate()),n}function GO(e){return qO({observeElementRect:BO,observeElementOffset:WO,scrollToFn:QO,...e})}const YO=12,Un=e=>[ge.SERIES,ge.ANIME,ge.ANIME_MOVIE,ge.FOREIGN_SERIES,ge.ASIAN_SERIES].includes(e.type)||e.type===ge.MOVIE?Array.isArray(e.episodes)&&e.episodes.length>0:!1;function Mv(){var et,Ht;const{id:e}=dm(),t=tj(),[r,n]=ln(),[s,i]=m.useState(!1),[a,l]=m.useState(""),[c,u]=m.useState(null),[d,f]=m.useState(null),[h,g]=m.useState(!1),[y,x]=m.useState(!1),[S,v]=m.useState(new Set),[p,w]=m.useState(!1),[N,_]=m.useState(!1);m.useState(YO),m.useState(!1);const{toast:E}=ul(),C=m.useRef(null),R=jb(),O=Sb(),M=vt(),Q=m.useRef(null),L=m.useRef(null),K=m.useRef(null);m.useRef(null);const P=r.startsWith("/series/"),re=P?`/api/series/${e}`:`/api/movie/${e}`,{data:H,isLoading:ie,error:I}=Ut({queryKey:[re],enabled:!!e,staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1}),z={id:"624",title:"Freedom 2024",description:"مستوحاة من أحداث حقيقية، قصة برونو سولاك، أرسين لوبين الحقيقي من القرن العشرين.",descriptionAr:"مستوحاة من أحداث حقيقية، قصة برونو سولاك، أرسين لوبين الحقيقي من القرن العشرين.",poster:"https://web6.topcinema.cam/wp-content/uploads/2024/11/MV5BNWU3NzdjY2EtOGJhZC00MzM5LWExNjctNjZhMDc5Zjc2YzQ2XkEyXkFqcGc@.jpg_V1_SX700-439x650.jpg",backdrop:"https://web6.topcinema.cam/wp-content/uploads/2024/11/MV5BNWU3NzdjY2EtOGJhZC00MzM5LWExNjctNjZhMDc5Zjc2YzQ2XkEyXkFqcGc@.jpg_V1_SX700-439x650.jpg",watchUrl:"https://vidtube.pro/embed-q10ze7w2kxnp.html",servers:[{name:"سيرفر 1",url:"https://vidtube.pro/embed-q10ze7w2kxnp.html"},{name:"سيرفر 2",url:"https://updown.icu/embed-9gbd8qcwfhnq-1280x640.html"}],year:"2024",duration:"1 ساعة و 50 دقيقة",rating:"5.9",category:"Biography, Crime, Drama",type:"movie",genre:"Biography",isNew:!0,isPopular:!1,isFeatured:!1,isTrending:!1,trailerUrl:"",episodes:null,episodeCount:null,seasons:null,createdAt:new Date};m.useEffect(()=>M?void 0:(()=>{const k=Q.current;if(!k)return;const T=new MutationObserver(W=>{W.forEach(V=>{if(V.type==="attributes"&&V.attributeName==="src"){const D=V.target.src;d&&!D.includes(d.url)&&console.warn("Iframe src changed unexpectedly:",D)}})});return T.observe(k,{attributes:!0,attributeFilter:["src"]}),()=>{T.disconnect()}})(),[d,M]),m.useEffect(()=>{const F=H||z;F!=null&&F.episodes&&Array.isArray(F.episodes)&&F.episodes.length>0?(u(F.episodes[0]),f(F.episodes[0].servers[0])):(F==null?void 0:F.type)==="movie"&&(F!=null&&F.servers)&&Array.isArray(F.servers)&&F.servers.length>0&&f(F.servers[0])},[H]),m.useEffect(()=>{if(!(H!=null&&H.id))return;const F=setTimeout(()=>{O.mutate({mediaId:H.id,progress:0})},1e3);return()=>clearTimeout(F)},[H==null?void 0:H.id]);const A=H||z,le=P?`/api/series/${e}/recommendations`:`/api/movie/${e}/recommendations`,{data:we,isLoading:ht,error:mt}=Ut({queryKey:[le],queryFn:async()=>{const F=await fetch(le);if(!F.ok)throw new Error("Failed to fetch recommendations");return F.json()},enabled:!!e&&!!H,retry:1,staleTime:10*60*1e3,gcTime:15*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!1,retryDelay:F=>Math.min(1e3*2**F,5e3)}),Oe=we??(F=>{var W,V;const b=[{id:"rec1",title:"Breaking Bad",description:"مدرس كيمياء يبدأ في تصنيع المخدرات",descriptionAr:"مدرس كيمياء يبدأ في تصنيع المخدرات مع طالب سابق",poster:"https://via.placeholder.com/300x450?text=Breaking+Bad",backdrop:"https://via.placeholder.com/1920x1080?text=Breaking+Bad",type:F.type,genre:F.genre||"drama",category:"crime, drama, thriller",year:"2008",rating:"9.5",duration:"47 دقيقة",watchUrl:F.type==="movie"?"https://example.com/movie1":null,servers:F.type==="movie"?[{name:"سيرفر 1",url:"https://example.com/movie1"}]:null,episodes:F.type==="series"?[]:null,episodeCount:F.type==="series"?62:null,seasons:F.type==="series"?5:null,trailerUrl:null,isNew:!1,isTrending:!0,isPopular:!0,isFeatured:!0,createdAt:new Date},{id:"rec2",title:"Better Call Saul",description:"قصة المحامي سول جودمان قبل أحداث بريكنغ باد",descriptionAr:"قصة المحامي سول جودمان قبل أحداث بريكنغ باد",poster:"https://via.placeholder.com/300x450?text=Better+Call+Saul",backdrop:"https://via.placeholder.com/1920x1080?text=Better+Call+Saul",type:F.type,genre:F.genre||"drama",category:"crime, drama, legal",year:"2015",rating:"8.8",duration:"45 دقيقة",watchUrl:F.type==="movie"?"https://example.com/movie2":null,servers:F.type==="movie"?[{name:"سيرفر 1",url:"https://example.com/movie2"}]:null,episodes:F.type==="series"?[]:null,episodeCount:F.type==="series"?63:null,seasons:F.type==="series"?6:null,trailerUrl:null,isNew:!1,isTrending:!1,isPopular:!0,isFeatured:!1,createdAt:new Date},{id:"rec3",title:"Ozark",description:"عائلة تنتقل لغسل الأموال في منطقة أوزارك",descriptionAr:"عائلة تنتقل لغسل الأموال في منطقة أوزارك",poster:"https://via.placeholder.com/300x450?text=Ozark",backdrop:"https://via.placeholder.com/1920x1080?text=Ozark",type:F.type,genre:F.genre||"drama",category:"crime, drama, thriller",year:"2017",rating:"8.4",duration:"50 دقيقة",watchUrl:F.type==="movie"?"https://example.com/movie3":null,servers:F.type==="movie"?[{name:"سيرفر 1",url:"https://example.com/movie3"}]:null,episodes:F.type==="series"?[]:null,episodeCount:F.type==="series"?44:null,seasons:F.type==="series"?4:null,trailerUrl:null,isNew:!1,isTrending:!0,isPopular:!0,isFeatured:!1,createdAt:new Date},{id:"rec4",title:"Narcos",description:"قصة كارتلات المخدرات في كولومبيا",descriptionAr:"قصة كارتلات المخدرات في كولومبيا",poster:"https://via.placeholder.com/300x450?text=Narcos",backdrop:"https://via.placeholder.com/1920x1080?text=Narcos",type:F.type,genre:F.genre||"drama",category:"crime, drama, biography",year:"2015",rating:"8.8",duration:"49 دقيقة",watchUrl:F.type==="movie"?"https://example.com/movie4":null,servers:F.type==="movie"?[{name:"سيرفر 1",url:"https://example.com/movie4"}]:null,episodes:F.type==="series"?[]:null,episodeCount:F.type==="series"?30:null,seasons:F.type==="series"?3:null,trailerUrl:null,isNew:!1,isTrending:!1,isPopular:!0,isFeatured:!1,createdAt:new Date}],k=((W=F.genre)==null?void 0:W.toLowerCase())||"",T=((V=F.category)==null?void 0:V.toLowerCase())||"";return b.filter(D=>{var ze,st;if(D.type!==F.type)return!1;const q=((ze=D.genre)==null?void 0:ze.toLowerCase())||"",he=((st=D.category)==null?void 0:st.toLowerCase())||"";return q.includes(k)||k.includes(q)||he.includes(T)||T.includes(he)})})(A),Ae=m.useMemo(()=>(A==null?void 0:A.episodes)||[],[A==null?void 0:A.episodes]),xr=GO({count:Ae.length,getScrollElement:()=>C.current,estimateSize:()=>M?180:220,overscan:M?8:5,enabled:Ae.length>0});if(m.useEffect(()=>{const F=new URLSearchParams(t),b=H||z;F.get("autoplay")==="true"&&(c?yt(c):(b==null?void 0:b.type)==="movie"&&d&&wr())},[c,d,t]),ie)return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:s,onClose:()=>i(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${s?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>i(!0),searchQuery:a,onSearchChange:l}),o.jsx("main",{className:"p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx(J,{className:"h-96 w-full rounded-xl"}),o.jsx(J,{className:"h-8 w-3/4"}),o.jsx(J,{className:"h-4 w-1/2"})]})}),M&&o.jsx(Ge,{})]})]});if(I&&!z)return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:s,onClose:()=>i(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${s?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>i(!0),searchQuery:a,onSearchChange:l}),o.jsx("main",{className:"p-4",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-lg text-muted-foreground",children:"لم يتم العثور على المحتوى المطلوب"}),o.jsx(lt,{href:"/",children:o.jsx(X,{className:"mt-4",children:"العودة للرئيسية"})})]})}),M&&o.jsx(Ge,{})]})]});function yt(F,b){if(!F.servers||F.servers.length===0){E({title:"خطأ",description:"لا توجد سيرفرات متاحة لهذه الحلقة",variant:"destructive"});return}const k=`/series/${e}/episode/${F.number}?autoplay=true`;n(k),E({title:"بدء التشغيل",description:`انتقال إلى ${F.title}`})}function wr(){const F=H||z;if(!(F!=null&&F.servers)||!Array.isArray(F.servers)||F.servers.length===0){E({title:"خطأ",description:"لا توجد سيرفرات متاحة لهذا الفيلم",variant:"destructive"});return}g(!0),$(),E({title:"بدء التشغيل",description:`بدء تشغيل ${F.title}`})}function $r(){const F=H||z;!(F!=null&&F.servers)||!d||p||(Ce(),L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{v(b=>{var W;const k=new Set(b);k.add(d.url);const T=((W=F.servers)==null?void 0:W.filter(V=>!k.has(V.url)))||[];if(T.length>0){const V=T[0];f(V),$(),E({title:"تم التبديل تلقائياً",description:`جاري المحاولة مع ${V.name}`})}else w(!0),E({title:"فشل في تحميل جميع السيرفرات",description:"يرجى المحاولة لاحقاً أو اختيار فيلم آخر",variant:"destructive"});return k})},1e3))}const St=async()=>{try{await R.mutateAsync({mediaId:A.id,action:N?"remove":"add"}),_(!N),E({title:N?"تم الحذف من المفضلة":"تم الإضافة للمفضلة",description:A.title})}catch{E({title:"خطأ",description:"حدث خطأ في تحديث المفضلة",variant:"destructive"})}},br=()=>{x(!y),E({title:y?"تم إيقاف التكرار اليدوي":"تم تفعيل التكرار اليدوي",description:y?"سيتم تشغيل الحلقة مرة واحدة":"يمكنك الآن إعادة تشغيل الحلقة يدوياً"})};function $(){K.current&&clearTimeout(K.current),K.current=setTimeout(()=>{Pe()},1e4)}function Ce(){K.current&&(clearTimeout(K.current),K.current=null)}function Pe(){const F=H||z;if((F==null?void 0:F.type)==="movie"){$r();return}!c||!d||p||(Ce(),L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{v(b=>{const k=new Set(b);k.add(d.url);const T=c.servers.filter(W=>!k.has(W.url));if(T.length>0){const W=T[0];f(W),$(),E({title:"تم التبديل تلقائياً",description:`جاري المحاولة مع ${W.name}`})}else w(!0),E({title:"فشل في تحميل جميع السيرفرات",description:"يرجى المحاولة لاحقاً أو اختيار حلقة أخرى",variant:"destructive"});return k})},1e3))}const Ye=()=>{Ce(),L.current&&clearTimeout(L.current),d!=null&&d.url&&(v(new Set([d.url])),w(!1))},It=()=>{Q.current&&(Ce(),L.current&&(clearTimeout(L.current),L.current=null),$(),Q.current.src=Q.current.src,E({title:"تم إعادة تشغيل الحلقة",description:"بدء الحلقة من جديد"}))};return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:s,onClose:()=>i(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${s?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>i(!0),searchQuery:a,onSearchChange:l}),o.jsxs("main",{className:"p-3 sm:p-4 md:p-6",children:[o.jsxs("div",{className:"mb-3 sm:mb-4 flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-muted-foreground overflow-x-auto scrollbar-hide",children:[o.jsx(lt,{href:"/",children:o.jsx("span",{className:"hover:text-foreground cursor-pointer whitespace-nowrap",children:"الرئيسية"})}),o.jsx(jn,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),o.jsx(lt,{href:A.type==="movie"?"/movies":"/series",children:o.jsx("span",{className:"hover:text-foreground cursor-pointer whitespace-nowrap",children:A.type==="movie"?"الأفلام":A.type==="anime"?"الأنمي":A.type==="anime_movie"?"أفلام الأنمي":A.type==="foreign_series"?"المسلسلات الأجنبية":A.type==="asian_series"?"المسلسلات الآسيوية":"المسلسلات"})}),o.jsx(jn,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),o.jsx("span",{className:"text-foreground truncate",children:A.title})]}),o.jsx("div",{className:"relative rounded-lg sm:rounded-xl overflow-hidden mb-4 sm:mb-6 lg:mb-8",children:o.jsxs("div",{className:"h-96 sm:h-96 md:h-80 lg:h-96 bg-cover bg-center relative",style:{backgroundImage:`url(${A.backdrop||A.poster||A.backdropUrl||A.posterUrl})`},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/50 to-black/30"}),o.jsxs("div",{className:"md:hidden absolute inset-0 flex flex-col justify-end p-4 pb-8",children:[o.jsxs("div",{className:"flex gap-3 mb-3",children:[o.jsx("img",{src:A.poster||A.posterUrl,alt:A.title,className:"w-36 h-52 object-cover rounded-lg shadow-2xl flex-shrink-0 border-2 border-white/20",loading:"eager",decoding:"async","data-testid":"movie-poster"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h1",{className:"text-xl font-bold text-white mb-2 leading-tight","data-testid":"movie-title",children:A.title}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-1 bg-black/30 backdrop-blur-sm px-2 py-1 rounded-md",children:[o.jsx(nc,{className:"w-3 h-3 text-yellow-400 fill-current"}),o.jsx("span",{className:"text-white font-medium",children:A.rating})]}),o.jsxs("div",{className:"flex items-center gap-1 bg-black/30 backdrop-blur-sm px-2 py-1 rounded-md",children:[o.jsx(vs,{className:"w-3 h-3 text-white/80"}),o.jsx("span",{className:"text-white/80",children:A.year})]}),o.jsxs("div",{className:"flex items-center gap-1 bg-black/30 backdrop-blur-sm px-2 py-1 rounded-md",children:[o.jsx(Wc,{className:"w-3 h-3 text-white/80"}),o.jsx("span",{className:"text-white/80",children:A.duration})]})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:(et=A.category)==null?void 0:et.split(",").slice(0,2).map((F,b)=>o.jsx(Tt,{variant:"secondary",className:"bg-white/20 text-white text-xs px-2 py-0.5",children:F.trim()},b))}),Un(A)&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-white/80 bg-black/30 backdrop-blur-sm px-2 py-1 rounded-md inline-flex",children:[o.jsx($i,{className:"w-3 h-3"}),o.jsxs("span",{children:[A.episodes.length," حلقة"]})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[Un(A)&&c&&d&&o.jsxs(X,{className:"flex-1 bg-primary hover:bg-primary/90 text-white font-semibold h-11 shadow-lg",onClick:()=>yt(c),"data-testid":"play-button",children:[o.jsx(_r,{className:"w-5 h-5 mr-1 fill-current"}),o.jsx("span",{className:"text-sm",children:"تشغيل"})]}),A.type==="movie"&&A.servers&&Array.isArray(A.servers)&&A.servers.length>0&&o.jsxs(X,{className:"flex-1 bg-primary hover:bg-primary/90 text-white font-semibold h-11 shadow-lg",onClick:wr,"data-testid":"play-movie-button",children:[o.jsx(_r,{className:"w-5 h-5 mr-1 fill-current"}),o.jsx("span",{className:"text-sm",children:"تشغيل"})]}),o.jsxs(X,{variant:"outline",className:`flex-1 border-2 text-white hover:bg-white/10 backdrop-blur-sm h-11 font-semibold shadow-lg ${N?"bg-primary/30 border-primary":"border-white/30"}`,onClick:St,"data-testid":"favorite-button",children:[o.jsx(mo,{className:`w-5 h-5 mr-1 ${N?"fill-current text-primary":""}`}),o.jsx("span",{className:"text-sm",children:N?"المفضلة":"مفضلة"})]})]})]}),o.jsx("div",{className:"hidden md:block absolute bottom-0 left-0 right-0 p-6 lg:p-8",children:o.jsxs("div",{className:"flex gap-6",children:[o.jsx("img",{src:A.poster||A.posterUrl,alt:A.title,className:"w-32 h-48 lg:w-48 lg:h-72 object-cover rounded-lg shadow-2xl",loading:"eager",decoding:"async","data-testid":"movie-poster"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-3xl lg:text-5xl font-bold text-white mb-2 leading-tight","data-testid":"movie-title",children:A.title}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(nc,{className:"w-5 h-5 text-yellow-400 fill-current"}),o.jsx("span",{className:"text-white font-medium",children:A.rating})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(vs,{className:"w-4 h-4 text-white/80"}),o.jsx("span",{className:"text-white/80",children:A.year})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Wc,{className:"w-4 h-4 text-white/80"}),o.jsx("span",{className:"text-white/80",children:A.duration})]}),Un(A)&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx($i,{className:"w-4 h-4 text-white/80"}),o.jsxs("span",{className:"text-white/80",children:[A.episodes.length," حلقة"]})]})]}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:(Ht=A.category)==null?void 0:Ht.split(",").slice(0,4).map((F,b)=>o.jsx(Tt,{variant:"secondary",className:"bg-white/20 text-white text-sm",children:F.trim()},b))}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[Un(A)&&c&&d&&o.jsxs(X,{size:"lg",className:"bg-primary hover:bg-primary/90",onClick:()=>yt(c),"data-testid":"play-button",children:[o.jsx(_r,{className:"w-5 h-5 mr-2"}),"تشغيل ",c.title]}),A.type==="movie"&&A.servers&&Array.isArray(A.servers)&&A.servers.length>0&&o.jsxs(X,{size:"lg",className:"bg-primary hover:bg-primary/90",onClick:wr,"data-testid":"play-movie-button",children:[o.jsx(_r,{className:"w-5 h-5 mr-2"}),"تشغيل الفيلم"]}),o.jsxs(X,{variant:"outline",size:"lg",className:`border-white/30 text-white hover:bg-white/10 ${N?"bg-blue-500/20 border-blue-400":""}`,onClick:St,"data-testid":"favorite-button",children:[o.jsx(mo,{className:`w-5 h-5 mr-2 ${N?"fill-current text-blue-400":""}`}),N?"إزالة من المفضلة":"إضافة للمفضلة"]})]})]})]})})]})}),o.jsxs(PO,{defaultValue:"overview",className:"w-full",children:[o.jsxs(W1,{className:`grid w-full h-auto p-1.5 ${Un(A)?"grid-cols-3":"grid-cols-2"} gap-1`,children:[o.jsx(uc,{value:"overview",className:"text-sm py-3 px-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground rounded-md transition-all duration-200",children:"نظرة عامة"}),Un(A)&&o.jsx(uc,{value:"episodes",className:"text-sm py-3 px-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground rounded-md transition-all duration-200",children:"الحلقات"}),o.jsx(uc,{value:"recommendations",className:"text-sm py-3 px-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground rounded-md transition-all duration-200",children:Un(A)?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"block md:hidden",children:"المقترحات"}),o.jsx("span",{className:"hidden md:block",children:"اقتراحات مشابهة"})]}):"اقتراحات مشابهة"})]}),o.jsxs(dc,{value:"overview",className:"space-y-4 sm:space-y-6",children:[o.jsxs(Re,{children:[o.jsx(Ar,{className:"pb-3 sm:pb-6",children:o.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:"القصة"})}),o.jsx(Ke,{className:"pt-0",children:o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground leading-relaxed","data-testid":"movie-description",children:A.description})})]}),o.jsxs(Re,{children:[o.jsx(Ar,{className:"pb-3 sm:pb-6",children:o.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:"التفاصيل"})}),o.jsx(Ke,{className:"pt-0 space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-3 sm:gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-muted-foreground mb-1",children:"العنوان الأصلي"}),o.jsx("p",{children:A.title})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-muted-foreground mb-1",children:"سنة الإنتاج"}),o.jsx("p",{children:A.year})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-muted-foreground mb-1",children:"التقييم"}),o.jsxs("p",{className:"flex items-center gap-1",children:[o.jsx(nc,{className:"w-4 h-4 text-yellow-400 fill-current"}),A.rating]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-muted-foreground mb-1",children:"المدة"}),o.jsx("p",{children:A.duration})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-muted-foreground mb-1",children:"النوع"}),o.jsx("p",{children:A.type==="movie"?"فيلم":A.type==="series"?"مسلسل":A.type})]}),A.type==="series"&&Array.isArray(A.episodes)&&A.episodes.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-muted-foreground mb-1",children:"عدد الحلقات"}),o.jsxs("p",{children:[A.episodes.length," حلقة"]})]})]})})]}),h&&d&&(c||A.type==="movie")&&o.jsxs(Re,{children:[o.jsx(Ar,{className:"pb-4",children:o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("h3",{className:"text-xl font-bold",children:"مشغل الفيديو"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ca,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"تكرار يدوي"})]}),o.jsx(au,{checked:y,onCheckedChange:br,"data-testid":"loop-toggle"})]})]})}),o.jsxs(Ke,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fs,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium",children:"اختر السيرفر المناسب:"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:flex lg:flex-wrap gap-2",children:(A.type==="movie"?A.servers||[]:(c==null?void 0:c.servers)||[]).map((b,k)=>o.jsxs(X,{size:"default",variant:(d==null?void 0:d.url)===b.url?"default":"outline",onClick:()=>{L.current&&(clearTimeout(L.current),L.current=null),f(b),v(T=>new Set(T).add(b.url)),w(!1),$(),E({title:"تم التبديل للسيرفر",description:b.name})},"data-testid":`server-button-${k}`,className:`h-12 text-sm font-medium ${(d==null?void 0:d.url)===b.url?"bg-primary text-primary-foreground border-primary":"border-border hover:border-primary/50 hover:bg-primary/5"} transition-all duration-200`,children:[o.jsx(Fs,{className:"w-4 h-4 mr-2"}),b.name,(d==null?void 0:d.url)===b.url&&o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"})]},k))}),(A.type==="movie"?A.servers||[]:(c==null?void 0:c.servers)||[]).length>1&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"💡 يمكنك تجربة سيرفر آخر إذا واجهت مشاكل في التحميل"})]}),o.jsxs("div",{className:"aspect-video w-full video-player-container rounded-lg overflow-hidden bg-black",children:[o.jsx("iframe",{ref:Q,src:d.url,className:"w-full h-full border-0 video-player-iframe",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen; web-share",sandbox:"allow-same-origin allow-scripts allow-forms allow-presentation",loading:"lazy",referrerPolicy:d.url.includes("vidtube.pro")?"no-referrer":"no-referrer-when-downgrade",title:c?c.title:A.title,"data-testid":"video-player",onError:Pe,onLoad:Ye,style:{filter:"none",background:"#000",border:"none",outline:"none",display:"block"}},d.url),o.jsx("div",{className:"mt-3 sm:mt-4 p-3 sm:p-4 bg-muted/30 rounded-lg border border-border/50",children:o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx($i,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"font-medium",children:"الآن يتم تشغيل:"}),o.jsx("span",{className:"text-muted-foreground",children:c?c.title:A.title})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Fs,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"text-muted-foreground",children:d.name})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"السيرفر محمي من الإعلانات والنوافذ المنبثقة"}),o.jsx("div",{className:"flex items-center gap-1 text-xs text-green-600 dark:text-green-400",children:"✓ محمي من الإعلانات"})]})]})}),y&&o.jsx("div",{className:"p-3 bg-primary/10 rounded-lg border border-primary/20",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary",children:[o.jsx(ca,{className:"w-4 h-4"}),o.jsx("span",{children:"تم تفعيل التكرار اليدوي - اضغط الزر أدناه لإعادة التشغيل"})]})}),y&&o.jsxs(X,{onClick:It,variant:"outline",size:"sm","data-testid":"restart-episode-button",children:[o.jsx(ca,{className:"w-4 h-4 mr-2"}),"إعادة تشغيل الحلقة"]})]})]})]})]}),Un(A)&&o.jsx(dc,{value:"episodes",className:"space-y-4 sm:space-y-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:"الحلقات"}),o.jsxs(Tt,{variant:"secondary",className:"bg-primary/20 text-primary text-xs sm:text-sm",children:[Ae.length," حلقة"]})]}),Ae.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:"لا توجد حلقات متاحة"})}):o.jsx("div",{ref:C,className:"space-y-4",style:{height:M?"600px":"800px",overflow:"auto"},children:o.jsx("div",{style:{height:`${xr.getTotalSize()}px`,width:"100%",position:"relative",minHeight:"100px"},children:Ae.length>0&&xr.getVirtualItems().map(F=>{var k;const b=Ae[F.index];return b?o.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${F.size}px`,transform:`translateY(${F.start}px)`,paddingBottom:"8px"},children:o.jsxs("div",{className:"episode-card group relative bg-card hover:bg-card/80 rounded-xl border border-border/50 overflow-hidden hover:border-primary/30 transition-all duration-200 h-full","data-testid":`episode-card-${b.number}`,children:[o.jsx("div",{className:"md:hidden",children:o.jsxs("div",{className:"flex gap-4 p-3 cursor-pointer active:scale-[0.98] transition-transform",onClick:()=>b.servers&&b.servers.length>0&&yt(b),children:[o.jsxs("div",{className:"episode-thumbnail relative w-24 h-36 flex-shrink-0 overflow-hidden rounded-lg shadow-lg border-2 border-primary/20",children:[o.jsx("img",{src:A.poster||A.posterUrl||fa,alt:`${A.title} - الحلقة ${b.number}`,className:"w-full h-full object-cover",loading:"lazy",decoding:"async"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),o.jsx("div",{className:"absolute top-2 right-2 z-10",children:o.jsx("div",{className:"bg-primary text-primary-foreground px-2.5 py-1 rounded-lg text-sm font-bold shadow-lg",children:b.number})}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"bg-primary/95 backdrop-blur-sm rounded-full p-3 shadow-2xl ring-2 ring-white/30",children:o.jsx(_r,{className:"w-6 h-6 text-white fill-current"})})})]}),o.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between py-1",children:[o.jsxs("div",{children:[o.jsx("div",{className:"flex items-start gap-2 mb-2",children:o.jsx("h4",{className:"text-base font-bold line-clamp-2 flex-1","data-testid":`episode-title-${b.number}`,children:b.title})}),o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("div",{className:"flex items-center gap-1 text-xs bg-primary/10 border border-primary/20 px-2 py-1 rounded-md",children:o.jsxs("span",{className:"font-semibold text-primary",children:["الحلقة ",b.number]})}),b.servers&&b.servers.length>0&&o.jsxs("div",{className:"flex items-center gap-1 text-xs bg-primary/10 border border-primary/20 px-2 py-1 rounded-md",children:[o.jsx(Fs,{className:"w-3 h-3 text-primary"}),o.jsx("span",{className:"text-primary font-semibold",children:b.servers.length})]})]})]}),o.jsx("div",{children:b.servers&&b.servers.length>0?o.jsxs(X,{onClick:T=>{T.stopPropagation(),yt(b)},className:"w-full bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary text-primary-foreground h-11 font-bold shadow-lg",size:"sm","data-testid":`play-episode-${b.number}`,children:[o.jsx(_r,{className:"w-5 h-5 mr-2 fill-current"}),"تشغيل الآن"]}):o.jsx(X,{variant:"secondary",disabled:!0,size:"sm",className:"w-full h-11",children:"غير متاحة"})})]})]})}),o.jsxs("div",{className:"hidden md:flex cursor-pointer",onClick:()=>b.servers&&b.servers.length>0&&yt(b),children:[o.jsxs("div",{className:"episode-thumbnail relative w-40 h-full overflow-hidden flex-shrink-0",children:[o.jsx("img",{src:A.poster||A.posterUrl||fa,alt:`${A.title} - الحلقة ${b.number}`,className:"w-full h-full object-cover",loading:"lazy",decoding:"async"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/20 via-black/40 to-black/60"}),o.jsx("div",{className:"absolute top-2 right-2 z-10",children:o.jsx("div",{className:"bg-primary text-primary-foreground px-2 py-1 rounded text-sm font-bold",children:b.number})}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-black/50",children:o.jsx("div",{className:"bg-white rounded-full p-3 transform scale-90 group-hover:scale-100 transition-transform",children:o.jsx(_r,{className:"w-6 h-6 text-black fill-current"})})})]}),o.jsxs("div",{className:"flex-1 p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-lg font-semibold mb-1 group-hover:text-primary transition-colors","data-testid":`episode-title-${b.number}`,children:b.title}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["الحلقة ",b.number," • ",A.title]})]}),o.jsxs(Tt,{variant:"outline",className:"ml-3",children:[((k=b.servers)==null?void 0:k.length)||0," سيرفر"]})]}),o.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed mb-4 line-clamp-2",children:`استمتع بمشاهدة ${b.title} من ${A.title} مع جودة عالية وبدون إعلانات مزعجة.`}),o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"h-1 bg-muted rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-primary/30 rounded-full",style:{width:"0%"}})})}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"45 دقيقة"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:b.servers&&b.servers.length>0?o.jsxs(X,{onClick:T=>{T.stopPropagation(),yt(b)},className:"bg-primary hover:bg-primary/90 text-primary-foreground",size:"sm","data-testid":`play-episode-${b.number}`,children:[o.jsx(_r,{className:"w-4 h-4 mr-2"}),"تشغيل الآن"]}):o.jsx(X,{variant:"secondary",disabled:!0,size:"sm",children:"غير متاح"})}),b.servers&&b.servers.length>1&&o.jsx("div",{className:"mt-4 pt-4 border-t border-border/30",children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground mr-2",children:"السيرفرات المتاحة:"}),b.servers.map((T,W)=>o.jsx(Tt,{variant:"secondary",className:"text-xs cursor-pointer hover:bg-primary/20 hover:text-primary transition-colors",onClick:V=>{V.stopPropagation(),yt(b)},children:T.name},W))]})})]})]})]})},F.key):null})})},`episodes-${Ae.length}`)]})}),o.jsx(dc,{value:"recommendations",className:"space-y-4 sm:space-y-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h3",{className:"text-lg sm:text-xl font-bold flex items-center gap-2",children:[o.jsx(ua,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),"اقتراحات مشابهة"]}),o.jsxs(Tt,{variant:"secondary",className:"bg-primary/20 text-primary text-xs sm:text-sm",children:[Oe.length," ",A.type==="movie"?"فيلم":"مسلسل"]})]}),o.jsxs("p",{className:"text-muted-foreground text-xs sm:text-sm",children:[A.type==="movie"?"أفلام":"مسلسلات"," مشابهة لـ ",A.title," قد تستمتع بمشاهدتها"]}),ht?o.jsxs("div",{className:"space-y-4","data-testid":"status-recommendations-loading",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"جاري البحث عن محتوى مشابه..."]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-5 gap-2 sm:gap-3 lg:gap-4",children:Array.from({length:M?4:8}).map((F,b)=>o.jsxs("div",{className:"space-y-2 animate-pulse",children:[o.jsx(J,{className:"h-48 sm:h-56 md:h-64 w-full rounded-lg"}),o.jsx(J,{className:"h-3 sm:h-4 w-3/4"}),o.jsx(J,{className:"h-2 sm:h-3 w-1/2"})]},b))})]}):mt?o.jsx(Re,{className:"border-destructive/20 bg-destructive/5","data-testid":"status-recommendations-error",children:o.jsx(Ke,{className:"p-6 text-center",children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-destructive/10 flex items-center justify-center mx-auto",children:o.jsx("svg",{className:"w-6 h-6 text-destructive",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h4",{className:"text-lg font-medium",children:"خطأ في تحميل الاقتراحات"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"حدث خطأ أثناء جلب المحتوى المشابه. يرجى المحاولة مرة أخرى."}),o.jsx(X,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),className:"mt-3",children:"إعادة المحاولة"})]})})}):Oe&&Oe.length>0?o.jsxs("div",{className:"space-y-4","data-testid":"status-recommendations-success",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["تم العثور على ",Oe.length," عنصر مشابه"]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-5 gap-2 sm:gap-3 lg:gap-4",children:Oe.map((F,b)=>o.jsx("div",{className:"transform transition-all duration-300 hover:scale-105",style:{animationDelay:`${b*50}ms`},children:o.jsx(Ve,{media:F,size:"default","data-testid":`recommendation-${F.id}`})},F.id))})]}):o.jsx(Re,{className:"bg-muted/30","data-testid":"status-recommendations-empty",children:o.jsx(Ke,{className:"p-8 text-center",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mx-auto",children:o.jsx(ua,{className:"w-8 h-8 text-muted-foreground"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-lg font-medium",children:"لا توجد اقتراحات متاحة حالياً"}),o.jsxs("p",{className:"text-muted-foreground text-sm max-w-md mx-auto",children:["نعمل على إضافة المزيد من المحتوى المشابه لـ ",A.title," قريباً. في هذه الأثناء، يمكنك تصفح أقسام أخرى."]})]}),o.jsx("div",{className:"flex justify-center gap-2 pt-2",children:o.jsx(X,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(lt,{href:A.type==="movie"?"/movies":"/series",children:["تصفح المزيد من ",A.type==="movie"?"الأفلام":"المسلسلات"]})})})]})})}),o.jsx(Re,{className:"bg-muted/20 border-primary/20",children:o.jsx(Ke,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(ua,{className:"w-5 h-5 text-primary mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("h4",{className:"font-medium text-sm",children:"كيف نختار الاقتراحات؟"}),o.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"نقترح عليك محتوى مشابه بناءً على النوع، التصنيف، والتقييم لضمان تجربة مشاهدة ممتعة"})]})]})})})]})})]})]}),M&&o.jsx(Ge,{})]})]})}function XO(){const{seriesId:e,episodeNumber:t}=dm(),[,r]=ln(),[n,s]=m.useState(!1),[i,a]=m.useState(""),[l,c]=m.useState(null),[u,d]=m.useState(!1),[f,h]=m.useState(new Set),[g,y]=m.useState(!1),[x,S]=m.useState(!0),{toast:v}=ul(),p=vt(),w=m.useRef(null),N=m.useRef(null),_=m.useRef(null),E=m.useRef(null),C=m.useRef(null),R=m.useRef(null),O=m.useRef(0),M=m.useRef(null),{data:Q,isLoading:L,error:K}=Ut({queryKey:["/api/series",e,"episodes",t],enabled:!!e&&!!t,staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1}),P=Q==null?void 0:Q.episode,re=Q==null?void 0:Q.series,H=(re==null?void 0:re.episodes)||[],ie=H.findIndex($=>$.number===parseInt(t||"1")),I=ie>0?H[ie-1]:null,z=ie<H.length-1?H[ie+1]:null,{data:A,isLoading:le,error:we}=Ut({queryKey:["/api/media/recommendations",e],queryFn:async()=>{const $=await fetch(`/api/media/recommendations/${e}`);if(!$.ok&&$.status!==304)throw new Error("Failed to fetch recommendations");return $.status===304?[]:$.json()},enabled:!!e,retry:1,staleTime:10*60*1e3,gcTime:15*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!1,retryDelay:$=>Math.min(1e3*2**$,5e3)}),ht=$=>{var It,et;if(!$)return[];const Ce=[{id:"rec-series-1",title:"روما",description:"مسلسل تاريخي يحكي قصة الإمبراطورية الرومانية",descriptionAr:"مسلسل تاريخي يحكي قصة الإمبراطورية الرومانية",poster:"https://via.placeholder.com/300x450?text=Rome",backdrop:"https://via.placeholder.com/1920x1080?text=Rome",type:"series",genre:"دراما",category:"مسلسلات تاريخية",year:"2005",rating:"9.0",duration:"55 دقيقة",episodes:[],episodeCount:22,seasons:2,trailerUrl:null,isNew:!1,isTrending:!0,isPopular:!0,isFeatured:!1,createdAt:new Date,servers:[],watchUrl:null},{id:"rec-series-2",title:"الفايكنغ",description:"مسلسل تاريخي عن محاربي الفايكنغ",descriptionAr:"مسلسل تاريخي عن محاربي الفايكنغ",poster:"https://via.placeholder.com/300x450?text=Vikings",backdrop:"https://via.placeholder.com/1920x1080?text=Vikings",type:"series",genre:"دراما",category:"مسلسلات تاريخية",year:"2013",rating:"8.5",duration:"45 دقيقة",episodes:[],episodeCount:89,seasons:6,trailerUrl:null,isNew:!1,isTrending:!1,isPopular:!0,isFeatured:!1,createdAt:new Date,servers:[],watchUrl:null}],Pe=((It=$.genre)==null?void 0:It.toLowerCase())||"",Ye=((et=$.category)==null?void 0:et.toLowerCase())||"";return Ce.filter(Ht=>{var k,T;if(Ht.type!==$.type)return!1;const F=((k=Ht.genre)==null?void 0:k.toLowerCase())||"",b=((T=Ht.category)==null?void 0:T.toLowerCase())||"";return F.includes(Pe)||Pe.includes(F)||b.includes(Ye)||Ye.includes(b)}).slice(0,6)},mt=p?3:6,Pt=(A??ht(re)).slice(0,mt);m.useEffect(()=>{if(P!=null&&P.servers&&P.servers.length>0){const $=P.servers[0];c($),R.current=$,h(new Set([$.url])),setTimeout(()=>{Oe($.url)},1e3)}},[P]),m.useEffect(()=>()=>{Ae(),N.current&&(clearTimeout(N.current),N.current=null),M.current&&(clearTimeout(M.current),M.current=null)},[]),m.useEffect(()=>p?void 0:(()=>{const Pe=w.current;if(!Pe)return;const Ye=new MutationObserver(It=>{It.forEach(et=>{if(et.type==="attributes"&&et.attributeName==="src"){const Ht=et.target.src;l&&!Ht.includes(l.url)&&console.warn("Iframe src changed unexpectedly:",Ht)}})});return Ye.observe(Pe,{attributes:!0,attributeFilter:["src"]}),()=>{Ye.disconnect()}})(),[l,p]);const Oe=$=>{if(!x||p)return;_.current&&clearTimeout(_.current),E.current&&clearInterval(E.current),C.current=$;const Ce=$.includes("vidtube.pro"),Pe=$.includes("mega.nz"),Ye=$.includes("videa.hu"),It=$.includes("dailymotion"),et=$.includes("4shared.com"),Ht=$.includes("ok.ru"),F=$.includes("myanimelist.");O.current=0;let b=0,k=8;Ce?k=15:Pe||Ye?k=12:It||et||Ht?k=10:F&&(k=6);const T=setInterval(()=>{b++;const V=C.current,D=R.current;if(V!==$||!D||D.url!==$){console.log("Server changed, stopping checks for:",$),clearInterval(T);return}console.log(`Server check ${b}/${k} for:`,D==null?void 0:D.name);const q=w.current;if(q&&q.contentWindow)try{q.contentWindow.postMessage("ping","*")}catch{console.log("Cannot communicate with iframe (expected for external domains)")}if(b>=k){console.log(`Auto-switching after ${k} checks for:`,D==null?void 0:D.name),clearInterval(T),xr();return}},5e3);E.current=T;const W=setTimeout(()=>{const V=C.current,D=R.current;if(V===$&&D&&D.url===$){const q=w.current;if(q)try{if(!(q.contentDocument||q.contentWindow)){console.log("Iframe blocked immediately, switching server:",D==null?void 0:D.name),clearInterval(T),xr();return}}catch{}}},Ce?15e3:Pe||Ye||It?12e3:1e4);_.current=W},Ae=()=>{_.current&&(clearTimeout(_.current),_.current=null),E.current&&(clearInterval(E.current),E.current=null),C.current=null},xr=()=>{if(!P||!l||g||!x)return;console.log("Server error detected, switching from:",l.name),console.log("Tried servers:",Array.from(f)),console.log("Retry count:",O.current);const $=l.url.includes("vidtube.pro"),Ce=l.url.includes("mega.nz"),Pe=l.url.includes("videa.hu"),Ye=l.url.includes("dailymotion"),It=l.url.includes("4shared.com"),et=l.url.includes("ok.ru"),Ht=l.url.includes("myanimelist.");if(O.current<1){O.current++,console.log(`Retrying server ${l.name} (attempt ${O.current})`),setTimeout(()=>{w.current&&l&&(w.current.src=l.url,Oe(l.url))},2e3),v({title:"إعادة محاولة",description:`جاري إعادة المحاولة مع ${l.name}...`});return}const b=P.servers.filter(k=>!f.has(k.url));if(b.length>0){const k=b[0];console.log("Switching to server:",k.name),c(k),R.current=k,h(W=>new Set(W).add(k.url)),O.current=0,Oe(k.url);let T=`${l.name} لا يعمل - تم التبديل إلى ${k.name}`;$?T=`${l.name} قد يحتاج وقت أطول للتحميل - تم التبديل إلى ${k.name}`:Ce?T=`${l.name} (Mega.nz) قد يكون محجوب - تم التبديل إلى ${k.name}`:Pe?T=`${l.name} (Videa.hu) قد يحتاج إلغاء حجب الإعلانات - تم التبديل إلى ${k.name}`:Ye?T=`${l.name} (Dailymotion) قد يحتاج انتظار انتهاء الإعلانات - تم التبديل إلى ${k.name}`:It||et?T=`${l.name} قد يحتاج تسجيل دخول - تم التبديل إلى ${k.name}`:Ht&&(T=`${l.name} (CDN) قد يكون غير متاح مؤقتاً - تم التبديل إلى ${k.name}`),v({title:"تبديل السيرفر",description:T})}else y(!0),Ae(),v({title:"خطأ في التشغيل",description:"جميع السيرفرات غير متاحة حالياً. جرب إعادة تحميل الصفحة أو اضغط 'الفيديو يعمل' إذا كان يعمل بالفعل.",variant:"destructive"})},yt=$=>{d($),!$&&M.current?(clearTimeout(M.current),M.current=null,v({title:"تم إلغاء التشغيل التلقائي",description:"تم إيقاف العد التنازلي للحلقة التالية"})):v({title:$?"تم تفعيل التشغيل التلقائي":"تم إلغاء التشغيل التلقائي",description:$?"سيتم تشغيل الحلقة التالية تلقائياً":"لن يتم تشغيل الحلقة التالية تلقائياً"})},wr=$=>{S($),$?l&&Oe(l.url):Ae(),v({title:$?"تم تفعيل التبديل التلقائي":"تم إلغاء التبديل التلقائي",description:$?"سيتم تبديل السيرفرات تلقائياً عند الحاجة":"لن يتم تبديل السيرفرات تلقائياً"})},$r=()=>{!l||!P||(Ae(),N.current&&(clearTimeout(N.current),N.current=null),h(new Set([l.url])),y(!1),O.current=0,w.current&&(w.current.src=l.url),x&&Oe(l.url),v({title:"إعادة تحميل",description:"جاري إعادة تحميل الحلقة..."}))},St=$=>{re&&(Ae(),r(`/series/${re.id}/episode/${$.number}?autoplay=true`),v({title:"انتقال للحلقة",description:`الحلقة ${$.number}: ${$.title}`}))},br=()=>{if(!z||!u)return;M.current&&(clearTimeout(M.current),M.current=null);const $=5;v({title:"تشغيل تلقائي",description:`سيتم تشغيل الحلقة التالية خلال ${$} ثواني...`,duration:$*1e3}),M.current=setTimeout(()=>{u&&z&&St(z),M.current=null},$*1e3)};return L?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:n,onClose:()=>s(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${n?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>s(!0),searchQuery:i,onSearchChange:a}),o.jsx("main",{className:"p-4",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),o.jsx("div",{className:"aspect-video bg-muted rounded"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"h-8 bg-muted rounded w-20"}),o.jsx("div",{className:"h-8 bg-muted rounded w-20"})]})]})}),p&&o.jsx(Ge,{})]})]}):K||!P||!re?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:n,onClose:()=>s(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${n?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>s(!0),searchQuery:i,onSearchChange:a}),o.jsx("main",{className:"p-4",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"الحلقة غير موجودة"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"لم يتم العثور على الحلقة المطلوبة"}),o.jsx(lt,{href:`/series/${e}`,children:o.jsxs(X,{children:[o.jsx(Qg,{className:"w-4 h-4 mr-2"}),"العودة للسلسلة"]})})]})}),p&&o.jsx(Ge,{})]})]}):o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:n,onClose:()=>s(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${n?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>s(!0),searchQuery:i,onSearchChange:a}),o.jsxs("main",{className:"p-2 sm:p-4 space-y-4 sm:space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx(lt,{href:`/series/${e}`,children:o.jsxs(X,{variant:"ghost",size:"sm",children:[o.jsx(Qg,{className:"w-4 h-4 mr-2"}),"العودة للسلسلة"]})})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2","data-testid":"episode-title",children:P.title}),o.jsxs("p",{className:"text-muted-foreground text-base md:text-lg",children:["من مسلسل ",re.title]})]})}),o.jsxs(Re,{children:[o.jsxs(Ar,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[o.jsx("h3",{className:"text-lg md:text-xl font-bold",children:"المشغل"}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ca,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"تشغيل تلقائي"}),o.jsx(au,{checked:u,onCheckedChange:yt,"data-testid":"loop-toggle"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fs,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"تبديل تلقائي"}),o.jsx(au,{checked:x,onCheckedChange:wr,"data-testid":"auto-switch-toggle"})]})]})]}),o.jsx(Ke,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:P.servers.map(($,Ce)=>o.jsxs(X,{size:"sm",variant:(l==null?void 0:l.url)===$.url?"default":"outline",onClick:()=>{N.current&&(clearTimeout(N.current),N.current=null),c($),R.current=$,h(Pe=>new Set(Pe).add($.url)),y(!1),Oe($.url),v({title:"تم التبديل للسيرفر",description:$.name})},"data-testid":`server-button-${Ce}`,className:"flex-1 min-w-[100px] sm:flex-none text-xs sm:text-sm min-h-[44px] sm:min-h-auto",children:[o.jsx(Fs,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),$.name,f.has($.url)&&(l==null?void 0:l.url)!==$.url&&o.jsx("span",{className:"text-xs opacity-60 mr-1 hidden sm:inline",children:"(مجرب)"})]},Ce))}),o.jsxs("div",{className:"text-xs text-muted-foreground mb-4 space-y-2 px-1",children:[o.jsx("div",{className:"flex items-start gap-2",children:o.jsxs("span",{className:"leading-relaxed",children:["💡 ",x?'سيتم مراقبة السيرفر تلقائياً. أوقات المراقبة: Vidtube (75 ثانية)، Mega.nz/Videa (60 ثانية)، Dailymotion/4shared/OK.ru (50 ثانية)، MyAnimeList (30 ثانية)، الأخرى (40 ثانية). إذا ظهر الفيديو اضغط "الفيديو يعمل".':"المراقبة التلقائية معطلة. استخدم الأزرار لتبديل السيرفرات يدوياً."]})}),l&&x&&(l.url.includes("vidtube.pro")?o.jsx("div",{className:"flex items-start gap-2 text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950/30 p-2 rounded-md",children:o.jsx("span",{className:"leading-relaxed",children:'🔧 Vidtube.pro قد يحتاج وقت أطول للتحميل. إذا رأيت الفيديو يعمل، اضغط "الفيديو يعمل" فوراً'})}):l.url.includes("mega.nz")?o.jsx("div",{className:"flex items-start gap-2 text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-950/30 p-2 rounded-md",children:o.jsx("span",{className:"leading-relaxed",children:"📁 Mega.nz - خدمة تخزين ملفات. قد يحتاج تحديث الصفحة إذا لم يظهر الفيديو"})}):l.url.includes("videa.hu")?o.jsx("div",{className:"flex items-start gap-2 text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-950/30 p-2 rounded-md",children:o.jsx("span",{className:"leading-relaxed",children:"🎬 Videa.hu - منصة فيديو مجرية. قد تحتاج إلى إلغاء حجب الإعلانات"})}):l.url.includes("dailymotion")?o.jsx("div",{className:"flex items-start gap-2 text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-950/30 p-2 rounded-md",children:o.jsx("span",{className:"leading-relaxed",children:"📺 Dailymotion - منصة فيديو فرنسية. قد تظهر إعلانات قبل الفيديو"})}):l.url.includes("4shared.com")||l.url.includes("ok.ru")?o.jsx("div",{className:"flex items-start gap-2 text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950/30 p-2 rounded-md",children:o.jsx("span",{className:"leading-relaxed",children:"⚠️ هذا السيرفر قد يحتاج تسجيل دخول أو يحتوي على إعلانات كثيرة"})}):l.url.includes("myanimelist.")?o.jsx("div",{className:"flex items-start gap-2 text-teal-600 dark:text-teal-400 bg-teal-50 dark:bg-teal-950/30 p-2 rounded-md",children:o.jsx("span",{className:"leading-relaxed",children:"🗃️ MyAnimeList CDN - مصدر محتوى مباشر"})}):null)]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[x&&o.jsx(X,{variant:"default",size:"sm",onClick:()=>{Ae(),S(!1),v({title:"ممتاز! الفيديو يعمل",description:"تم إيقاف التبديل التلقائي - استمتع بالمشاهدة!",duration:3e3})},"data-testid":"video-working-button",className:"bg-green-600 hover:bg-green-700 w-full sm:w-auto flex-1 sm:flex-none min-h-[44px] text-sm",children:"✓ الفيديو يعمل"}),l&&P.servers.length>1&&o.jsxs(X,{variant:"outline",size:"sm",onClick:()=>{const Ce=(P.servers.findIndex(Ye=>Ye.url===l.url)+1)%P.servers.length,Pe=P.servers[Ce];Ae(),c(Pe),R.current=Pe,h(Ye=>new Set(Ye).add(Pe.url)),y(!1),O.current=0,x&&Oe(Pe.url),v({title:"تم التبديل يدوياً",description:`تم التبديل إلى ${Pe.name}`})},"data-testid":"manual-switch-button",className:"w-full sm:w-auto flex-1 sm:flex-none min-h-[44px] text-sm",children:[o.jsx(Fs,{className:"w-4 h-4 mr-2"}),"جرب سرفر آخر"]})]}),l&&o.jsx("div",{className:"aspect-video w-full max-w-4xl mx-auto video-player-container relative rounded-lg overflow-hidden bg-black",children:l.url.includes("mega.nz")||l.url.includes("videa.hu")?o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white bg-gray-900",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"text-lg font-bold",children:l.url.includes("mega.nz")?"📁 Mega.nz":"🎬 Videa.hu"}),o.jsx("p",{className:"text-sm text-gray-300 max-w-md",children:l.url.includes("mega.nz")?"هذا السيرفر لا يدعم العرض المدمج. يرجى فتح الرابط في نافذة جديدة":"هذا السيرفر قد يحتاج إلى فتح في نافذة منفصلة لتجنب حجب الإعلانات"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(X,{onClick:()=>window.open(l.url,"_blank","noopener,noreferrer"),className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":"open-external-button",children:"فتح في نافذة جديدة"}),o.jsx("div",{className:"text-xs text-gray-400",children:"سيتم فتح الفيديو في نافذة منفصلة"})]})]}),o.jsx("iframe",{ref:w,src:l.url,className:"hidden",onLoad:()=>{console.log("Hidden iframe loaded for:",l.name)}})]}):o.jsx("iframe",{ref:w,src:l.url,frameBorder:"0",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen; web-share",sandbox:"allow-same-origin allow-scripts allow-forms allow-presentation",referrerPolicy:l.url.includes("vidtube.pro")||l.url.includes("updown.icu")||l.url.includes("mega.nz")||l.url.includes("videa.hu")||l.url.includes("dailymotion")||l.url.includes("4shared.com")||l.url.includes("ok.ru")||l.url.includes("myanimelist.")?"no-referrer":"no-referrer-when-downgrade",loading:"lazy",onError:$=>{console.error("Iframe error detected for server:",l.name,$),console.log("Iframe failed to load, may be blocked by X-Frame-Options"),(l.url.includes("dailymotion")||l.url.includes("4shared.com")||l.url.includes("ok.ru")||l.url.includes("myanimelist."))&&xr()},onLoad:$=>{console.log("Iframe loaded successfully for server:",l.name),setTimeout(()=>{try{const Ce=$.target;console.log("Checking iframe content for:",l.name),v({title:"السرفر جاهز",description:`${l.name} - إذا لم يظهر الفيديو جرب سيرفر آخر`})}catch{console.log("Cannot access iframe content (expected for cross-origin)")}},1e3)},"data-testid":"video-player",className:"video-player-iframe absolute inset-0 w-full h-full rounded-lg border-0",style:{background:"#000",border:"none",outline:"none",display:"block"}})}),g&&o.jsxs(X,{onClick:$r,variant:"outline",className:"w-full","data-testid":"reload-episode-button",children:[o.jsx(ca,{className:"w-4 h-4 mr-2"}),"إعادة تشغيل الحلقة"]})]})})]}),H.length>1&&o.jsxs(Re,{children:[o.jsx(Ar,{children:o.jsx("h3",{className:"text-lg font-bold",children:"حلقات المسلسل"})}),o.jsx(Ke,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between bg-muted/30 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:P==null?void 0:P.number}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:P==null?void 0:P.title}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["الحلقة ",P==null?void 0:P.number," من ",H.length]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(X,{variant:"outline",size:"sm",onClick:()=>I&&St(I),disabled:!I,"data-testid":"previous-episode-button",className:"h-8 w-8 p-0",children:o.jsx(GC,{className:"w-4 h-4"})}),o.jsx(X,{variant:"outline",size:"sm",onClick:()=>z&&St(z),disabled:!z,"data-testid":"next-episode-button",className:"h-8 w-8 p-0",children:o.jsx(mn,{className:"w-4 h-4"})})]})]}),z&&u&&o.jsx("div",{className:"bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800 p-3 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Kg,{className:"w-4 h-4 text-green-600"}),o.jsxs("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:["الحلقة التالية: ",z.title]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(X,{size:"sm",variant:"outline",onClick:br,className:"text-green-700 border-green-300 hover:bg-green-100","data-testid":"test-autoplay-button",children:"جرب التشغيل التلقائي"}),o.jsxs(X,{size:"sm",onClick:()=>St(z),className:"bg-green-600 hover:bg-green-700 text-white","data-testid":"play-next-episode-button",children:[o.jsx(_r,{className:"w-3 h-3 mr-1"}),"تشغيل الآن"]})]})]})}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:H.map($=>o.jsxs(X,{variant:$.number===(P==null?void 0:P.number)?"default":"outline",size:"sm",onClick:()=>$.number!==(P==null?void 0:P.number)&&St($),disabled:$.number===(P==null?void 0:P.number),"data-testid":`episode-nav-${$.number}`,className:"flex flex-col h-16 p-2 text-xs",children:[o.jsx("span",{className:"font-bold",children:$.number}),o.jsx("span",{className:"text-xs opacity-70 truncate max-w-full",title:$.title,children:$.title.length>8?$.title.substring(0,8)+"...":$.title})]},$.number))}),(I||z)&&o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-2",children:[I&&o.jsxs(X,{variant:"outline",onClick:()=>St(I),className:"flex-1","data-testid":"previous-episode-full-button",children:[o.jsx(nT,{className:"w-4 h-4 mr-2"}),"الحلقة السابقة: ",I.title]}),z&&o.jsxs(X,{variant:"outline",onClick:()=>St(z),className:"flex-1","data-testid":"next-episode-full-button",children:["الحلقة التالية: ",z.title,o.jsx(Kg,{className:"w-4 h-4 ml-2"})]})]})]})})]}),re&&o.jsxs(Re,{className:"mt-6",children:[o.jsxs(Ar,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[o.jsx(ua,{className:"w-5 h-5 text-primary"}),"مسلسلات مشابهة"]}),o.jsxs(Tt,{variant:"secondary",className:"bg-primary/20 text-primary",children:[Pt.length," مسلسل"]})]}),o.jsxs("p",{className:"text-muted-foreground text-sm",children:["مسلسلات مشابهة لـ ",re.title," قد تستمتع بمشاهدتها"]})]}),o.jsx(Ke,{children:le?o.jsxs("div",{className:"space-y-4","data-testid":"status-recommendations-loading",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"جاري البحث عن مسلسلات مشابهة..."]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:Array.from({length:6}).map(($,Ce)=>o.jsxs("div",{className:"space-y-2 animate-pulse",children:[o.jsx(J,{className:"h-48 w-full rounded-lg"}),o.jsx(J,{className:"h-4 w-3/4"}),o.jsx(J,{className:"h-3 w-1/2"})]},Ce))})]}):we?o.jsx(Re,{className:"border-destructive/20 bg-destructive/5","data-testid":"status-recommendations-error",children:o.jsx(Ke,{className:"p-6 text-center",children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-destructive/10 flex items-center justify-center mx-auto",children:o.jsx("svg",{className:"w-6 h-6 text-destructive",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h4",{className:"text-lg font-medium",children:"خطأ في تحميل الاقتراحات"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"حدث خطأ أثناء جلب المسلسلات المشابهة. يرجى المحاولة مرة أخرى."}),o.jsx(X,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),className:"mt-3",children:"إعادة المحاولة"})]})})}):Pt&&Pt.length>0?o.jsxs("div",{className:"space-y-4","data-testid":"status-recommendations-success",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["تم العثور على ",Pt.length," مسلسل مشابه"]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:Pt.map(($,Ce)=>o.jsx("div",{className:"transform transition-all duration-300 hover:scale-105",style:{animationDelay:`${Ce*100}ms`},children:o.jsx(Ve,{media:$,size:"default","data-testid":`recommendation-${$.id}`})},$.id))})]}):o.jsx(Re,{className:"bg-muted/30","data-testid":"status-recommendations-empty",children:o.jsx(Ke,{className:"p-6 text-center",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center mx-auto",children:o.jsx(ua,{className:"w-6 h-6 text-muted-foreground"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-lg font-medium",children:"لا توجد اقتراحات متاحة حالياً"}),o.jsxs("p",{className:"text-muted-foreground text-sm max-w-md mx-auto",children:["نعمل على إضافة المزيد من المسلسلات المشابهة لـ ",re.title," قريباً."]})]}),o.jsx(X,{variant:"outline",size:"sm",asChild:!0,children:o.jsx(lt,{href:"/series",children:"تصفح المزيد من المسلسلات"})})]})})})})]})]}),p&&o.jsx(Ge,{})]})]})}function JO(){const[e]=ln(),[t,r]=m.useState(""),[n,s]=m.useState(!1),i=vt();m.useEffect(()=>{const f=new URLSearchParams(window.location.search).get("q")||"";r(f)},[e]);const{data:a=[],isLoading:l,error:c}=Nb(t),u=()=>o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:Array.from({length:10}).map((d,f)=>o.jsxs("div",{className:"space-y-3",children:[o.jsx(J,{className:"h-64 w-full rounded-lg"}),o.jsx(J,{className:"h-4 w-3/4"}),o.jsx(J,{className:"h-3 w-1/2"})]},f))});return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:n,onClose:()=>s(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${n?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>s(!0),searchQuery:t,onSearchChange:r}),o.jsxs("main",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ui,{className:"w-5 h-5 text-muted-foreground"}),o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"نتائج البحث"})]}),t&&o.jsxs(Tt,{variant:"secondary",className:"text-sm",children:['البحث عن: "',t,'"']})]}),!l&&a.length>0&&o.jsxs("div",{className:"text-muted-foreground",children:["تم العثور على ",a.length," نتيجة"]}),l&&o.jsx(u,{}),c&&o.jsx(Re,{className:"p-8 text-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx(dl,{className:"w-12 h-12 text-destructive"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"خطأ في البحث"}),o.jsx("p",{className:"text-muted-foreground",children:"حدث خطأ أثناء البحث. يرجى المحاولة مرة أخرى."})]})}),!l&&!c&&t&&a.length===0&&o.jsx(Re,{className:"p-8 text-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx(Ui,{className:"w-12 h-12 text-muted-foreground"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"لا توجد نتائج"}),o.jsxs("p",{className:"text-muted-foreground",children:['لم نجد أي نتائج تطابق بحثك "',t,'". جرب كلمات مختلفة.']})]})}),!t&&o.jsx(Re,{className:"p-8 text-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx(Ui,{className:"w-12 h-12 text-muted-foreground"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"ابدأ البحث"}),o.jsx("p",{className:"text-muted-foreground",children:"ابحث عن الأفلام والمسلسلات المفضلة لديك"})]})}),!l&&!c&&a.length>0&&o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:a.map(d=>o.jsx(Ve,{media:d,"data-testid":`search-result-${d.id}`},d.id))})]}),i&&o.jsx(Ge,{})]})]})}const Lv=24;function e4(){const[e,t]=m.useState(!1);m.useState(),m.useState();const[r,n]=m.useState(""),[s,i]=m.useState(Lv),a=vt(),{data:l=[],isLoading:c}=wb(),u=m.useMemo(()=>r?l.filter(g=>g.title.toLowerCase().includes(r.toLowerCase())||g.descriptionAr&&g.descriptionAr.includes(r)):l,[l,r]),d=m.useMemo(()=>u.slice(0,s),[u,s]),f=d.length<u.length,h=()=>{i(g=>g+Lv)};return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:e,onClose:()=>t(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${e?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>t(!0),searchQuery:r,onSearchChange:n}),o.jsxs("main",{className:"p-4",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2","data-testid":"trending-page-title",children:"الأكثر شعبية"}),o.jsx("p",{className:"text-muted-foreground",children:"اكتشف أحدث المحتوى الأكثر مشاهدة ومتابعة"})]}),r&&o.jsx("div",{className:"mb-6",children:o.jsxs("p",{className:"text-muted-foreground","data-testid":"search-results-count",children:['نتائج البحث عن "',r,'"']})}),c?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6",children:Array.from({length:12}).map((g,y)=>o.jsxs("div",{className:"space-y-3",children:[o.jsx(J,{className:"w-full aspect-[2/3] rounded-lg"}),o.jsx(J,{className:"h-4 w-3/4"}),o.jsx(J,{className:"h-3 w-1/2"})]},y))}):u.length===0?o.jsx("div",{className:"text-center py-12","data-testid":"no-trending-message",children:o.jsx("p",{className:"text-muted-foreground text-lg",children:r?"لم يتم العثور على محتوى يطابق بحثك":"لا يوجد محتوى شائع متاح"})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6 fade-in",children:d.map(g=>o.jsx(Ve,{media:g},g.id))}),f&&o.jsx("div",{className:"flex justify-center mt-8 mb-4",children:o.jsx(X,{onClick:h,variant:"outline",size:"lg",className:"px-8","data-testid":"button-load-more",children:"تحميل المزيد"})})]})]}),a&&o.jsx(Ge,{})]})]})}const Dv=24;function t4(){const[e,t]=m.useState(!1),[r,n]=m.useState(""),[s,i]=m.useState(Dv),a=vt(),{data:l=[],isLoading:c}=bb(),u=m.useMemo(()=>r?l.filter(g=>g.title.toLowerCase().includes(r.toLowerCase())||g.descriptionAr&&g.descriptionAr.includes(r)):l,[l,r]),d=m.useMemo(()=>u.slice(0,s),[u,s]),f=d.length<u.length,h=()=>{i(g=>g+Dv)};return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:e,onClose:()=>t(!1)}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${e?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>t(!0),searchQuery:r,onSearchChange:n}),o.jsxs("main",{className:"p-4",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2","data-testid":"new-releases-page-title",children:"الإصدارات الجديدة"}),o.jsx("p",{className:"text-muted-foreground",children:"اكتشف أحدث الأفلام والمسلسلات التي تم إصدارها مؤخراً"})]}),r&&o.jsx("div",{className:"mb-6",children:o.jsxs("p",{className:"text-muted-foreground","data-testid":"search-results-count",children:['نتائج البحث عن "',r,'"']})}),c?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 md:gap-4",children:Array.from({length:12}).map((g,y)=>o.jsxs("div",{className:"space-y-2 md:space-y-3",children:[o.jsx(J,{className:"w-full aspect-[2/3] rounded-lg"}),o.jsx(J,{className:"h-3 md:h-4 w-3/4"}),o.jsx(J,{className:"h-2 md:h-3 w-1/2"})]},y))}):u.length===0?o.jsx("div",{className:"text-center py-12","data-testid":"no-releases-message",children:o.jsx("p",{className:"text-muted-foreground text-lg",children:r?"لم يتم العثور على إصدارات تطابق بحثك":"لا توجد إصدارات جديدة متاحة"})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 md:gap-4 fade-in",children:d.map(g=>o.jsx(Ve,{media:g},g.id))}),f&&o.jsx("div",{className:"flex justify-center mt-8 mb-4",children:o.jsx(X,{onClick:h,variant:"outline",size:"lg",className:"px-8","data-testid":"button-load-more",children:"تحميل المزيد"})})]})]}),a&&o.jsx(Ge,{})]})]})}function r4(){const[e,t]=m.useState(!1),[r,n]=m.useState(),[s,i]=m.useState(),[a,l]=m.useState(""),c=vt(),{data:u=[],isLoading:d}=bR(),f=a?u.filter(h=>h.media.titleAr.includes(a)||h.media.title.toLowerCase().includes(a.toLowerCase())):u;return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx(Ze,{isOpen:e,onClose:()=>t(!1),selectedYear:r,onYearChange:n,selectedGenre:s,onGenreChange:i}),o.jsxs("div",{className:`min-h-screen pb-20 md:pb-0 transition-all duration-300 ${e?"md:mr-64 lg:mr-72":""}`,children:[o.jsx(qe,{onToggleSidebar:()=>t(!0),searchQuery:a,onSearchChange:l}),o.jsxs("main",{className:"p-4",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2","data-testid":"continue-watching-page-title",children:"متابعة المشاهدة"}),o.jsx("p",{className:"text-muted-foreground",children:"استكمل مشاهدة الأفلام والمسلسلات من حيث توقفت"})]}),a&&o.jsx("div",{className:"mb-6",children:o.jsxs("p",{className:"text-muted-foreground","data-testid":"search-results-count",children:['نتائج البحث عن "',a,'"']})}),d?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6",children:Array.from({length:12}).map((h,g)=>o.jsxs("div",{className:"space-y-3",children:[o.jsx(J,{className:"w-full aspect-[2/3] rounded-lg"}),o.jsx(J,{className:"h-4 w-3/4"}),o.jsx(J,{className:"h-3 w-1/2"})]},g))}):f.length===0?o.jsx("div",{className:"text-center py-12","data-testid":"no-continue-watching-message",children:o.jsx("p",{className:"text-muted-foreground text-lg",children:a?"لم يتم العثور على محتوى يطابق بحثك":"لا توجد عناصر في قائمة المتابعة"})}):o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 lg:gap-5 xl:gap-6 fade-in",children:f.map(h=>o.jsxs("div",{className:"space-y-3",children:[o.jsx(Ve,{media:h.media,showProgress:!0,progress:h.progress||0,currentEpisode:h.currentEpisode||void 0,currentSeason:h.currentSeason||void 0}),o.jsx("div",{className:"px-1",children:o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("div",{className:"flex-1 h-1 bg-muted rounded",children:o.jsx("div",{className:"h-full bg-primary rounded transition-all duration-300",style:{width:`${h.progress}%`}})}),o.jsxs("span",{className:"text-xs text-muted-foreground","data-testid":`progress-${h.id}`,children:[h.progress,"%"]})]})})]},h.id))})]}),c&&o.jsx(Ge,{})]})]})}function n4(){const[e]=ln();return m.useEffect(()=>{window.scrollTo(0,0)},[e]),null}function s4(){return o.jsxs(o.Fragment,{children:[o.jsx(n4,{}),o.jsxs(sj,{children:[o.jsx(tt,{path:"/",component:xP}),o.jsx(tt,{path:"/movies",component:wP}),o.jsx(tt,{path:"/series",component:bP}),o.jsx(tt,{path:"/anime",component:NP}),o.jsx(tt,{path:"/anime-movies",component:SP}),o.jsx(tt,{path:"/foreign-series",component:_P}),o.jsx(tt,{path:"/asian-series",component:jP}),o.jsx(tt,{path:"/categories",component:kP}),o.jsx(tt,{path:"/years",component:EP}),o.jsx(tt,{path:"/favorites",component:CP}),o.jsx(tt,{path:"/watch-history",component:TP}),o.jsx(tt,{path:"/profile",component:gO}),o.jsx(tt,{path:"/search",component:JO}),o.jsx(tt,{path:"/trending",component:e4}),o.jsx(tt,{path:"/new-releases",component:t4}),o.jsx(tt,{path:"/continue-watching",component:r4}),o.jsx(tt,{path:"/movie/:id",component:Mv}),o.jsx(tt,{path:"/series/:id",component:Mv}),o.jsx(tt,{path:"/series/:seriesId/episode/:episodeNumber",component:XO}),o.jsx(tt,{component:xR})]})]})}function i4(){return o.jsx(gR,{children:o.jsx(_j,{client:XE,children:o.jsxs(hR,{children:[o.jsx($T,{}),o.jsx(s4,{})]})})})}function o4(){if(typeof window>"u")return;const e=window.open,t=[];window.open=function(i,a,l){const c=(i==null?void 0:i.toString())||"";return c.includes("ad")||c.includes("popup")||c.includes("banner")||c.includes("promo")||c.includes("doubleclick")||c.includes("googlesyndication")||c.includes("adserver")||c.includes("advertisement")||c.includes("sponsor")?(console.warn("Blocked popup attempt:",c),t.push(c),null):a==="_blank"&&!c.startsWith(window.location.origin)&&!["mega.nz","videa.hu","dailymotion","4shared.com","ok.ru"].some(h=>c.includes(h))&&c.length>0?(console.warn("Blocked external popup:",c),t.push(c),null):e.call(window,i,a,l)};const r=document.createElement.bind(document);document.createElement=function(i,a){const l=r(i,a);if(i.toLowerCase()==="iframe"){const c=l,u=c.setAttribute.bind(c);c.setAttribute=function(d,f){if(d==="src"&&(f.includes("doubleclick")||f.includes("googlesyndication")||f.includes("/ads/")||f.includes("adserver")||f.includes("advertisement"))){console.warn("Blocked ad iframe:",f);return}return u(d,f)}}return l},document.addEventListener("click",i=>{const a=i.target;if(a.tagName==="A"){const l=a.href;(l.includes("ad")||l.includes("popup")||l.includes("banner")||l.includes("promo"))&&a.getAttribute("target")==="_blank"&&(i.preventDefault(),i.stopPropagation(),console.warn("Blocked ad link click:",l))}},!0),window.addEventListener("beforeunload",i=>{document.querySelector(".video-player-container iframe")&&t.length>0&&console.log(`Blocked ${t.length} popup attempts during this session`)});const n=new MutationObserver(i=>{i.forEach(a=>{a.addedNodes.forEach(l=>{if(l.nodeType===Node.ELEMENT_NODE){const c=l;if(c.tagName==="IFRAME"){const u=c,d=u.src||"";(d.includes("doubleclick")||d.includes("googlesyndication")||d.includes("/ads/")||d.includes("adserver")||d.includes("advertisement"))&&(console.warn("Removed injected ad iframe:",d),u.remove())}(c.classList.contains("popup")||c.classList.contains("ad-overlay")||c.id.includes("ad")||c.id.includes("popup"))&&c.closest(".video-player-container")&&(console.warn("Removed ad overlay from video player"),c.remove())}})})}),s=document.querySelector(".video-player-container");s&&n.observe(s,{childList:!0,subtree:!0}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".video-player-container").forEach(a=>{n.observe(a,{childList:!0,subtree:!0})})}),console.log("Popup blocker initialized successfully")}o4();l0(document.getElementById("root")).render(o.jsx(i4,{}));
